<?php 
include("class/userauthentication.php");


session_start();

//Declaring Variables
$message = "";

        if(isset($_SESSION["id"]))
	{
		  $id = $_SESSION["id"];
                  $usertype = $_SESSION["usertype"];
                  
	}
	else
	{
		header('Location: index.php?message=Unauthorised%20Access%20Prohibited');
	}
        if($usertype == "Admin"){
            $access_rolls = "All";
            $objects_rolls = "All";
        }
       
       //   $access_rolls = $userauthenticationObject->getuserrolls($usertype,"create","ICC",$con);
         //   $objects_rolls = $userauthenticationObject->getuserobjects($usertype,$con);
         //  $access_rolls_array = explode(',',$access_rolls);
        //  $objects_rolls_array = explode(',',$objects_rolls);
           
           function check_rolls($usertype,$access,$objects){
                if($usertype == "Admin"){
                    $user_rolls = "Yes";
                    
                }
                else{
                    $userauthenticationObject = new userauthentication();
                  $user_rolls = $userauthenticationObject->getuserrolls($usertype,$access,$objects);
                }
                
                
           return $user_rolls;
           
           }
        
        ?>

<script type="text/javascript"  >
    
    function checkaunthentic(url,path,divid,rolls){
        
         
         
        <?php 
      
        if($_SESSION["usertype"] == "Admin"){ ?>
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      $(divid).load(url,path);
                    }

                });
       <?php  }
        else{?>
            if(rolls == "yes") {
            
        
                
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      $(divid).load(url,path);
                    }

                });
               
        }
        else {
         alert("You Dont Have Access Towards This Page");
        }
        
        <?php } ?>  
       
    }
    function checkaunthentic_show(divid,rolls){
        
         
         
        <?php 
      
        if($_SESSION["usertype"] == "Admin"){ ?>
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      $(divid).show();
                    }

                });
       <?php  }
        else{?>
            if(rolls == "yes") {
            
        
                
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      $(divid).show();
                    }

                });
               
        }
        else {
         alert("You Dont Have Access Towards This Page");
        }
        
        <?php } ?>  
       
    }
    function checkaunthentic_popup(url,path,divid,rolls,width,height,title){
         
        <?php 
      
        if($_SESSION["usertype"] == "Admin"){ ?>
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                      //  $(divid).html("");
                       /// $(divid).html('<div align ="center" style ="padding-top:200px;"><img src="images/loading1.gif" align ="center"></div>');
                                    },
                    complete: function() {
               
                      
                    },
                   success: function(result) {
                         //$(divid).html("");
                        //$(divid).html('<img style ="padding-top:200px;" src="images/loading1.gif" align ="center">');
                         $(divid).dialog({
                                    width: width,
                                    title: title,
                                    height: height,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {
                                         $(divid).html("");
                        $(divid).html('<div align ="center" style ="padding-top:200px;"><img src="images/loading1.gif" align ="center"></div>');
                        
                                        $(divid).load(url, path);

                                    }

                                });
                    }

                });
       <?php  }
        else{?>
            if(rolls == "yes") {
            
        
                
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        //$(divid).html("");
                       // $(divid).html('<div align ="center" style ="padding-top:200px;"><img src="images/loading1.gif" align ="center"></div>');
                                    },
                    complete: function() {
                        //$(divid).html("");
                       // $(divid).html('<img style ="padding-top:200px;" src="images/loading1.gif" align ="center">');
                    },
                   success: function(result) {
                          $(divid).dialog({
                                    width: width,
                                    title: title,
                                    height: height,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {
$(divid).html("");
                        $(divid).html('<div align ="center" style ="padding-top:200px;"><img src="images/loading1.gif" align ="center"></div>');
                                        $(divid).load(url, path);

                                    }

                                });
                    }

                });
               
        }
        else {
         alert("You Dont Have Access Towards This Page");
        }
        
        <?php } ?>   
    }
      function trim(str) {
         
                    return str.replace(/^\s+|\s+$/g,"");
                           }
                           
                           
	 function loadDistRegistration()
        {
            var url = "addDistributor.php";
            var path = "";
            var divid = "#alter";
          <?php   
          $access = "create";
          $objects = "ICC";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        }
         function viewHelpDesk(ticket_id,fromdate1,todate1,status1,tkt_id1,icp_id1)
    {
         var url = "viewHelpDesk.php";
                  var path = "fromdate1="+fromdate1+"&todate1="+todate1+"&status1="+status1+"&ticket_id="+ticket_id+"&tkt_id="+tkt_id1+"&icp_id="+icp_id1;
                     var divid = "#popup_billprocess";
                     var width = 1100;
                     var height = 600;
                     var title = 'Help Desk Process';
                    <?php   
                    $access = "view";
                     $objects = "HELPDESK";

                      $rolls =  check_rolls($usertype,$access,$objects); 
                    ?>
                          
                     checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);  
         
         
    }
    function searchDistributor()
    {
            var url = "distributorOptions.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICC";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       

    }
     function distributorDetails()
    {
        var distid =$("#searchDistId1").val();
    var location = $("#searchLocation1").val();
    var lastname = $("#searchLast").val();
    var firstName = $("#searchFirst").val();
    
         
           var path = "searchdistId=" + distid + "&searchLocation=" + location + "&fstName=" + firstName + "&lastname=" + lastname;
           
        $('#alter').load("searchDistributor.php",path);
        
         
    }	
     function paymentdetails()
    {

        var distid =$("#distId").val();
        var fromDate = $("#marginFromDate").val();
        var toDate = $("#marginToDate").val();
        
        var path = "distid="+distid+"&fromDate="+fromDate+"&toDate="+toDate;
        $('#alter').load("searchPaymentDetails.php",path);
          
    }
  
 function marginDetails()
    {

        var distid =$("#distId").val();
        var fromDate = $("#marginFromDate").val();
        var toDate = $("#marginToDate").val();
        
        var path = "distid="+distid+"&fromDate="+fromDate+"&toDate="+toDate;
        $('#alter').load("searchDistributorMargin.php",path);
                    
    }
    function collectionDetails()
    {

        var distid =$("#distId").val();
        var fromDate = $("#marginFromDate").val();
        var toDate = $("#marginToDate").val();
        var betid = $("#betid").val();
        
        var path = "distid="+distid+"&fromDate="+fromDate+"&toDate="+toDate+"&betid="+betid;
        $('#alter').load("searchDistributorcollectiondetails.php",path);
                    
    }
    
    function retailersOfDist(distributorid)
    {
var url = "retailersOfDistributor.php";
          var path = "distributorid="+distributorid;
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICC RETAILERS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        
        
        
            
    }
    function beatguysOfDist(distributorid)
    {
            var url = "beatguysOfDistributor.php";
          var path = "distributorid="+distributorid;
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICC BEATGUYS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        
      
        
            
    }
    
    function collectionsOfDist(distributorid)
    {
var url = "collectionsOfDistributor.php";
           var path = "distributorid="+distributorid;
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICC COLLECTIONS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
           
    }
     function distbutordashboard(distributorid)
    {
       // alert('dsgsdg');return false;
     var url = "DistributorDash.php";
           var path = "distributorid="+distributorid;
            var divid = "#alter";
         <?php   
          $access = "view";
          $objects = "ICC DASHBOARD";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
           
    }
	
			
    function loadRetRegistration()
    {  
        var url = "addRetailer.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "create";
          $objects = "ICP";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchRetailer()
    {
        var url = "retailerOptions.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICP";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        }
    
    function retailerDetails()
    {

        var retailerid =$("#searchRetId").val();
        var location = $("#searchRetLocation").val();
        var lastname = $("#rsearchLast").val();
        var firstName = $("#rsearchFirst").val();
        var storename=escape($("#storename").val());
        var distid = $("#distributer_id").val();
        var status_ret = $("#status_ret").val();
         var icp_mode = $("#icp_mode").val();
        var phoneno = $("#phoneno").val();
        var fromDate = $('#prod_from_date').val();
        var toDate = $('#prod_to_date').val();
        var availableLimit = $('#available_limit').val();
        // alert(availableLimit);
      
        var path = "rsearchFirst1="+firstName+"&rsearchLast1="+lastname+"&searchRetId1="+retailerid+"&searchRetLocation1="+location+"&distid="+distid+"&icp_mode="+icp_mode+"&status_ret="+status_ret+"&storename="+storename+"&phoneno="+phoneno+"&fromDate="+fromDate+"&toDate="+toDate+"&availableLimit="+availableLimit;
        $('#alter').load("searchRetailer.php",path);
        
            
    } 	
   function searchdetails(firstName,lastname,retailerid,location,distid,status_ret)
   {
       var path = "rsearchFirst1="+firstName+"&rsearchLast1="+lastname+"&searchRetId1="+retailerid+"&searchRetLocation1="+location+"&distid="+distid+"&status_ret="+status_ret;
        $('#alter').load("searchRetailer.php",path);
   }
   function retailerMarginDetails(retid,earnings_type,fstname,lastname,rid,rlocation,did,rstatus)
    {
        var earnings_type; 
            var url = "searchRetailerMargin.php";
                      var path = "retid="+retid+"&earnings_type="+earnings_type+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
                        var divid = "#alter";
                      <?php   
                       $access = "view";
                       $objects = "ICP MARGINS";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
            
    }
    function retailerDuesDetails(fstname,lastname,rid,rlocation,did,rstatus)
    {

        var retid =$("#retid").val();
        var fromDate = $("#marginRetailerFromDate").val();
        var toDate = $("#marginRetailerToDate").val();
        
        var path = "retid="+retid+"&fromDate="+fromDate+"&toDate="+toDate+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
        //alert(path);
        $('#alter').load("searchRetailerDuesDetails.php",path);
        
          
    }
    function retailersDailysales(retailerid,fstname,lastname,rid,rlocation,did,rstatus)
    {
         var url = "dailySalesOfRetailer.php";
                    var path = "retailerid="+retailerid+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
                        var divid = "#alter";
                      <?php   
                       $access = "view";
                       $objects = "ICP DAILY SALES";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        
        
        
            
    }
    function retailerpaymentDetails(fstname,lastname,rid,rlocation,did,rstatus)
    {

        var date =$("#searchretDate").val();
        var bid = $("#searchbetid").val();
         var retailerid =$("#retailerid").val();
       
        var path = "date="+date+"&bid="+bid+"&retailerid="+retailerid+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
        $('#alter').load("searchRetailerDetails.php",path);
           
    }
    
	function retailerSalesDetails(fstname,lastname,rid,rlocation,did,rstatus)
    {

        var retid =$("#retid").val();
        var date = $("#date").val();
        var servicetype = $("#servicetype").val();
        
        var path = "retid="+retid+"&date="+date+"&servicetype="+servicetype+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
        $('#alter').load("searchRetailerSales.php",path);
        
            
    }	function retailersDailyDues(retailerid,fstname,lastname,rid,rlocation,did,rstatus)
    {
        var path = "retailerid="+retailerid+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
        $('#alter').load("dailyDuesOfRetailer.php",path);
        
            
    }
  	
function retailerOrderDetails(fstname,lastname,rid,rlocation,did,rstatus)
    {
        var path = $('#icp_order_search_frm').serialize();
        var path = path+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
        $('#alter').load("searchOrderDetails.php",path);
            
    }	
     function icpOrders()
    {
 var url = "ICPOrders.php";
                      var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                       $objects = "ORDERS";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    

    }
    function walletreports()
    {
var url = "WalletReports.php";
                      var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                       $objects = "WALLET REPORTS";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        

    }
   
    function icpOrderDetails()
    {
    
     var retailer_id =$("#retailer_id").val();
       
        var fromDate = $("#orderRetailerFromDate").val();
         
        var toDate = $("#orderRetailerToDate").val();
        
        //alert(1);
        var path = "retailer_id="+retailer_id+"&fromDate="+fromDate+"&toDate="+toDate;
        $('#alter').load("ICPOrdersDetails.php",path);
             
    }	
    function icp_OrderDetails()
    {
    
        var retailer_id =$("#retailer_id").val();
       
        var fromDate = $("#orderRetailerFromDate").val();
         
        var toDate = $("#orderRetailerToDate").val();
        
        //alert(1);
        var path = "retailer_id="+retailer_id+"&fromDate="+fromDate+"&toDate="+toDate;
        $('#alter_orders').load("ICP_OrdersDetails.php",path);
             
    }	
    
    function retailerOrders(retailerid,fstname,lastname,rid,rlocation,did,rstatus)
    {
        var url = "ordersOfRetailer.php";
                    var path = "retailerid="+retailerid+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                       $objects = "ICP ORDERS";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
    }
    function vendorsReport()
    {
 var url = "vendorsReport.php";
                      var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                       $objects = "venders";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    

    }
   
    function viewHelpDeskinCancel(ticket_id,fromdate1,todate1,status1,tkt_id1,icp_id1){
    
    var path = "fromdate1="+fromdate1+"&todate1="+todate1+"&status1="+status1+"&ticket_id="+ticket_id+"&tkt_id="+tkt_id1+"&icp_id="+icp_id1;
    $("#popup_billprocess").load("viewHelpDesk.php", path);
    }
    function editHelpDesk(ticket_id,fromdate,todate,status,tkt_id,icp_id)
    {
         if(fromdate == "")
            {
                fromdate = "0000-00-00";
            }
            else
                {
                  fromdate;  
                }
            if(todate == "")
            {
                todate = "0000-00-00";
            }
            else
                {
                    todate;
                }
          var path =  "fromdate="+fromdate+"&todate="+todate+"&status1="+status+"&ticket_id="+ticket_id+"&tkt_id="+tkt_id+"&icp_id="+icp_id;
          var url = "editHelpDesk.php";
                    
                        var divid = "#popup_billprocess";
                      <?php   
                       $access = "edit";
                       $objects = "HELPDESK";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
         
    }
    function retailerAccStatement(retailerid,fstname,lastname,rid,rlocation,did,rstatus)
    {
           var url = "icpAccStatement.php";
                var path = "retailerid="+retailerid+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
                        var divid = "#alter";
                      <?php   
                       $access = "view";
                       $objects = "ICP ACCOUNT STATEMENT";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
            
    }
    
    function loadBeatguyRegistration()
    {
        var url = "addBeatguy1.php";
                    var path = "";
                     var divid = "#alter";
                  <?php   
                   $access = "create";
                   $objects = "BEATGUY";

                   $rolls =  check_rolls($usertype,$access,$objects); 
                  ?>
                   checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
       

    }
	function beatguyDetails()
    {

        var distid =$("#searchbDistId1").val();
        var bid=$("#searchBId1").val();
        var mobile = $("#searchbMobile").val();
        var lastname = $("#searchbLast").val();
        var firstName = $("#searchbFirst").val();
        var path = "searchDistId1="+distid+"&searchBId1="+bid+"&searchbMobile1="+mobile+"&bsearchFirst1="+firstName+"&bsearchLast1="+lastname;
        $('#alter').load("searchBeatguy1.php",path);
        
            
    }	
    function beatguyCollections(betid)
    {
                var url = "beatguycollections.php";
               var path = "betid="+betid;
                var divid = "#alter";
             <?php   
              $access = "collections";
              $objects = "BEATGUY";

              $rolls =  check_rolls($usertype,$access,$objects); 
             ?>
              checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
           
    }
     
    function beatguyCollectionDetails()
    {
    
        var betid =$("#hidBid1").val();
        var fromDate = $("#marginFromDate").val();
        var toDate = $("#marginToDate").val();
        
        var path = "betid="+betid+"&fromDate="+fromDate+"&toDate="+toDate;
        $('#alter').load("searchbeatguycollections.php",path);
          //alert(path);        
    }
    function searchBeatguy()
    {
var url = "beatguyOptions.php";
                    var path = "";
                     var divid = "#alter";
                  <?php   
                   $access = "search";
                   $objects = "BEATGUY";

                   $rolls =  check_rolls($usertype,$access,$objects); 
                  ?>
                   checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       

    }
    function loadAgentRegistration()
    {

        $('#alter').load("addAgent.php");

    }
    
    function searchAgent()
    {

        $('#alter').load("agentOptions.php");

    }
    
    function agentDetails()
    {

        var agentid =$("#searchAgendId").val();
        var location = $("#searchAgentLocation").val();
        var lastname = $("#asearchLast").val();
        var firstName = $("#asearchFirst").val();
        var path = "searchAgentId1="+agentid+"&searchAgentLocation1="+location+"&asearchFirst1="+firstName+"&asearchLast1="+lastname;
        $('#alter').load("searchAgent.php",path);
        
            
    }		
    
    function loadSalesForceRegistration()
    {
        var url = "addSalesforce.php";
               var path = "";
                var divid = "#alter";
             <?php   
              $access = "create";
              $objects = "SALES AGENT";

              $rolls =  check_rolls($usertype,$access,$objects); 
             ?>
              checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
         
	}
        
        function searchSalesforce()
    {
        var url = "searchSalesforce.php";
               var path = "";
                var divid = "#alter";
             <?php   
              $access = "search";
              $objects = "SALES AGENT";

              $rolls =  check_rolls($usertype,$access,$objects); 
             ?>
              checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function salesforceDetails()
    {

        var userid =$("#searchsUserid").val();
        var firstname = $("#searchsFirst").val();
        var lastname = $("#searchsLast").val();
        var mobile = $("#searchsMobile").val();
        var path = "userid=" + userid + "&firstname=" + firstname + "&lastname=" + lastname + "&mobile=" + mobile;
        $('#alter').load("salesforceDetails.php",path);
        
            
    }	
     function loadDeviceRegistration()
    {
        var url = "addDevice.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "create";
       $objects = "DEVICES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
}
    
        function searchDevice()
    {
       var url = "deviceOptions.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "DEVICES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       

    }
	function deviceDetails()
    {

        var manufacturer =$("#texManufature").val();
        var model = $("#texModel").val();
        var imeid = $("#texImeid").val();
        var status = $("#status").val();
        var search_icp_id_device = $("#search_icp_id_device").val();
        var device_from = $("#device_from").val();
          var device_mac = $("#device_mac").val();
        var path = "manufacturer="+manufacturer+"&model="+model+"&imeid="+imeid+"&status="+status+"&search_icp_id_device="+search_icp_id_device+"&device_from="+device_from+"&device_mac="+device_mac;
        $('#alter').load("searchDevice.php",path);
        
            
    }	
    
    function searchBill()
    {
        var url = "searchBill.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "BILLS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       

    }
    function searchBillfullfillment()
    {
        var url = "searchbillsforfulfillment.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "BILLS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
       

    }
    
    function billDetails()
    {
$("#loader").show();
        var fromdate =$("#billFromdate").val();
        var todate = $("#billTodate").val();
         var orderstatus = $("#orderstatus").val();
          var paymentstatus = $("#paymentstatus").val();
          var processstatus = $("#processstatus").val();
            $('#bills').attr('value', 'Searching');
        var path = "fromdate="+fromdate+"&todate="+todate+"&orderstatus="+orderstatus+"&paymentstatus="+paymentstatus+"&processstatus="+processstatus;
        $('#alter').load("searchBillDetails.php",path);
            
    }	
    
    function billDetailsforfulfilment()
    {
            $("#loader").show();
        var order_id = $("#order_id").val();
        var fromdate =$("#billFromdate").val();
        var todate = $("#billTodate").val();
        
          var processstatus = $("#processstatus").val();
            $('#bills').attr('value', 'Searching');
         var path = "fromdate="+fromdate+"&todate="+todate+"&order_id="+order_id+"&processstatus="+processstatus;
         $('#alter').load("billdetailsforfulfillment.php",path);
    }
    
    
    function searchMobReconsullation()
    {
var url = "searchMobileReconsulation.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX RECN";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        

    }
    
   
    function mobileRecDetails()
    {

        var trans_date =$("#trans_date").val();
        var to_date =$("#to_date").val();
        var vendor_name = $("#vendor_name").val();
         var order_status =$("#order_status").val();
        var payment_status = $("#payment_status").val();
        var operator_name = $("#operator_name").val();
        
         $('#mobile_rec').attr('value', 'Searching');
        var path = "trans_date="+trans_date+"&vendor_name="+vendor_name+"&order_status="+order_status+"&payment_status="+payment_status+"&to_date="+to_date+"&operator_name="+operator_name;
        $('#alter').load("searchMobileRecDetails.php",path);
        
            
    }
    function searchBUSReconsullation()
    {
var url = "searchBusReconsulation.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX RECN";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       

    }
   
    function busRecDetails()
    {

        var ipex_order_id_search =$("#ipex_order_id_search").val();
        var client_order_id_search = $("#client_order_id_search").val();
         var booking_date_search_from =$("#booking_date_search_from").val();
        var booking_date_search_to = $("#booking_date_search_to").val();
        var vendor_name_search =$("#vendor_name_search").val();
         var pnr_no_search =$("#pnr_no_search").val();
         var travel_date_search_from =$("#travel_date_search_from").val();
          var travel_date_search_to =$("#travel_date_search_to").val();
           $('#bus_rec').attr('value', 'Searching');
        var path = "ipex_order_id_search="+ipex_order_id_search+"&client_order_id_search="+client_order_id_search+
                "&booking_date_search_from="+booking_date_search_from+"&booking_date_search_to="+booking_date_search_to+
                "&vendor_name_search="+vendor_name_search+"&pnr_no_search="+pnr_no_search
                +"&travel_date_search_from="+travel_date_search_from+"&travel_date_search_to="+travel_date_search_to;
        $('#alter').load("searchBusRecDetails.php",path);
        
            
    }	
    function searchDCReconsullation()
    {
var url = "searchDatacardReconsulation.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX RECN";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        

    }
   
      function datacardRecDetails()
    {

        var trans_date =$("#trans_date").val();
        var vendor_name = $("#vendor_name").val();
         var order_status =$("#order_status").val();
        var payment_status = $("#payment_status").val();
        var to_date =$("#to_date").val();
        var operator_name = $("#operator_name").val();
        $('#datacard_rec').attr('value', 'Searching');
        var path = "trans_date="+trans_date+"&vendor_name="+vendor_name+"&order_status="+order_status+"&payment_status="+payment_status+"&to_date="+to_date+"&operator_name="+operator_name;
        $('#alter').load("searchDatacardRecDetails.php",path);
            
    }
    
     function searchDTHReconsullation()
    {
var url = "searchDTHReconsulation.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX RECN";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        

    }
   
   function dthRecDetails()
    {

        var trans_date =$("#trans_date").val();
        var vendor_name = $("#vendor_name").val();
         var order_status =$("#order_status").val();
        var payment_status = $("#payment_status").val();
        var to_date =$("#to_date").val();
        var operator_name = $("#operator_name").val();
             $('#dth_rec').attr('value', 'Searching');
        var path = "trans_date="+trans_date+"&vendor_name="+vendor_name+"&order_status="+order_status+"&payment_status="+payment_status+"&to_date="+to_date+"&operator_name="+operator_name;
        $('#alter').load("searchDTHRecDetails.php",path);
            
    }
    
    function searchOrders()
    {
         var url = "searchOrders.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ORDERS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        

    }
    function helpDesk()
    {
var path = "";
        var url = "helpdesk.php";
        var divid = "#alter";
          <?php   
           $access = "search";
           $objects = "HELPDESK";

           $rolls =  check_rolls($usertype,$access,$objects); 
          ?>
           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        }
    
     function helpdeskDetails()
    {
        var icp_id =$("#icp_id").val();
         var ticket_type =$("#ticket_type").val();
        var tkt_id =$("#tkt_id").val();
        var fromdate =$("#fromdate").val();
        var closedate =$("#closedate").val();
        var todate = $("#todate").val();
        var status = $("#status").val();
        var icc_id = $("#icc_id").val();
          var order_id = $("#order_id").val();
        var path = "fromdate="+fromdate+"&todate="+todate+"&status="+status+"&icp_id="+icp_id+"&tkt_id="+tkt_id+"&icc_id="+icc_id+"&closedate="+closedate+"&ticket_type="+ticket_type+"&order_id="+order_id;
        $('#alter').load("helpdeskDetails.php",path);
            
    }	
    
    function backsearchhelpdesk(fromdate,todate,status,tkt_id,icp_id)
    {
        if(fromdate == "")
            {
                fromdate = "0000-00-00";
            }
            else
                {
                  fromdate;  
                }
            if(todate == "")
            {
                todate = "0000-00-00";
            }
            else
                {
                    todate;
                }
         var path = "fromdate="+fromdate+"&todate="+todate+"&status="+status+"&tkt_id="+tkt_id+"&icp_id="+icp_id;
        $('#alter').load("helpdeskDetails.php",path);
    }
   
      function order_Details()
    {
$("#loader").show();
        var order_id =$("#order_id").val();
          var vendor_id=$("#vendor_id").val();
        var f_date = $("#f_date").val();
         var to_date =$("#to_date").val();
         var service_type  =$("#service_type").val();
          var ph_no  =$("#ph_no").val();
         
      // alert(service_type);
         var path = "order_id="+order_id+"&vendor_id="+vendor_id+"&f_date="+f_date+"&to_date="+to_date+"&service_type="+service_type+"&ph_no="+ph_no;
        $('#alter').load("orderDetails.php",path);
           
    }
    
  function validate()
    {
                // alert(5);
        var firstname;
        var lastname;
        var mobile;
        
        var hno;
        var street;

        var locality;
        
        var city;
    
        var district;
        var pin;
        var state;
        var deviceid;    
                var altmobile;
                var landline;
                var region;
                var email;
                var landmark;

        var firstnameErrorMessage = "Please Enter Valid Firstname";    
        var lastnameErrorMessage = "Please Enter Valid Lastname";    
        var mobileErrorMessage = "Please Enter Valid Mobile Number"; 
        
        var streetErrorMessage = "Please Enter Street";    
        var hnoErrorMessage = "Please Enter House No";    
        var localityErrorMessage = "Please Enter Locality";    
            
        var cityErrorMessage = "Please Enter City";
        var districtErrorMessage = "Please Enter District";    
        var pinErrorMessage = "Please Enter Zip Code";    
        var stateErrorMessage = "Please Enter state";
                var emailErrorMessage = "Please Enter Valid Email Address";    
        var statusErrorMessage = "Please Select Status";    
                
                 var categoryErrorMessage = "Please Select Category";


        var firstname = document.getElementById("texFirstName").value;
            
        lastname = document.getElementById("texLastName").value;
        mobile = document.getElementById("texMobile").value;
        hno = document.getElementById("texHouseNo").value;

        street = document.getElementById("texStreet").value;
        locality = document.getElementById("texLocality").value;
        city = document.getElementById("texCity").value;
        district = document.getElementById("texDistrict").value;

        pin = document.getElementById("texPin").value;
        state = document.getElementById("texstate").value;
                
        var status = document.getElementById("status").value;
                altmobile = document.getElementById("texAltMobile").value;
                landline = document.getElementById("texlandLine").value;
                region = document.getElementById("texRegion").value;
                email = document.getElementById("texEmail").value;
        landmark = document.getElementById("texLandMark").value;
                
                var category = document.getElementById("category").value;
                var texrConstituencyErrorMessage = "Please select constituncy";
                var texVillageErrorMessage = "Please Enter village name";
                var texrConstituency = document.getElementById("texrConstituency").value;
                var texVillage = document.getElementById("texVillage").value;
                 var performance_deposit = document.getElementById("performance_deposit").value;
        var fstnamepattern = /^[a-z A-Z]+$/;
        var lastnamepattern = /^[a-z A-Z]+$/;
        var mobilenopattern = /^[0-9]+$/;
        var streetpattern = /^[a-z 0-9 A-Z]+$/;
        var localitypattern = /^[a-z A-Z]+$/;
        var citypattern = /^[a-z A-Z]+$/;
        var emailpattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        var pinpattern = /^[0-9]+$/;
                
                
        if(trim(firstname).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
            document.getElementById("texFirstName").focus();
            return false;
        }
        if(!firstname.match(fstnamepattern))
        {
            document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
            document.getElementById("texFirstName").focus();
            return false;
        }
                
        if(trim(lastname).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
            document.getElementById("texLastName").focus();
            return false;
        }
        if(!lastname.match(lastnamepattern))
        {
            document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
            document.getElementById("texLastName").focus();
            return false;
        }
               if(trim(category).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = categoryErrorMessage;
            document.getElementById("category").focus();
            return false;
        }
                
        if(trim(mobile).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
            document.getElementById("texMobile").focus();
            return false;
        }
//        if(mobile.length < 10)
//        {
//            document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
//            document.getElementById("texMobile").focus();
//            return false;
//        }
        if(!mobile.match(mobilenopattern))
        {
            document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
            document.getElementById("texMobile").focus();
            return false;
        }
               if(trim(email).length == 0)
        {
                    document.getElementById("errorMessage").innerHTML = emailErrorMessage;
            document.getElementById("texEmail").focus();
            return false;
                }
    
                        if(!email.match(emailpattern))
        {
            document.getElementById("errorMessage").innerHTML = emailErrorMessage;
            document.getElementById("texEmail").focus();
            return false;
        }
        
        if(trim(performance_deposit).length == 0)
        {
                    document.getElementById("errorMessage").innerHTML = "Please Enter Performance Deposit";
            document.getElementById("performance_deposit").focus();
            return false;
                }
                if(!performance_deposit.match(mobilenopattern))
        {
            document.getElementById("errorMessage").innerHTML = "Please Enter Valid Performance Deposit";
            document.getElementById("performance_deposit").focus();
            return false;
        }
        if(trim(hno).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = hnoErrorMessage;
            document.getElementById("texHouseNo").focus();
            return false;
        }
                
        if(trim(street).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = streetErrorMessage;
            document.getElementById("texStreet").focus();
            return false;
        }
        if(!street.match(streetpattern))
        {
            document.getElementById("errorMessage").innerHTML = streetErrorMessage;
            document.getElementById("texStreet").focus();
            return false;
        }
                
        if(trim(locality).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = localityErrorMessage;
            document.getElementById("texLocality").focus();
            return false;
        }
        if(!locality.match(localitypattern))
        {
            document.getElementById("errorMessage").innerHTML = localityErrorMessage;
            document.getElementById("texLocality").focus();
            return false;
        }
                
        if(trim(city).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = cityErrorMessage;
            document.getElementById("texCity").focus();
            return false;
        }
        if(!city.match(citypattern))
        {
            document.getElementById("errorMessage").innerHTML = cityErrorMessage;
            document.getElementById("texCity").focus();
            return false;
        }
                
        if(trim(state).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = stateErrorMessage;
            document.getElementById("texstate").focus();
            return false;
        }
        if(trim(district).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = districtErrorMessage;
            document.getElementById("texDistrict").focus();
            return false;
        }
         if(trim(texrConstituency).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = texrConstituencyErrorMessage;
            document.getElementById("texrConstituency").focus();
            return false;
        }
                if(trim(texVillage).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = texVillageErrorMessage;
            document.getElementById("texVillage").focus();
            return false;
        }
        if(trim(pin).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = pinErrorMessage;
            document.getElementById("texPin").focus();
            return false;
        }
//        if(pin.length < 6)
//        {
//            document.getElementById("errorMessage").innerHTML = pinErrorMessage;
//            document.getElementById("texPin").focus();
//            return false;
//        }
        if(!pin.match(pinpattern))
        {
            document.getElementById("errorMessage").innerHTML = pinErrorMessage;
            document.getElementById("texPin").focus();
            return false;
        }

        
        if(trim(status).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = statusErrorMessage;
            document.getElementById("status").focus();
            return false;
        }
                
                
                var  path = "insertDistributor.php?texFirstName1="+firstname+"&texLastName1="+lastname+"&texMobile1="+mobile+"&texAltMobile1="+altmobile+
        "&texlandLine1="+landline+"&texRegion1="+region+"&texEmail1="+email+"&texCity1="+city+"&texstate1="+state+"&texHouseNo1="
        +hno+"&texStreet1="+street+"&texLocality1="+locality+"&texLandMark1="+landmark+"&texPin1="+pin+"&texDistrict1="
      +district+"&status1="+status+"&category="+category+"&texrConstituency="+texrConstituency+"&texVillage="+texVillage+"&performance_deposit="+performance_deposit;
               
                if (window.XMLHttpRequest)
                  {// code for IE7+, Firefox, Chrome, Opera, Safari
                  xmlhttp=new XMLHttpRequest();
                  }
                else
                  {// code for IE6, IE5
                  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                  }
                xmlhttp.onreadystatechange=function()
                  {
                  if (xmlhttp.readyState==4 && xmlhttp.status==200)
                    {
                    document.getElementById("alter").innerHTML=xmlhttp.responseText;
                    }
                  }
                xmlhttp.open("GET",path,true);
                xmlhttp.send();
                
    }
        
        
        function updateIcc()
    {
               // alert(5);
        var firstname;
        var lastname;
        var mobile;
        
        var hno;
        var street;

        var locality;
        
        var city;
    
        var district;
        var pin;
        var state;
        var deviceid;    
                var altmobile;
                var landline;
                var region;
                var email;
                var landmark;
                var distrid;

        var firstnameErrorMessage = "Please Enter Valid Firstname";    
        var lastnameErrorMessage = "Please Enter Valid Lastname";    
        var mobileErrorMessage = "Please Enter Valid Mobile Number";    
        
        var streetErrorMessage = "Please Enter Street";    
        var hnoErrorMessage = "Please Enter House No";    
        var localityErrorMessage = "Please Enter Locality";    
           var emailErrorMessage = "Please Enter Valid Email Address";    
        var cityErrorMessage = "Please Enter City";
        var districtErrorMessage = "Please Enter District";
                var texrConstituencyErrorMessage = "Please select constituncy";
                var texVillageErrorMessage = "Please Enter village name";
        var pinErrorMessage = "Please Enter Zip Code";    
        var stateErrorMessage = "Please Enter state";    
        var statusErrorMessage = "Please Select Status";
                  var categoryErrorMessage = "Please Select Category";


        var firstname = document.getElementById("texFirstName").value;
            
        lastname = document.getElementById("texLastName").value;
        mobile = document.getElementById("texMobile").value;
        hno = document.getElementById("texHouseNo").value;

        street = document.getElementById("texStreet").value;
        locality = document.getElementById("texLocality").value;
        city = document.getElementById("texCity").value;
        district = document.getElementById("texDistrict").value;

        pin = document.getElementById("texPin").value;
        state = document.getElementById("texstate").value;
               // alert(state);
        var status = document.getElementById("status").value;
                altmobile = document.getElementById("texAltMobile").value;
                landline = document.getElementById("texlandLine").value;
                region = document.getElementById("texRegion").value;
                email = document.getElementById("texEmail").value;
        landmark = document.getElementById("texLandMark").value;
                distrid = document.getElementById("distributorid").value;
               var  conid = document.getElementById("contactid").value;
               var  addrid = document.getElementById("addressid").value;
                var category = document.getElementById("category").value;
                
                var texrConstituency = document.getElementById("texrConstituency").value;
                var texVillage = document.getElementById("texVillage").value;
                

        var fstnamepattern = /^[a-z A-Z]+$/;
        var lastnamepattern = /^[a-z A-Z]+$/;
        var mobilenopattern = /^[0-9]+$/;
        var streetpattern = /^[a-z 0-9 A-Z]+$/;
        var localitypattern = /^[a-z A-Z]+$/;
        var citypattern = /^[a-z A-Z]+$/;
        var emailpattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        var pinpattern = /^[0-9]+$/;
        
        if(trim(firstname).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
            document.getElementById("texFirstName").focus();
            return false;
        }
        if(!firstname.match(fstnamepattern))
        {
            document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
            document.getElementById("texFirstName").focus();
            return false;
        }
                
        if(trim(lastname).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
            document.getElementById("texLastName").focus();
            return false;
        }
        if(!lastname.match(lastnamepattern))
        {
            document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
            document.getElementById("texLastName").focus();
            return false;
        }
                if(trim(category).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = categoryErrorMessage;
            document.getElementById("category").focus();
            return false;
        }
        if(trim(mobile).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
            document.getElementById("texMobile").focus();
            return false;
        }
//        if(mobile.length < 10)
//        {
//            document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
//            document.getElementById("texMobile").focus();
//            return false;
//        }
        if(!mobile.match(mobilenopattern))
        {
            document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
            document.getElementById("texMobile").focus();
            return false;
        }
                if(trim(email).length == 0)
        {
                    document.getElementById("errorMessage").innerHTML = emailErrorMessage;
            document.getElementById("texEmail").focus();
            return false;
                }
                        if(!email.match(emailpattern))
        {
            document.getElementById("errorMessage").innerHTML = emailErrorMessage;
            document.getElementById("texEmail").focus();
            return false;
        }
        
               
        if(trim(hno).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = hnoErrorMessage;
            document.getElementById("texHouseNo").focus();
            return false;
        }
                
        if(trim(street).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = streetErrorMessage;
            document.getElementById("texStreet").focus();
            return false;
        }
        if(!street.match(streetpattern))
        {
            document.getElementById("errorMessage").innerHTML = streetErrorMessage;
            document.getElementById("texStreet").focus();
            return false;
        }
                
        if(trim(locality).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = localityErrorMessage;
            document.getElementById("texLocality").focus();
            return false;
        }
        if(!locality.match(localitypattern))
        {
            document.getElementById("errorMessage").innerHTML = localityErrorMessage;
            document.getElementById("texLocality").focus();
            return false;
        }
                
        if(trim(city).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = cityErrorMessage;
            document.getElementById("texCity").focus();
            return false;
        }
        if(!city.match(citypattern))
        {
            document.getElementById("errorMessage").innerHTML = cityErrorMessage;
            document.getElementById("texCity").focus();
            return false;
        }
                
        if(trim(state).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = stateErrorMessage;
            document.getElementById("texstate").focus();
            return false;
        }
        if(trim(district).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = districtErrorMessage;
            document.getElementById("texDistrict").focus();
            return false;
        }
                if(trim(texrConstituency).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = texrConstituencyErrorMessage;
            document.getElementById("texrConstituency").focus();
            return false;
        }
                if(trim(texVillage).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = texVillageErrorMessage;
            document.getElementById("texVillage").focus();
            return false;
        }
        // var texrConstituency = document.getElementById("texrConstituency").value;
                //var texVillage = document.getElementById("texVillage").value;
                
        if(trim(pin).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = pinErrorMessage;
            document.getElementById("texPin").focus();
            return false;
        }
//        if(pin.length < 6)
//        {
//            document.getElementById("errorMessage").innerHTML = pinErrorMessage;
//            document.getElementById("texPin").focus();
//            return false;
//        }
        if(!pin.match(pinpattern))
        {
            document.getElementById("errorMessage").innerHTML = pinErrorMessage;
            document.getElementById("texPin").focus();
            return false;
        }

        
        if(trim(status).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = statusErrorMessage;
            document.getElementById("status").focus();
            return false;
        }
                
                var  path = "updateDistributor.php?texFirstName1="+firstname+"&texLastName1="+lastname+"&texMobile1="+mobile+"&texAltMobile1="+altmobile+
        "&texlandLine1="+landline+"&texRegion1="+region+"&texEmail1="+email+"&texCity1="+city+"&texState1="+state+"&texHouseNo1="
        +hno+"&texStreet1="+street+"&texLocality1="+locality+"&texLandMark1="+landmark+"&texPin1="+pin+"&texDistrict1="
      +district+"&status1="+status+"&distributorid1="+distrid+"&contactid1="+conid+"&addressid1="+addrid+"&category="+category+"&texrConstituency="+texrConstituency+"&texVillage="+texVillage;
    //  alert(path);
               
                if (window.XMLHttpRequest)
                  {// code for IE7+, Firefox, Chrome, Opera, Safari
                  xmlhttp=new XMLHttpRequest();
                  }
                else
                  {// code for IE6, IE5
                  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                  }
                xmlhttp.onreadystatechange=function()
                  {
                  if (xmlhttp.readyState==4 && xmlhttp.status==200)
                    {
                    document.getElementById("alter").innerHTML=xmlhttp.responseText;
                    }
                  }
                xmlhttp.open("GET",path,true);
                xmlhttp.send();
                

    }

</script>
        
	<script type="text/javascript" >
		

			function rvalidate()
	{
          
            //alert(5);
           
		var lastname;
		var mobile;
		
		var hno;
		var street;

		var locality;
		
		var city;
		var DistId;
	
		var district;
		var pin;
		var state;
                var altmobile;
                var landline;
                var region;
                var shop_type;
                var constuency;
                var village;
		var docreceived;
                //SHOP ADDRESS 
                var hno_shop;
		var street_shop;

		var locality_shop;
		
		var city_shop;
		var DistId_shop;
	
		var district_shop;
		var pin_shop;
		var state_shop;
                var altmobile_shop;
                var landline_shop;
                var region_shop;
                
                var constuency_shop;
                var village_shop;
                //COMPLETED VARIABLE DECLARATION FOR SHOP ADDRESS

		var firstnameErrorMessage = "Please Enter Valid Firstname";	
		var lastnameErrorMessage = "Please Enter Valid Lastname";	
		var mobileErrorMessage = "Please Enter Valid Mobile Number starting with  '0'";	
                var mobileNumberExists = "Mobile Number Already Exists, try different one"; 
		
		var streetErrorMessage = "Please Enter Street";	
		var hnoErrorMessage = "Please Enter House No";	
		var localityErrorMessage = "Please Enter Locality";
		var distIdErrorMessage = "Please Enter Valid ICCId";	
			
		var cityErrorMessage = "Please Enter City";
		var districtErrorMessage = "Please Enter District";	
		var pinErrorMessage = "Please Enter Zip Code";
                 var emailErrorMessage = "Please Enter Valid Email Address";	
		var stateErrorMessage = "Please Enter state";
		var statusErrorMessage = "Please Select Status";	
                var storenameErrorMessage = "Please Enter Store Name";
                var categoryErrorMessage = "Please Select Category";
		


		var firstname = document.getElementById("texrFirstName").value;
		lastname = document.getElementById("texrLastName").value;
		mobile = document.getElementById("texrMobile").value;
		
                hno = document.getElementById("texrHouseNo").value;
                street = document.getElementById("texrStreet").value;
		locality = document.getElementById("texrLocality").value;
		city = document.getElementById("texrCity").value;
		district = document.getElementById("texrDistrict").value;
		var distId = document.getElementById("texrDistributorName").value;
		pin = document.getElementById("texrPin").value;
		state = document.getElementById("texrstate").value;
		var status = document.getElementById("status").value;
                altmobile = document.getElementById("texrAltMobile").value;
                landline = document.getElementById("texrlandLine").value;
                region = document.getElementById("texrRegion").value;
                
                // SHOP ADDRESS 
                var hno_shop = document.getElementById("texrHouseNo_shop").value;
                var street_shop = document.getElementById("texrStreet_shop").value;
                var locality_shop = document.getElementById("texrLocality_shop").value;
                var landmark_shop = document.getElementById("texrLandMark_shop").value;
                
                var state_shop = document.getElementById("texrstate_shop").value;
                var city_shop = document.getElementById("texrCity_shop").value;
                var district_shop = document.getElementById("texrDistrict_shop").value;
		var constuency_shop = document.getElementById("texrConstituency_shop").value;
                var village_shop = document.getElementById("texVillage_shop").value;
                var pin_shop = document.getElementById("texrPin_shop").value;
 
        
              var  email  = document.getElementById("texrEmail").value;
              var landmark = document.getElementById("texrLandMark").value;
              var  store_name  = document.getElementById("store_name").value;
              var category = document.getElementById("category").value;
              var payment_id = document.getElementById("payment_id").value;
              var hiddeposit_id = document.getElementById("hiddeposit_id").value;
              var shop_type = document.getElementById("shop_type").value;
              var constuency = document.getElementById("texrConstituency").value;
              var village = document.getElementById("texVillage").value;
              var icp_mode = document.getElementById("icp_mode").value;
		 var shipping_preference1 = document.getElementById("shipping_preference1").value;
                var shipping_preference2 = document.getElementById("shipping_preference2").value;

                var acquired_by = document.getElementById("acquired_by").value;
                                var acquired_person = document.getElementById("acquired_person").value;
                                var acquired_beatguy = document.getElementById("acquired_beatguy").value;
                                var activated_date = document.getElementById("activated_date").value;
                var docreceived = document.getElementById("docreceive").value;
                var shop_type_others = document.getElementById("shop_type_others").value;
                var operator_rc_type = document.getElementById("operator_rc_type").value;
		var fstnamepattern = /^[a-z A-Z]+$/;
		var lastnamepattern = /^[a-z A-Z]+$/;
		var mobilenopattern = /^(0)[0-9]+$/;
		var streetpattern = /^[a-z 0-9 A-Z]+$/;
		var localitypattern = /^[a-z A-Z]+$/;
		var citypattern = /^[a-z A-Z]+$/;
		var districtpattern = /^[a-z A-Z]+$/;
		var pinpattern = /^[0-9]+$/;
		var statepattern = /^[a-z A-Z]+$/;
		var emailpattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                // SHOP ADDRESS. 
                var streetpattern_shop = /^[a-z 0-9 A-Z]+$/;
		var localitypattern_shop = /^[a-z A-Z]+$/;
		var citypattern_shop = /^[a-z A-Z]+$/;
		
		
		if(trim(firstname).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
			document.getElementById("texrFirstName").focus();
			return false;
		}
		if(!firstname.match(fstnamepattern))
		{
			document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
			document.getElementById("texrFirstName").focus();
			return false;
		}
		if(trim(lastname).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
			document.getElementById("texrLastName").focus();
			return false;
		}
		if(!lastname.match(lastnamepattern))
		{
			document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
			document.getElementById("texrLastName").focus();
			return false;
		}
                if(trim(store_name).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = storenameErrorMessage;
			document.getElementById("store_name").focus();
			return false;
		}
                if(trim(category).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = categoryErrorMessage;
			document.getElementById("category").focus();
			return false;
		}
                if(trim(icp_mode).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = "Please select icp mode";
			document.getElementById("icp_mode").focus();
			return false;
		}
                if(trim(operator_rc_type).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = "Please select Operator RC Type";
			document.getElementById("operator_rc_type").focus();
			return false;
		}
		if(trim(mobile).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
			document.getElementById("texrMobile").focus();
			return false;
		}
//		if(mobile.length < 10)
//		{
//			document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
//			document.getElementById("texrMobile").focus();
//			return false;
//		}
		if(!mobile.match(mobilenopattern))
		{
			document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
			document.getElementById("texrMobile").focus();
			return false;
		}
                if(trim(shop_type).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Shop Type";
			document.getElementById("shop_type").focus();
			return false;
		}
                
                if(trim(shop_type).length != 0)
		{
                if(shop_type == "OTHERS")
		{
                    if(trim(shop_type_others).length == 0)
                    {
			document.getElementById("errorMessage").innerHTML = "Please Enter Shop Type";
			document.getElementById("shop_type_others").focus();
			return false;
                    }
		}
                }
                if(email.length > 0)
		{
	
                        if(!email.match(emailpattern))
		{
			document.getElementById("errorMessage").innerHTML = emailErrorMessage;
			document.getElementById("texrEmail").focus();
                    return false;
                }
            }

            if (trim(hno).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = hnoErrorMessage;
                document.getElementById("texrHouseNo").focus();
                return false;
            }
            if (trim(street).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = streetErrorMessage;
                document.getElementById("texrStreet").focus();
                return false;
            }
            if (!street.match(streetpattern))
            {
                document.getElementById("errorMessage").innerHTML = streetErrorMessage;
                document.getElementById("texrStreet").focus();
                return false;
            }
            if (trim(locality).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = localityErrorMessage;
                document.getElementById("texrLocality").focus();
                return false;
            }
            if (!locality.match(localitypattern))
            {
                document.getElementById("errorMessage").innerHTML = localityErrorMessage;
                document.getElementById("texrLocality").focus();
                return false;
            }
            if (trim(city).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = cityErrorMessage;
                document.getElementById("texrCity").focus();
                return false;
            }
            if (!city.match(citypattern))
            {
                document.getElementById("errorMessage").innerHTML = cityErrorMessage;
                document.getElementById("texrCity").focus();
                return false;
            }
            if (trim(state).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = stateErrorMessage;
                document.getElementById("texrstate").focus();
                return false;
            }

            if (trim(district).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = districtErrorMessage;
                document.getElementById("texrDistrict").focus();
                return false;
            }
            if (trim(constuency).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Constituency";
                document.getElementById("texrConstituency").focus();
                return false;
            }
            if (trim(village).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Enter Village Name";
                document.getElementById("texVillage").focus();
                return false;
            }
            if (trim(distId).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = distIdErrorMessage;
                document.getElementById("texrDistributorName").focus();
                return false;
            }
            if (trim(pin).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = pinErrorMessage;
                document.getElementById("texrPin").focus();
                return false;
            }
//		if(pin.length < 6)
//		{
//			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
//			document.getElementById("texrPin").focus();
//			return false;
//		}
            if (!pin.match(pinpattern))
            {
                document.getElementById("errorMessage").innerHTML = pinErrorMessage;
                document.getElementById("texPin").focus();
                return false;
            }


            if (trim(status).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = statusErrorMessage;
                document.getElementById("status").focus();
                return false;
            }
            
             // SHOP ADDRESS DETAILS.
             if (trim(hno_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Shop House No.";
                document.getElementById("texrHouseNo_shop").focus();
                return false;
            }
            if (trim(street_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Shop Street No.";
                document.getElementById("texrStreet_shop").focus();
                return false;
            }
             if (trim(locality_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Shop Locality";
                document.getElementById("texrLocality_shop").focus();
                return false;
            }
            if (trim(city_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select City of the Shop";
                document.getElementById("texrCity_shop").focus();
                return false;
            }
            if (trim(state_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please select Shop State";
                document.getElementById("texrstate_shop").focus();
                return false;
            }

            if (trim(district_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Shop District";
                document.getElementById("texrDistrict_shop").focus();
                return false;
            }
            if (trim(constuency_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Shop Constituency";
                document.getElementById("texrConstituency_shop").focus();
                return false;
            }
            if (trim(village_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Enter Shop Village Name";
                document.getElementById("texVillage_shop").focus();
                return false;
            }
            if (trim(pin_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Shop PIN Code.";
                document.getElementById("texrPin_shop").focus();
                return false;
            }
            if (!street_shop.match(streetpattern_shop))
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Street in Shop";
                document.getElementById("texrStreet_shop").focus();
                return false;
            }
            if (!locality_shop.match(localitypattern_shop))
            {
                document.getElementById("errorMessage").innerHTML = localityErrorMessage;
                document.getElementById("texrLocality_shop").focus();
                return false;
            }
            if (!city_shop.match(citypattern_shop))
            {
                document.getElementById("errorMessage").innerHTML = cityErrorMessage;
                document.getElementById("texrCity_shop").focus();
                return false;
            }
            
            // SHOP ADDR ENDS HERE. 
        
            if (document.getElementById("status").value != "0")
            {
                if (trim(payment_id).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = "Please Fill PaymentID";
                    document.getElementById("payment_id").focus();
                    return false;
                }
                if (trim(acquired_by).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = "Please Select By Acquired By";
                    document.getElementById("acquired_by").focus();
                    return false;
                }
                if (trim(acquired_person).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = "Please Select By Acquired Person";
                    document.getElementById("acquired_person").focus();
                    return false;
                }
            }

            if (status == 1)
            {
                if (activated_date == "0000-00-00") {
                    document.getElementById("errorMessage").innerHTML = "Please Select Activated Date";
                    document.getElementById("activated_date").focus();
                    return false;
                }

            }
            shop_type = escape(shop_type);
            store_name = escape(store_name);
            firstname = escape(firstname);
            locality = escape(locality);
            landmark = escape(landmark);
            street = escape(street);
            lastname = escape(lastname);
            region = escape(region);
            email = escape(email);
            constuency = escape(constuency);
            village = escape(village);
            shipping_preference2 = escape(shipping_preference2);
            shipping_preference1 = escape(shipping_preference1);
            operator_rc_type = escape(operator_rc_type);
            
            
           
            
            var acquired_by = escape(acquired_by);
            var acquired_person = escape(acquired_person);
            var activated_date = escape(activated_date);
            var acquired_beatguy = escape(acquired_beatguy);
            var docreceived = escape(docreceived);
            var shop_type_others = escape(shop_type_others);
            var path = "insertRetailer.php?texrFirstName1=" + firstname + "&texrLastName1=" + lastname + "&texrMobile1=" + mobile + "&texrAltMobile1=" + altmobile +
                    "&texrlandLine1=" + landline + "&texrRegion1=" + region + "&texrEmail1=" + email + "&texrCity1=" + city + "&texrstate1=" + state + "&texrHouseNo1="
                    + hno + "&texrStreet1=" + street + "&texrLocality1=" + locality + "&texrLandMark1=" + landmark + "&texrDistributorName1=" + distId + "&texrPin1="
                    + pin + "&texrDistrict1=" + district + "&status1=" + status + "&store_name=" + store_name + "&category=" + category + "&payment_id=" + payment_id + "&hiddeposit_id=" + hiddeposit_id + "&shop_type=" + shop_type
                    + "&constuency=" + constuency + "&village=" + village + "&shipping_preference1=" + shipping_preference1 + "&shipping_preference2=" + shipping_preference2
                    + "&acquired_by=" + acquired_by + "&acquired_person=" + acquired_person + "&acquired_beatguy=" + acquired_beatguy + "&activated_date=" + activated_date + "&icp_mode=" + icp_mode + "&docreceived=" + docreceived + "&shop_type_others=" + shop_type_others + "&operator_rc_type=" + operator_rc_type
                    + "&hno_shop=" + hno_shop + "&street_shop=" + street_shop + "&locality_shop=" + locality_shop + "&landmark_shop=" + landmark_shop + "&region_shop="
                    + region_shop + "&state_shop=" + state_shop + "&city_shop=" + city_shop + "&district_shop=" 
                    + district_shop + "&constuency_shop=" + constuency_shop + "&village_shop=" + village_shop + 
                    "&pin_shop=" + pin_shop;

            //  alert(path);
            if (window.XMLHttpRequest)
            {// code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp = new XMLHttpRequest();
            } else
            {// code for IE6, IE5
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.onreadystatechange = function ()
            {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
                {
                    document.getElementById("alter").innerHTML = xmlhttp.responseText;
                }
            }
            xmlhttp.open("GET", path, true);
            xmlhttp.send();
  
            
	}
        
        function updateIcp()
	
{

		var lastname;
		var mobile;
		
		var hno;
		var street;

		var locality;
		
		var city;
		var DistId;
	
		var district;
		var pin;
		var state;
                var altmobile;
                var landline;
                var region;
		var app_type;
                var shop_type;
                var docreceived;
                
                //SHOP ADDRESS 
                var hno_shop;
		var street_shop;

		var locality_shop;
		
		var city_shop;
		var DistId_shop;
	
		var district_shop;
		var pin_shop;
		var state_shop;
                var altmobile_shop;
                var landline_shop;
                var region_shop;
                
                var constuency_shop;
                var village_shop;
                //COMPLETED VARIABLE DECLARATION FOR SHOP ADDRESS
                
                var error_code = 0;
		var firstnameErrorMessage = "Please Enter Valid Firstname";	
		var lastnameErrorMessage = "Please Enter Valid Lastname";	
		var mobileErrorMessage = "Please Enter Valid Mobile Number starting with '0' ";	
		
		var streetErrorMessage = "Please Enter Street";	
		var hnoErrorMessage = "Please Enter House No";	
		var localityErrorMessage = "Please Enter Locality";
		var distIdErrorMessage = "Please Enter Valid ICCId";	
			
		var cityErrorMessage = "Please Enter City";
		var districtErrorMessage = "Please Enter District";	
		var pinErrorMessage = "Please Enter Zip Code";
                 var emailErrorMessage = "Please Enter Valid Email Address";	
		var stateErrorMessage = "Please Enter state";
		var statusErrorMessage = "Please Select Status";
                 var storenameErrorMessage = "Please Enter Store Name";
                var categoryErrorMessage = "Please Select Category";
		


		var firstname = document.getElementById("texrFirstName").value;
		lastname = document.getElementById("texrLastName").value;
		mobile = document.getElementById("texrMobile").value;
		hno = document.getElementById("texrHouseNo").value;
                app_type=document.getElementById("apptype").value;
		street = document.getElementById("texrStreet").value;
		locality = document.getElementById("texrLocality").value;
		city = document.getElementById("texrCity").value;
		district = document.getElementById("texrDistrict").value;
		var distId = document.getElementById("texrDistributorName").value;
		pin = document.getElementById("texrPin").value;
		state = document.getElementById("texrstate").value;
		var status = document.getElementById("status").value;
                altmobile = document.getElementById("texrAltMobile").value;
                landline = document.getElementById("texrlandLine").value;
                region = document.getElementById("texrRegion").value;
                var  email  = document.getElementById("texrEmail").value;
                var landmark = document.getElementById("texrLandMark").value;
                var  store_name  = document.getElementById("store_name").value;
                var category = document.getElementById("category").value;
                var  constuency  = document.getElementById("texrConstituency").value;
                var village = document.getElementById("texVillage").value;
                var icp_mode = document.getElementById("icp_mode").value;
                var payment_id = document.getElementById("payment_id").value;
                var hiddeposit_id = document.getElementById("hiddeposit_id").value;
                var hiddeposit_id1 = document.getElementById("hiddeposit_id1").value;
                
                
                 // SHOP ADDRESS 
                var hno_shop = document.getElementById("texrHouseNo_shop").value;
                var street_shop = document.getElementById("texrStreet_shop").value;
                var locality_shop = document.getElementById("texrLocality_shop").value;
                var landmark_shop = document.getElementById("texrLandMark_shop").value;
               
                var state_shop = document.getElementById("texrstate_shop").value;
                var city_shop = document.getElementById("texrCity_shop").value;
                var district_shop = document.getElementById("texrDistrict_shop").value;
		var constuency_shop = document.getElementById("texrConstituency_shop").value;
                var village_shop = document.getElementById("texVillage_shop").value;
                var pin_shop = document.getElementById("texrPin_shop").value;
                // SHOP ADDRESS ENDS HERE.
              
                var opening_cr_limit = document.getElementById("opening_cr_limit").value;
                var  creditLimit  = document.getElementById("creditLimit").value;
                var new_limit = document.getElementById("new_limit").value;
                var custom_message = escape(document.getElementById("custom_message").value);
                var  shop_type  = document.getElementById("shop_type").value;
                var  shop_type_others  = document.getElementById("shop_type_others").value;
              
                var rid = document.getElementById("retailerId").value;
                var contactid = document.getElementById("contactid").value;
                var addressid = document.getElementById("addressid").value;
                var did = document.getElementById("distributorId").value;
                var regionId = document.getElementById("regionId").value;
		var remarks_crdlimt = document.getElementById("remarks_crdlimt").value;
                var refr_id = document.getElementById("refr_id").value;
                var shipping_preference1 = document.getElementById("shipping_preference1").value;
                var shipping_preference2 = document.getElementById("shipping_preference2").value;
                var dbpaymentid = document.getElementById("dbpaymentid").value;
                var befor_status = document.getElementById("befor_status").value;
                var acquired_by = document.getElementById("acquired_by").value;
                var acquired_person = document.getElementById("acquired_person").value;
                var activated_date = document.getElementById("activated_date").value;
                var check_stat = document.getElementById("check_stat").value;
                var docreceived = document.getElementById("docreceive").value;
                var operator_rc_type = document.getElementById("operator_rc_type").value;
               // var pancard = $("#pancardbox").val();
               // var pancard_no = $("#pancard_no").val();
                //var pancard_attach = $("#pancard_attach").val();
               // var pancard_check = $("#pancard_check").val();
                var elements = document.getElementsByClassName('document_cls');
                var elements1 = document.getElementsByClassName('document_cls_name');
                
		var fstnamepattern = /^[a-z A-Z]+$/;
		var lastnamepattern = /^[a-z A-Z]+$/;
		var mobilenopattern = /^(0)[0-9]+$/;
		var streetpattern = /^[a-z 0-9 A-Z]+$/;
		var localitypattern = /^[a-z A-Z]+$/;
		var citypattern = /^[a-z A-Z]+$/;
		var districtpattern = /^[a-z A-Z]+$/;
		var pinpattern = /^[0-9]+$/;
		var statepattern = /^[a-z A-Z]+$/;
		var emailpattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;

		
		if(trim(firstname).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
			document.getElementById("texrFirstName").focus();
                         error_code = 1;
			return false;
		}
		if(!firstname.match(fstnamepattern))
		{
			document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
			document.getElementById("texrFirstName").focus();
                         error_code = 1;
			return false;
		}
		if(trim(lastname).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
			document.getElementById("texrLastName").focus();
                         error_code = 1;
			return false;
		}
		if(!lastname.match(lastnamepattern))
		{
			document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
			document.getElementById("texrLastName").focus();
                         error_code = 1;
			return false;
		}
                if(trim(store_name).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = storenameErrorMessage;
			document.getElementById("store_name").focus();
			return false;
		}
                if(trim(category).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = categoryErrorMessage;
			document.getElementById("category").focus();
                    error_code = 1;
                    return false;
                }
                if (document.getElementById("status").value != "0")
                {
                    if (trim(shop_type).length == 0)
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Select Shop Type";
                        document.getElementById("shop_type").focus();
                        error_code = 1;
                        return false;
                    }
                }
                if (trim(shop_type).length != 0)
                {
                    if (shop_type == "OTHERS")
                    {
                        if (trim(shop_type_others).length == 0)
                        {
                            document.getElementById("errorMessage").innerHTML = "Please Enter Shop Type";
                            document.getElementById("shop_type_others").focus();
                            error_code = 1;
                            return false;
                        }
                    }
                }

                if (trim(icp_mode).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = "Please select ICP Mode";
                    document.getElementById("icp_mode").focus();
                    error_code = 1;
                    return false;
                }
                if (trim(operator_rc_type).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = "Please select Operator RC Type";
                    document.getElementById("operator_rc_type").focus();
                    error_code = 1;
                    return false;
                }
                if (trim(mobile).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
                    document.getElementById("texrMobile").focus();
                    error_code = 1;
                    return false;
                }
                //avoids duplicate mobile number.

                var rMobileDup = "<?php echo $_SESSION["rMobile"]; ?>";
                if (rMobileDup)
                {
                    document.getElementById("errorMessage").innerHTML = mobileNumberExists;
                    document.getElementById("texrMobile").focus();
                    error_code = 1;
                    return false;
                }


//		if(mobile.length < 10)
//		{
//			document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
//			document.getElementById("texrMobile").focus();
//                         error_code = 1;
//			return false;
//		}
                if (!mobile.match(mobilenopattern))
                {
                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
                    document.getElementById("texrMobile").focus();
                    error_code = 1;
                    return false;
                }
                //if ($('input[type=checkbox]:checked').length > 0 && parseFloat(pancard_check) == 0) {
                  //  if ((pancard_no).length == 0)
                  //  {
                  //      document.getElementById("errorMessage").innerHTML = "Please Enter Pancard number";
                   //     document.getElementById("pancard_no").focus();
                   //     error_code = 1;
                   //     return false;
                   // }
                  //  if ((pancard_attach).length == 0)
                  //  {
                    //    document.getElementById("errorMessage").innerHTML = "Please Upload Pancard Document";
                    //    document.getElementById("pancard_attach").focus();
                    //    error_code = 1;
                   //     return false;
                   // }
               // }

                if ((email.length > 0) || app_type == "PC")
                {

                    if (!email.match(emailpattern))
                    {
                        document.getElementById("errorMessage").innerHTML = emailErrorMessage;
                        document.getElementById("texrEmail").focus();
                        error_code = 1;
                        return false;
                    }
                }

                if (trim(hno).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = hnoErrorMessage;
                    document.getElementById("texrHouseNo").focus();
                    error_code = 1;
                    return false;
                }
                if (trim(street).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = streetErrorMessage;
                    document.getElementById("texrStreet").focus();
                    error_code = 1;
                    return false;
                }
                if (!street.match(streetpattern))
                {
                    document.getElementById("errorMessage").innerHTML = streetErrorMessage;
                    document.getElementById("texrStreet").focus();
                    error_code = 1;
                    return false;
                }
                if (trim(locality).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = localityErrorMessage;
                    document.getElementById("texrLocality").focus();
                    error_code = 1;
                    return false;
                }
                if (!locality.match(localitypattern))
                {
                    document.getElementById("errorMessage").innerHTML = localityErrorMessage;
                    document.getElementById("texrLocality").focus();
                    error_code = 1;
                    return false;
                }
                if (trim(city).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = cityErrorMessage;
                    document.getElementById("texrCity").focus();
                    error_code = 1;
                    return false;
                }
                if (!city.match(citypattern))
                {
                    document.getElementById("errorMessage").innerHTML = cityErrorMessage;
                    document.getElementById("texrCity").focus();
                    error_code = 1;
                    return false;
                }
                if (trim(state).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = stateErrorMessage;
                    document.getElementById("texrstate").focus();
                    error_code = 1;
                    return false;
                }


                if (trim(district).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = districtErrorMessage;
                    document.getElementById("texrDistrict").focus();
                    error_code = 1;
                    return false;
                }
                if (trim(constuency).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = "Please Select Constituency";
                    document.getElementById("texrConstituency").focus();
                    error_code = 1;
                    return false;
                }
                if (trim(village).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = "Please Enter Village Name";
                    document.getElementById("texVillage").focus();
                    error_code = 1;
                    return false;
                }
                if (trim(distId).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = distIdErrorMessage;
                    document.getElementById("texrDistributorName").focus();
                    error_code = 1;
                    return false;
                }
                if (trim(pin).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = pinErrorMessage;
                    document.getElementById("texrPin").focus();
                    error_code = 1;
                    return false;
                }
                
                // SHOP ADDRESS DETAILS.
             if (trim(hno_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Shop House No.";
                document.getElementById("texrHouseNo_shop").focus();
                return false;
            }
            if (trim(street_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Shop Street No.";
                document.getElementById("texrStreet_shop").focus();
                return false;
            }
             if (trim(locality_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Shop Locality";
                document.getElementById("texrLocality_shop").focus();
                return false;
            }
            if (trim(city_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select City of the Shop";
                document.getElementById("texrCity_shop").focus();
                return false;
            }
            if (trim(state_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please select Shop State";
                document.getElementById("texrstate_shop").focus();
                return false;
            }

            if (trim(district_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Shop District";
                document.getElementById("texrDistrict_shop").focus();
                return false;
            }
            if (trim(constuency_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Shop Constituency";
                document.getElementById("texrConstituency_shop").focus();
                return false;
            }
            if (trim(village_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Enter Shop Village Name";
                document.getElementById("texVillage_shop").focus();
                return false;
            }
            if (trim(pin_shop).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Shop PIN Code.";
                document.getElementById("texrPin_shop").focus();
                return false;
            }
            if (!street_shop.match(streetpattern_shop))
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Street in Shop";
                document.getElementById("texrStreet_shop").focus();
                return false;
            }
            if (!locality_shop.match(localitypattern_shop))
            {
                document.getElementById("errorMessage").innerHTML = localityErrorMessage;
                document.getElementById("texrLocality_shop").focus();
                return false;
            }
            if (!city_shop.match(citypattern_shop))
            {
                document.getElementById("errorMessage").innerHTML = cityErrorMessage;
                document.getElementById("texrCity_shop").focus();
                return false;
            }
            
            // SHOP ADDR ENDS HERE. 
                
                
                
                
//		if(pin.length < 6)
//		{
//			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
//			document.getElementById("texrPin").focus();
//                         error_code = 1;
//			return false;
//		}
                if (!pin.match(pinpattern))
                {
                    document.getElementById("errorMessage").innerHTML = pinErrorMessage;
                    document.getElementById("texPin").focus();
                    error_code = 1;
                    return false;
                }


                if (trim(status).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = statusErrorMessage;
                    document.getElementById("status").focus();
                    error_code = 1;
                    return false;
                }
                if (document.getElementById("status").value != "0")
                {
                    if (trim(payment_id).length == 0)
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Fill PaymentID";
                        document.getElementById("payment_id").focus();
                        error_code = 1;
                        return false;
                    }
                }

                if (trim(new_limit).length != 0)
                {
                    if (!new_limit.match(pinpattern))
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Enter Valid Amount";
                        document.getElementById("new_limit").focus();
                        error_code = 1;
                        return false;
                    }
                    if (trim(remarks_crdlimt).length == 0)
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Enter Remarks";
                        document.getElementById("remarks_crdlimt").focus();
                        error_code = 1;
                        return false;
                    }
                }

//                if(trim(acquired_by).length == 0)
//        {
//            document.getElementById("errorMessage").innerHTML = "Please Select By Acquired By";
//            document.getElementById("acquired_by").focus();
//            return false;
//        }


                if (trim(acquired_by).length != 0) {
                    if (trim(acquired_person).length == 0)
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Select By Acquired Person";
                        document.getElementById("acquired_person").focus();
                        error_code = 1;
                        return false;
                    }
                    if (status == 1)
                    {
                        if (activated_date == "0000-00-00") {
                            document.getElementById("errorMessage").innerHTML = "Please Select Activated Date";
                            document.getElementById("activated_date").focus();
                            error_code = 1;
                            return false;
                        }

                    }
                    if (check_stat == "DisAllow") {
                        if (activated_date == "0000-00-00") {
                            document.getElementById("errorMessage").innerHTML = "Please Select Activated Date";
                            document.getElementById("activated_date").focus();
                            error_code = 1;
                            return false;
                        }
                    }
                }
                for (var i = 0, length = elements.length; i < length; i++) {
                    if (elements[i].value == '') {

                        document.getElementById("errorMessage").innerHTML = "Please upload all documents";
                        error_code = 1;
                        return false;

                    }


                }
                for (var j = 0, length = elements1.length; j < length; j++) {
                    if (elements1[j].value == '') {

                        document.getElementById("errorMessage").innerHTML = "Please fill/Select all document name";
                        error_code = 1;
                        return false;

                    }


                }
                if (error_code != 1) {

                    document.getElementById("errorMessage").innerHTML = "";
                    $("#update_icp_docs").attr("disabled", "disabled");
                    return true;
                } else {
                    return false;
                }

//                firstname = escape(firstname);
//                lastname = escape(lastname);
//                email = escape(email);
//                store_name = escape(store_name);landmark = escape(landmark);shop_type = escape(shop_type);
//                hno = escape(hno);
//                locality = escape(locality);remarks_crdlimt = escape(remarks_crdlimt);
//                constuency = escape(constuency);village = escape(village);
//                shipping_preference2 = escape(shipping_preference2);shipping_preference1 = escape(shipping_preference1);
//                var acquired_by = escape(acquired_by);
//                var acquired_person = escape(acquired_person);
//                var activated_date = escape(activated_date);
//                               var docreceived = escape(docreceived);
//                               var shop_type_others = escape(shop_type_others);
//                  
//                 var  path = "updateRetailer.php?texrFirstName1="+firstname+"&texrLastName1="+lastname+"&texrMobile1="+mobile+"&texrAltMobile1="+altmobile+
//        "&texrlandLine1="+landline+"&texrRegion1="+region+"&texrEmail1="+email+"&texrCity1="+city+"&texrstate1="+state+"&texrHouseNo1="
//        +hno+"&texrStreet1="+street+"&texrLocality1="+locality+"&texrLandMark1="+landmark+"&texrDistributorName1="+distId+"&texrPin1="
//      +pin+"&texrDistrict1="+district+"&status1="+status+"&retailerid1="+rid+"&contactid1="+contactid+"&addressid1="+addressid+"&distributorId1="+did+"&regionId1="
//      +regionId+"&store_name="+store_name+"&category="+category+"&new_limit="+new_limit+"&opening_cr_limit="+opening_cr_limit+"&creditLimit="+creditLimit
//      +"&custom_message="+custom_message+"&payment_id="+payment_id+"&hiddeposit_id="+hiddeposit_id+
//      "&hiddeposit_id1="+hiddeposit_id1+"&remarks_crdlimt="+remarks_crdlimt+
//      "&refr_id="+refr_id+"&dbpaymentid="+dbpaymentid+"&befor_status="+befor_status+"&app_type="+app_type+"&shop_type="+shop_type
//      +"&constuency="+constuency+"&village="+village+"&shipping_preference1="+shipping_preference1+"&shipping_preference2="+shipping_preference2
//       +"&acquired_by="+acquired_by+"&acquired_person="+acquired_person+"&activated_date="+activated_date+"&icp_mode="+icp_mode+"&docreceive="+docreceived+"&shop_type_others="+shop_type_others;
//      
//                if (window.XMLHttpRequest)
//				  {// code for IE7+, Firefox, Chrome, Opera, Safari
//				  xmlhttp=new XMLHttpRequest();
//				  }
//				else
//				  {// code for IE6, IE5
//				  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
//				  }
//				xmlhttp.onreadystatechange=function()
//				  {
//				  if (xmlhttp.readyState==4 && xmlhttp.status==200)
//					{
//					document.getElementById("alter").innerHTML=xmlhttp.responseText;
//					}
//				  }
//				xmlhttp.open("GET",path,true);
//				xmlhttp.send();
                
	}
		
		
		</script>

		<script type="text/javascript">
			function viewDistributor(distributorid)
			{
                            var url = "viewDistributor.php";
            var path = "distributorid="+distributorid;
            var divid = "#alter";
         <?php   
          $access = "view";
          $objects = "ICC";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
					}
		</script>

		<script type="text/javascript">
			function editDistributor(distributorid)
			{
                         
                 var path= "distributorid="+distributorid;
                  var url = "editDistributor.php";
                       var divid = "#alter";
         <?php   
          $access = "edit";
          $objects = "ICC";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
           
                
			}
		</script>
		
		<script type="text/javascript">
			function distributorPayments(distributorid)
			{
				var path= "distributorid="+distributorid;
                  var url = "paymentsOfDistributor.php";
                       var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICC PAYMENTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
				
			
			}
		</script>

	<script type="text/javascript">
			function marginsOfDistributor(distributorid)
			{
				var path= "distributorid="+distributorid;
                  var url = "marginsOfDistributor.php";
                       var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICC MARGINS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
				
			}
		
			function viewRetailer(retailerid,fstname,lastname,rid,rlocation,did,rstatus)
			{
                            var url = "viewRetailer.php";
                        var path = "retailerid="+retailerid+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
                        var divid = "#alter";
                      <?php   
                       $access = "view";
                       $objects = "ICP";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                        }
		
			function editRetailer(retailerid,fstname,lastname,rid,rlocation,did,rstatus)
			{
                        var path= "retailerId="+retailerid+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
                        var url = "editRetailer.php";
                        var divid = "#alter";
                     <?php   
                      $access = "edit";
                      $objects = "ICP";

                      $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                		
		
	
			}
		</script>

	<script type="text/javascript">
			function marginsOfRetailer(retailerid)
			{
				
				var retailerid;
				//alert(retailerid);
                              //  $('#alter').load("searchRetailerMargin.php?retid="+retailerid);
				
				var path= "marginsOfRetailer.php?retailerid="+retailerid;
				//alert(path);

				//Declaring Variables
				var xmlhttp;
				if (window.XMLHttpRequest)
				  {// code for IE7+, Firefox, Chrome, Opera, Safari
				  xmlhttp=new XMLHttpRequest();
				  }
				else
				  {// code for IE6, IE5
				  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				  }
				xmlhttp.onreadystatechange=function()
				  {
				  if (xmlhttp.readyState==4 && xmlhttp.status==200)
				    {
				    document.getElementById("alter").innerHTML=xmlhttp.responseText;
				    }
				  }
				xmlhttp.open("GET",path,true);
				xmlhttp.send();
				
			
			}
		</script>

		<script type="text/javascript">
		function retailerPayments(retailerid,fstname,lastname,rid,rlocation,did,rstatus)
		{
			 var url = "paymentsOfRetailer.php";
                        var path = "retailerid="+retailerid+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
                        var divid = "#alter";
                      <?php   
                       $access = "view";
                       $objects = "ICP PAYMENTS";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");

		}
			</script>
		
		

		<script type="text/javascript">
			function viewBeatguy(betid)
			{
                            var url = "viewBeatguy.php";
                            var path = "betid="+betid;
                             var divid = "#alter";
                          <?php   
                           $access = "view";
                           $objects = "BEATGUY";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
				
			}
		</script>
		<script type="text/javascript">
			function editBeatguy(betid)
			{
                            var url = "editBeatguy1.php";
                            var path= "betid="+betid;
                             var divid = "#alter";
                          <?php   
                           $access = "edit";
                           $objects = "BEATGUY";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");

                        }
				
		</script>


		<script type="text/javascript">
			function serachDistributorPayment()
			{
				
				//alert(betid);
				
				var path= "searchDistributorPayment.php";
				//alert(path);

				//Declaring Variables
				var xmlhttp;
				if (window.XMLHttpRequest)
				  {// code for IE7+, Firefox, Chrome, Opera, Safari
				  xmlhttp=new XMLHttpRequest();
				  }
				else
				  {// code for IE6, IE5
				  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				  }
				xmlhttp.onreadystatechange=function()
				  {
				  if (xmlhttp.readyState==4 && xmlhttp.status==200)
				    {
				    document.getElementById("alter").innerHTML=xmlhttp.responseText;
				    }
				  }
				xmlhttp.open("GET",path,true);
				xmlhttp.send();
		
	
			}
		</script>
	
			

		<script type="text/javascript">
			function serachRetailerPayment()
			{
				
				//alert(5);
				
				var path= "searchRetailerPayment.php";
				//alert(path);

				//Declaring Variables
				var xmlhttp;
				if (window.XMLHttpRequest)
				  {// code for IE7+, Firefox, Chrome, Opera, Safari
				  xmlhttp=new XMLHttpRequest();
				  }
				else
				  {// code for IE6, IE5
				  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				  }
				xmlhttp.onreadystatechange=function()
				  {
				  if (xmlhttp.readyState==4 && xmlhttp.status==200)
				    {
				    document.getElementById("alter").innerHTML=xmlhttp.responseText;
				    }
				  }
				xmlhttp.open("GET",path,true);
				xmlhttp.send();
		
	
			}
		</script>


		
	<script type="text/javascript"  >
			
		function bvalidate()
	{
		var distid;	
		var firstname;
		var lastname;
		var mobile;
		
		var hno;
		var street;

		var locality;
		
		var city;
	
		var district;
		var pin;
		var state;
		
		var distidErrorMessage = "Please Enter ICC Id";
		var firstnameErrorMessage = "Please Enter Valid Firstname";	
		var lastnameErrorMessage = "Please Enter Valid Lastname";	
		var mobileErrorMessage = "Please Enter Valid Mobile Number";	
		var AltmobileErrorMessage = "Please Enter Valid AltMobile Number";
		var streetErrorMessage = "Please Enter Street";	
		var hnoErrorMessage = "Please Enter House No";	
		var localityErrorMessage = "Please Enter Locality";	
		 var emailErrorMessage = "Please Enter Valid Email Address";		
		var cityErrorMessage = "Please Enter City";
		var districtErrorMessage = "Please Enter District";	
		var pinErrorMessage = "Please Enter Zip Code";	
		var stateErrorMessage = "Please Enter state";	
                var statusErrorMessage = "Please Select Status";
		

		distid = document.getElementById("texbDistributorName").value;
		firstname = document.getElementById("texbFirstName").value;
		lastname = document.getElementById("texbLastName").value;
		mobile = document.getElementById("texbMobile").value;
		hno = document.getElementById("texbHouseNo").value;
		street = document.getElementById("texbStreet").value;
		locality = document.getElementById("texbLocality").value;
		city = document.getElementById("texbCity").value;
		district = document.getElementById("texbDistrict").value;
		pin = document.getElementById("texbPin").value;
		state = document.getElementById("texbstate").value;
		var status = document.getElementById("status").value;
                
                
               var altmobile = document.getElementById("texbAltMobile").value;
              var  landline = document.getElementById("texblandLine").value;
              var  region = document.getElementById("texbRegion").value;
              var  email  = document.getElementById("texbEmail").value;
              var landmark = document.getElementById("texbLandMark").value;

		var fstnamepattern = /^[a-z A-Z]+$/;
		var lastnamepattern = /^[a-z A-Z]+$/;
		var mobilenopattern = /^[0-9]+$/;
		var streetpattern = /^[a-z 0-9 A-Z]+$/;
		var localitypattern = /^[a-z A-Z]+$/;
		var citypattern = /^[a-z A-Z]+$/;
		
		var pinpattern = /^[0-9]+$/;
		var emailpattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
		
		
		if(trim(firstname).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
			document.getElementById("texbFirstName").focus();
			return false;
		}
		if(!firstname.match(fstnamepattern))
		{
			document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
			document.getElementById("texbFirstName").focus();
			return false;
		}
		if(trim(lastname).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
			document.getElementById("texbLastName").focus();
			return false;
		}
		if(!lastname.match(lastnamepattern))
		{
			document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
			document.getElementById("texbLastName").focus();
			return false;
		}
                
                if(trim(altmobile).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = AltmobileErrorMessage;
			document.getElementById("texbAltMobile").focus();
			return false;
		}
                
		if(altmobile.length < 10)
		{
			document.getElementById("errorMessage").innerHTML = AltmobileErrorMessage;
			document.getElementById("texbAltMobile").focus();
			return false;
		}
//		if(!altmobile.match(mobilenopattern))
//		{
//			document.getElementById("errorMessage").innerHTML = AltmobileErrorMessage;
//			document.getElementById("texbAltMobile").focus();
//			return false;
//		}
		if(trim(mobile).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
			document.getElementById("texbMobile").focus();
			return false;
		}
                
//		if(mobile.length < 10)
//		{
//			document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
//			document.getElementById("texbMobile").focus();
//			return false;
//		}
		if(!mobile.match(mobilenopattern))
		{
			document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
			document.getElementById("texbMobile").focus();
			return false;
		}
                if(email.length > 0)
		{
	
                        if(!email.match(emailpattern))
		{
			document.getElementById("errorMessage").innerHTML = emailErrorMessage;
			document.getElementById("texbEmail").focus();
			return false;
		}
		}
		if(trim(hno).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = hnoErrorMessage;
			document.getElementById("texbHouseNo").focus();
			return false;
		}
		if(trim(street).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = streetErrorMessage;
			document.getElementById("texbStreet").focus();
			return false;
		}
		if(!street.match(streetpattern))
		{
			document.getElementById("errorMessage").innerHTML = streetErrorMessage;
			document.getElementById("texbStreet").focus();
			return false;
		}
		if(trim(locality).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = localityErrorMessage;
			document.getElementById("texbLocality").focus();
			return false;
		}
		if(!locality.match(localitypattern))
		{
			document.getElementById("errorMessage").innerHTML = localityErrorMessage;
			document.getElementById("texbLocality").focus();
			return false;
		}
		if(trim(distid).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = distidErrorMessage;
			document.getElementById("texbDistributorName").focus();
			return false;
		}
		if(trim(city).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = cityErrorMessage;
			document.getElementById("texbCity").focus();
			return false;
		}
		if(!city.match(citypattern))
		{
			document.getElementById("errorMessage").innerHTML = cityErrorMessage;
			document.getElementById("texbCity").focus();
			return false;
		}
	
		if(state.length == 0)
		{
			document.getElementById("errorMessage").innerHTML = stateErrorMessage;
			document.getElementById("texbstate").focus();
			return false;
		}
		if(district.length == 0)
		{
			document.getElementById("errorMessage").innerHTML = districtErrorMessage;
			document.getElementById("texbDistrict").focus();
			return false;
		}
		
		if(trim(pin).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
			document.getElementById("texbPin").focus();
			return false;
		}
//		if(pin.length < 6)
//		{
//			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
//			document.getElementById("texbPin").focus();
//			return false;
//		}
		if(!pin.match(pinpattern))
		{
			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
			document.getElementById("texbPin").focus();
			return false;
		}

		
		
		
		if(status.length == 0)
		{
			document.getElementById("errorMessage").innerHTML = statusErrorMessage;
			document.getElementById("status").focus();
			return false;
		}
                
                
                 var  path = "insertBeatguy.php?texbFirstName1="+firstname+"&texbLastName1="+lastname+"&texbMobile1="+mobile+"&texbAltMobile1="+altmobile+
        "&texblandLine1="+landline+"&texbRegion1="+region+"&texbEmail1="+email+"&texbCity1="+city+"&texbstate1="+state+"&texbHouseNo1="
        +hno+"&texbStreet1="+street+"&texbLocality1="+locality+"&texbLandMark1="+landmark+"&texDistId1="+distid+"&texbPin1="
      +pin+"&texbDistrict1="+district+"&status1="+status;
                        
      // alert(path);
            
                   
                if (window.XMLHttpRequest)
				  {// code for IE7+, Firefox, Chrome, Opera, Safari
				  xmlhttp=new XMLHttpRequest();
				  }
				else
				  {// code for IE6, IE5
				  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				  }
				xmlhttp.onreadystatechange=function()
				  {
				  if (xmlhttp.readyState==4 && xmlhttp.status==200)
					{
					document.getElementById("alter").innerHTML=xmlhttp.responseText;
					}
				  }
				xmlhttp.open("GET",path,true);
				xmlhttp.send();
        }
        
        

        function updateBeatguy()
	{
             //alert(5);
		var distid;	
		var firstname;
		var lastname;
                var bcollectionlimit;
		var mobile;
		
		var hno;
		var street;

		var locality;
		
		var city;
	
		var district;
		var pin;
		var state;
		
		var distidErrorMessage = "Please Enter ICC Id";
		var firstnameErrorMessage = "Please Enter Valid Firstname";	
		var lastnameErrorMessage = "Please Enter Valid Lastname";
                var collectionlimitErrorMessage="Please Enter Valid Collection Limit"
		var mobileErrorMessage = "Please Enter Valid Mobile Number";	
		
		var streetErrorMessage = "Please Enter Street";	
		var hnoErrorMessage = "Please Enter House No";	
		var localityErrorMessage = "Please Enter Locality";	
		 var emailErrorMessage = "Please Enter Valid Email Address";		
		var cityErrorMessage = "Please Enter City";
		var districtErrorMessage = "Please Enter District";	
		var pinErrorMessage = "Please Enter Zip Code";	
		var stateErrorMessage = "Please Enter state";
                var statusErrorMessage = "Please Select Status";
		

		distid = document.getElementById("texbDistributorName").value;
		firstname = document.getElementById("texbFirstName").value;
		lastname = document.getElementById("texbLastName").value;
                bcollectionlimit=document.getElementById("texbcollectionlimit").value;
		mobile = document.getElementById("texbMobile").value;
		hno = document.getElementById("texbHouseNo").value;
		street = document.getElementById("texbStreet").value;
		locality = document.getElementById("texbLocality").value;
		city = document.getElementById("texbCity").value;
		district = document.getElementById("texbDistrict").value;
		pin = document.getElementById("texbPin").value;
		state = document.getElementById("texbstate").value;
		var status = document.getElementById("status").value;
                var bid = document.getElementById("hidBid1").value;
                
                
               var altmobile = document.getElementById("texbAltMobile").value;
              var  landline = document.getElementById("texblandLine").value;
              var  region = document.getElementById("texbRegion").value;
              var  email  = document.getElementById("texbEmail").value;
              var landmark = document.getElementById("texbLandMark").value;

		var fstnamepattern = /^[a-z A-Z]+$/;
		var lastnamepattern = /^[a-z A-Z]+$/;
		var mobilenopattern = /^[0-9]+$/;
		var streetpattern = /^[a-z 0-9 A-Z]+$/;
		var localitypattern = /^[a-z A-Z]+$/;
		var citypattern = /^[a-z A-Z]+$/;
		var emailpattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
		var pinpattern = /^[0-9]+$/;
		
		
		if(trim(firstname).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
			document.getElementById("texbFirstName").focus();
			return false;
		}
		if(!firstname.match(fstnamepattern))
		{
			document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
			document.getElementById("texbFirstName").focus();
			return false;
		}
		if(trim(lastname).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
			document.getElementById("texbLastName").focus();
			return false;
		}
		if(!lastname.match(lastnamepattern))
		{
			document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
			document.getElementById("texbLastName").focus();
			return false;
		}
                if(trim(bcollectionlimit).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = collectionlimitErrorMessage;
			document.getElementById("texbcollectionlimit").focus();
			return false;
		}
		if(trim(mobile).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
			document.getElementById("texbMobile").focus();
			return false;
		}
//		if(mobile.length < 10)
//		{
//			document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
//			document.getElementById("texbMobile").focus();
//			return false;
//		}
		if(!mobile.match(mobilenopattern))
		{
			document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
			document.getElementById("texbMobile").focus();
			return false;
		}
                if(email.length > 0)
		{
	
                        if(!email.match(emailpattern))
		{
			document.getElementById("errorMessage").innerHTML = emailErrorMessage;
			document.getElementById("texbEmail").focus();
			return false;
		}
		}
		if(trim(hno).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = hnoErrorMessage;
			document.getElementById("texbHouseNo").focus();
			return false;
		}
		if(trim(street).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = streetErrorMessage;
			document.getElementById("texbStreet").focus();
			return false;
		}
		if(!street.match(streetpattern))
		{
			document.getElementById("errorMessage").innerHTML = streetErrorMessage;
			document.getElementById("texbStreet").focus();
			return false;
		}
		if(trim(locality).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = localityErrorMessage;
			document.getElementById("texbLocality").focus();
			return false;
		}
		if(!locality.match(localitypattern))
		{
			document.getElementById("errorMessage").innerHTML = localityErrorMessage;
			document.getElementById("texbLocality").focus();
			return false;
		}
		if(trim(distid).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = distidErrorMessage;
			document.getElementById("texbDistributorName").focus();
			return false;
		}
		if(trim(city).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = cityErrorMessage;
			document.getElementById("texbCity").focus();
			return false;
		}
		if(!city.match(citypattern))
		{
			document.getElementById("errorMessage").innerHTML = cityErrorMessage;
			document.getElementById("texbCity").focus();
			return false;
		}
	
		if(trim(state).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = stateErrorMessage;
			document.getElementById("texbstate").focus();
			return false;
		}
		if(district.length == 0)
		{
			document.getElementById("errorMessage").innerHTML = districtErrorMessage;
			document.getElementById("texbDistrict").focus();
			return false;
		}
		
		if(trim(pin).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
			document.getElementById("texbPin").focus();
			return false;
		}
//		if(pin.length < 6)
//		{
//			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
//			document.getElementById("texbPin").focus();
//			return false;
//		}
		if(!pin.match(pinpattern))
		{
			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
			document.getElementById("texbPin").focus();
			return false;
		}

		
		
		
		if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = statusErrorMessage;
			document.getElementById("status").focus();
			return false;
		}
                
                
                 var  path = "updateBeatguy.php?texbFirstName1="+firstname+"&texbLastName1="+lastname+"&texbcollectionlimit="+bcollectionlimit+"&texbMobile1="+mobile+"&texbAltMobile1="+altmobile+
        "&texblandLine1="+landline+"&texbRegion1="+region+"&texbEmail1="+email+"&texbCity1="+city+"&texbstate1="+state+"&texbHouseNo1="
        +hno+"&texbStreet1="+street+"&texbLocality1="+locality+"&texbLandMark1="+landmark+"&texDistId1="+distid+"&texbPin1="
      +pin+"&texbDistrict1="+district+"&status1="+status+"&hidBid="+bid;
                        
      // alert(path);
            
                   
                if (window.XMLHttpRequest)
				  {// code for IE7+, Firefox, Chrome, Opera, Safari
				  xmlhttp=new XMLHttpRequest();
				  }
				else
				  {// code for IE6, IE5
				  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				  }
				xmlhttp.onreadystatechange=function()
				  {
				  if (xmlhttp.readyState==4 && xmlhttp.status==200)
					{
					document.getElementById("alter").innerHTML=xmlhttp.responseText;
					}
				  }
				xmlhttp.open("GET",path,true);
				xmlhttp.send();
		
			

	}


</script>


		<script type="text/javascript"  >
			
		function avalidate()
            {
                var firstname;
                var lastname;
                var mobile;
                var email;

                var hno;
                var street;

                var locality;

                var city;

                var district;
                var pin;
                var state;

                var userid;

                var password;
                
                var status;


                var firstnameErrorMessage = "Please Enter Valid Firstname";
                var lastnameErrorMessage = "Please Enter Valid Lastname";
                var mobileErrorMessage = "Please Enter Valid Mobile Number";
                var emailErrorMessage = "Please Enter Valid Mail";
                var streetErrorMessage = "Please Enter Street";
                var hnoErrorMessage = "Please Enter House No";
                var localityErrorMessage = "Please Enter Locality";
                 var emailErrorMessage = "Please Enter Valid Email Address";	
                var cityErrorMessage = "Please Enter City";
                var districtErrorMessage = "Please Enter District";
                var pinErrorMessage = "Please Enter Zip Code";
                var stateErrorMessage = "Please Enter state";
                var useridErrorMessage = "Please Enter UserID";
                var passwordErrorMessage = "Please Enter Default Password";
                var statusErrorMessage = "Please Select Status";



                firstname = document.getElementById("texaFirstName").value;
                lastname = document.getElementById("texaLastName").value;
                mobile = document.getElementById("texaMobile").value;
                hno = document.getElementById("texaHouseNo").value;
                email = document.getElementById("texaEmail").value;

                street = document.getElementById("texaStreet").value;
                locality = document.getElementById("texaLocality").value;
                city = document.getElementById("texaCity").value;
                district = document.getElementById("texaDistrict").value;

                pin = document.getElementById("texaPin").value;
                state = document.getElementById("texastate").value;
                status = document.getElementById("status").value;
                userid = document.getElementById("texuserid").value;
                password = document.getElementById("texPassword").value;
                
                
                 var altmobile = document.getElementById("texaAltMobile").value;
              var  landline = document.getElementById("texalandLine").value;
             // var  region = document.getElementById("texbRegion").value;
              var  email  = document.getElementById("texaEmail").value;
              var landmark = document.getElementById("texaLandMark").value;

                   //alert(status);


                var fstnamepattern = /^[a-z A-Z]+$/;
                var lastnamepattern = /^[a-z A-Z]+$/;
                var mobilenopattern = /^[0-9]+$/;
                var streetpattern = /^[a-z 0-9 A-Z]+$/;
                var localitypattern = /^[a-z 0-9 A-Z]+$/;
                var citypattern = /^[a-z A-Z]+$/;

                var pinpattern = /^[0-9]+$/;

                var emailpattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;



                if (trim(firstname).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
                    document.getElementById("texaFirstName").focus();
                    return false;
                }
                if (!firstname.match(fstnamepattern))
                {
                    document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
                    document.getElementById("texaFirstName").focus();
                    return false;
                }

                if (trim(lastname).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
                    document.getElementById("texaLastName").focus();
                    return false;
                }
                if (!lastname.match(lastnamepattern))
                {
                    document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
                    document.getElementById("texaLastName").focus();
                    return false;
                }

                if (trim(mobile).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
                    document.getElementById("texaMobile").focus();
                    return false;
                }
//                if (mobile.length < 10)
//                {
//                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
//                    document.getElementById("texaMobile").focus();
//                    return false;
//                }
                if (!mobile.match(mobilenopattern))
                {
                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
                    document.getElementById("texaMobile").focus();
                    return false;
                }
                if(email.length > 0)
		{
	
                        if(!email.match(emailpattern))
		{
			document.getElementById("errorMessage").innerHTML = emailErrorMessage;
			document.getElementById("texaEmail").focus();
			return false;
		}
		}
                if (trim(hno).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = hnoErrorMessage;
                    document.getElementById("texaHouseNo").focus();
                    return false;
                }
                if (trim(userid).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = useridErrorMessage;
                    document.getElementById("texuserid").focus();
                    return false;
                }
                if (trim(password).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = passwordErrorMessage;
                    document.getElementById("texPassword").focus();
                    return false;
                }
                    
                if(trim(street).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = streetErrorMessage;
			document.getElementById("texaStreet").focus();
			return false;
		}
		if(!street.match(streetpattern))
		{
			document.getElementById("errorMessage").innerHTML = streetErrorMessage;
			document.getElementById("texaStreet").focus();
			return false;
		}
                if(trim(locality).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = localityErrorMessage;
			document.getElementById("texaLocality").focus();
			return false;
		}
		if(!locality.match(localitypattern))
		{
			document.getElementById("errorMessage").innerHTML = localityErrorMessage;
			document.getElementById("texaLocality").focus();
			return false;
		}
                if(trim(city).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = cityErrorMessage;
			document.getElementById("texaCity").focus();
			return false;
		}
		if(!city.match(citypattern))
		{
			document.getElementById("errorMessage").innerHTML = cityErrorMessage;
			document.getElementById("texaCity").focus();
			return false;
		}
                if(trim(state).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = stateErrorMessage;
			document.getElementById("texastate").focus();
			return false;
		}
                if(trim(district).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = districtErrorMessage;
			document.getElementById("texaDistrict").focus();
			return false;
		}
                
                if(trim(pin).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
			document.getElementById("texaPin").focus();
			return false;
		}
//		if(pin.length < 6)
//		{
//			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
//			document.getElementById("texaPin").focus();
//			return false;
//		}
		if(!pin.match(pinpattern))
		{
			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
			document.getElementById("texaPin").focus();
			return false;
		}
                if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = statusErrorMessage;
			document.getElementById("status").focus();
			return false;
		}
                
                 var  path = "insertAgent.php?texaFirstName1="+firstname+"&texaLastName1="+lastname+"&texaMobile1="+mobile+"&texaAltMobile1="+altmobile+
        "&texalandLine1="+landline+"&texuserid1="+userid+"&texaEmail1="+email+"&texaCity1="+city+"&texastate1="+state+"&texaHouseNo1="
        +hno+"&texaStreet1="+street+"&texaLocality1="+locality+"&texaLandMark1="+landmark+"&texPassword1="+password+"&texaPin1="
      +pin+"&texaDistrict1="+district+"&status1="+status;
      
       
                        
       //alert(path);
            
                   
                if (window.XMLHttpRequest)
				  {// code for IE7+, Firefox, Chrome, Opera, Safari
				  xmlhttp=new XMLHttpRequest();
				  }
				else
				  {// code for IE6, IE5
				  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				  }
				xmlhttp.onreadystatechange=function()
				  {
				  if (xmlhttp.readyState==4 && xmlhttp.status==200)
					{
					document.getElementById("alter").innerHTML=xmlhttp.responseText;
					}
				  }
				xmlhttp.open("GET",path,true);
				xmlhttp.send();
		



            }
function updateAgent()
            {
                var firstname;
                var lastname;
                var mobile;
                var email;

                var hno;
                var street;

                var locality;

                var city;

                var district;
                var pin;
                var state;

                var userid;

                var password;
                
                var status;


                var firstnameErrorMessage = "Please Enter Valid Firstname";
                var lastnameErrorMessage = "Please Enter Valid Lastname";
                var mobileErrorMessage = "Please Enter Valid Mobile Number";
                var emailErrorMessage = "Please Enter Valid Mail";
                var streetErrorMessage = "Please Enter Street";
                var hnoErrorMessage = "Please Enter House No";
                var localityErrorMessage = "Please Enter Locality";
                var emailErrorMessage = "Please Enter Valid Email Address";	                  
                var cityErrorMessage = "Please Enter City";
                var districtErrorMessage = "Please Enter District";
                var pinErrorMessage = "Please Enter Zip Code";
                var stateErrorMessage = "Please Enter state";
                var useridErrorMessage = "Please Enter UserID";
                var passwordErrorMessage = "Please Enter Default Password";
                var statusErrorMessage = "Please Select Status";



                firstname = document.getElementById("texaFirstName").value;
                lastname = document.getElementById("texaLastName").value;
                mobile = document.getElementById("texaMobile").value;
                hno = document.getElementById("texaHouseNo").value;
                email = document.getElementById("texaEmail").value;

                street = document.getElementById("texaStreet").value;
                locality = document.getElementById("texaLocality").value;
                city = document.getElementById("texaCity").value;
                district = document.getElementById("texaDistrict").value;
       
                pin = document.getElementById("texaPin").value;
                state = document.getElementById("texastate").value;
                status = document.getElementById("status").value;
               
                
                
                 var altmobile = document.getElementById("texaAltMobile").value;
              var  landline = document.getElementById("texalandLine").value;
             // var  region = document.getElementById("texbRegion").value;
              var  email  = document.getElementById("texaEmail").value;
              var landmark = document.getElementById("texaLandMark").value;

                var agentId = document.getElementById("agentId").value;
              var contactid = document.getElementById("contactid").value;
              var addressid = document.getElementById("addressid").value;
              
                   //alert(status);


                var fstnamepattern = /^[a-z A-Z]+$/;
                var lastnamepattern = /^[a-z A-Z]+$/;
                var mobilenopattern = /^[0-9]+$/;
                var streetpattern = /^[a-z 0-9 A-Z]+$/;
                var localitypattern = /^[a-z 0-9 A-Z]+$/;
                var citypattern = /^[a-z A-Z]+$/;

                var pinpattern = /^[0-9]+$/;

               var emailpattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;



                if (trim(firstname).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
                    document.getElementById("texaFirstName").focus();
                    return false;
                }
                if (!firstname.match(fstnamepattern))
                {
                    document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
                    document.getElementById("texaFirstName").focus();
                    return false;
                }

                if (trim(lastname).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
                    document.getElementById("texaLastName").focus();
                    return false;
                }
                if (!lastname.match(lastnamepattern))
                {
                    document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
                    document.getElementById("texaLastName").focus();
                    return false;
                }

                if (trim(mobile).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
                    document.getElementById("texaMobile").focus();
                    return false;
                }
//                if (mobile.length < 10)
//                {
//                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
//                    document.getElementById("texaMobile").focus();
//                    return false;
//                }
                if (!mobile.match(mobilenopattern))
                {
                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
                    document.getElementById("texaMobile").focus();
                    return false;
                }
                if(email.length > 0)
		{
	
                        if(!email.match(emailpattern))
		{
			document.getElementById("errorMessage").innerHTML = emailErrorMessage;
			document.getElementById("texaEmail").focus();
			return false;
		}
		}
                if (trim(hno).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = hnoErrorMessage;
                    document.getElementById("texaHouseNo").focus();
                    return false;
                }
                   
                if(trim(street).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = streetErrorMessage;
			document.getElementById("texaStreet").focus();
			return false;
		}
		if(!street.match(streetpattern))
		{
			document.getElementById("errorMessage").innerHTML = streetErrorMessage;
			document.getElementById("texaStreet").focus();
			return false;
		}
                if(trim(locality).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = localityErrorMessage;
			document.getElementById("texaLocality").focus();
			return false;
		}
		if(!locality.match(localitypattern))
		{
			document.getElementById("errorMessage").innerHTML = localityErrorMessage;
			document.getElementById("texaLocality").focus();
			return false;
		}
                if(trim(city).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = cityErrorMessage;
			document.getElementById("texaCity").focus();
			return false;
		}
		if(!city.match(citypattern))
		{
			document.getElementById("errorMessage").innerHTML = cityErrorMessage;
			document.getElementById("texaCity").focus();
			return false;
		}
                if(trim(state).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = stateErrorMessage;
			document.getElementById("texastate").focus();
			return false;
		}
                if(trim(district).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = districtErrorMessage;
			document.getElementById("texaDistrict").focus();
			return false;
		}
                
                if(trim(pin).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
			document.getElementById("texaPin").focus();
			return false;
		}
//		if(pin.length < 6)
//		{
//			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
//			document.getElementById("texaPin").focus();
//			return false;
//		}
		if(!pin.match(pinpattern))
		{
			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
			document.getElementById("texaPin").focus();
			return false;
		}
                if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = statusErrorMessage;
			document.getElementById("status").focus();
			return false;
		}
                
                 var  path = "updateAgent.php?texaFirstName1="+firstname+"&texaLastName1="+lastname+"&texaMobile1="+mobile+"&texaAltMobile1="+altmobile+
        "&texalandLine1="+landline+"&texaEmail1="+email+"&texaCity1="+city+"&texastate1="+state+"&texaHouseNo1="
        +hno+"&texaStreet1="+street+"&texaLocality1="+locality+"&texaLandMark1="+landmark+"&texaPin1="
      +pin+"&texaDistrict1="+district+"&status1="+status+"&agentId1="+agentId+"&contactid1="+contactid+"&addressid1="+addressid;
      
        
                        
      // alert(path);
            
                   
                if (window.XMLHttpRequest)
				  {// code for IE7+, Firefox, Chrome, Opera, Safari
				  xmlhttp=new XMLHttpRequest();
				  }
				else
				  {// code for IE6, IE5
				  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				  }
				xmlhttp.onreadystatechange=function()
				  {
				  if (xmlhttp.readyState==4 && xmlhttp.status==200)
					{
					document.getElementById("alter").innerHTML=xmlhttp.responseText;
					}
				  }
				xmlhttp.open("GET",path,true);
				xmlhttp.send();
		

            }
				


</script>


		<script type="text/javascript">
			function viewAgent(agentid)
			{
				var agentid;
				//alert(distributorid);
				
                            var	path= "viewAgent.php?agentid="+agentid;
				//alert(path);

				//Declaring Variables
				var xmlhttp;
				if (window.XMLHttpRequest)
				  {// code for IE7+, Firefox, Chrome, Opera, Safari
				  xmlhttp=new XMLHttpRequest();
				  }
				else
				  {// code for IE6, IE5
				  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				  }
				xmlhttp.onreadystatechange=function()
				  {
				  if (xmlhttp.readyState==4 && xmlhttp.status==200)
				    {
				    document.getElementById("alter").innerHTML=xmlhttp.responseText;
				    }
				  }
				xmlhttp.open("GET",path,true);
				xmlhttp.send();
		
	
			}
		</script>

	<script type="text/javascript">
			function editAgent(agentid)
			{
				var agentid;
				//alert(distributorid);
				
				var path= "editAgent.php?agentid="+agentid;
				//alert(path);

				//Declaring Variables
				var xmlhttp;
				if (window.XMLHttpRequest)
				  {// code for IE7+, Firefox, Chrome, Opera, Safari
				  xmlhttp=new XMLHttpRequest();
				  }
				else
				  {// code for IE6, IE5
				  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				  }
				xmlhttp.onreadystatechange=function()
				  {
				  if (xmlhttp.readyState==4 && xmlhttp.status==200)
				    {
				    document.getElementById("alter").innerHTML=xmlhttp.responseText;
				    }
				  }
				xmlhttp.open("GET",path,true);
				xmlhttp.send();
		
	
			}
		</script>
		<script type="text/javascript"  >
			
		function devicevalidate()
	{
		var manufacturer;
		var model;
		var imeid;
		var status;
		var user;
		var id;
		var error_code = 0;
		
			

		var manufacturerErrorMessage = "Please Enter Manufacturer Name";	
		var modelErrorMessage = "Please Enter Model";	
		var imeidErrorMessage = "Please Enter Valid IMEID Number";	
		var statusErrorMessage = "Please Select Status";
		var userErrorMessage = "Please Select One User";
		var idErrorMessage = "Please Select One User ID";
		
			


		manufacturer = document.getElementById("texManufature").value;
		model = document.getElementById("texModel").value;
		imeid = document.getElementById("texImeid").value;
		
		var device_type = document.getElementById("device_type").value;
		status = document.getElementById("status").value;
		//user = document.getElementById("user1").value;
		id = document.getElementById("texid").value;
		var user = document.getElementsByName("user").value;
          
                if(document.getElementById('user_icc').checked) {
               var user1 = "ICC";
             }else if(document.getElementById('user_icp').checked) {
                   var user1 = "ICP";
             }
             else if(document.getElementById('user_SalesAgent').checked) 
                 {
                      var user1 = "SalesAgent";
                 }
               else if(document.getElementById('user_Operations').checked) 
                 {
                      var user1 = "Operations";
                 }
		else
                    {document.getElementById("errorMessage_Device").innerHTML = userErrorMessage;
					document.getElementById("user_icc").focus();
                                        error_code = 1;
					return false;
                                    }
                    

		
		if(trim(manufacturer).length == 0)
		{
			document.getElementById("errorMessage_Device").innerHTML = manufacturerErrorMessage;
			document.getElementById("texManufature").focus();
                        error_code = 1;
			return false;
		}
		
		if(trim(model).length == 0)
		{
			document.getElementById("errorMessage_Device").innerHTML = modelErrorMessage;
			document.getElementById("texModel").focus();
                        error_code = 1;
			return false;
		}
		
		if(trim(imeid).length == 0)
		{
			document.getElementById("errorMessage_Device").innerHTML = imeidErrorMessage;
			document.getElementById("texImeid").focus();
                        error_code = 1;
			return false;
		}
		
		
						
		if(trim(id).length == 0)
		{
			document.getElementById("errorMessage_Device").innerHTML = idErrorMessage;
			document.getElementById("texid").focus();
                        error_code = 1;
			return false;
		}
		if(trim(status).length == 0)
		{
			document.getElementById("errorMessage_Device").innerHTML = statusErrorMessage;
			document.getElementById("status").focus();
                        error_code = 1;
			return false;
		}
                
                if(error_code != 1)
                             {
                             manufacturer = escape(manufacturer);
                             model = escape(model);
                             status = escape(status);
                             user1 = escape(user1);
                            imeid = escape(imeid);
                                     document.getElementById("errorMessage_Device").innerHTML = "";
                                    
                                        $('#inserdevicedetails').load("insertDevice.php?texManufature1="+manufacturer+"&texModel1="+model+"&texImeid1="+imeid+"&status1="+status+
        "&user="+user1+"&texid1="+id+"&device_type="+device_type );
                                    return true;
                                 
                                    }
                	

	}
        
        function updateDevice(before_status,before_imei,before_userid,device_from,device_mac)
	{
            
		var manufacturer;
		var model;
		var imeid;
		var status;
		var user;
		var id;
		var error_code = 0;
		
			

		var manufacturerErrorMessage = "Please Enter Manufacturer Name";	
		var modelErrorMessage = "Please Enter Model";	
		var imeidErrorMessage = "Please Enter Valid IMEID Number";	
		var statusErrorMessage = "Please Select Status";
		var userErrorMessage = "Please Select One User";
		var idErrorMessage = "Please Select One User ID";
		
			


		manufacturer = document.getElementById("texManufature").value;
		model = document.getElementById("texModel").value;
		imeid = document.getElementById("texImeid").value;
		
		
		status = document.getElementById("status").value;
		//user = document.getElementById("user1").value;
		id = document.getElementById("texid").value;
                var devid = document.getElementById("texHidid").value;
                //alert(devid);
		var user = document.getElementsByName("user").value;
          if(device_from == "IPAY"){
                if(document.getElementById('user_icc').checked) {
               var user1 = "ICC";
             }else if(document.getElementById('user_icp').checked) {
                   var user1 = "ICP";
             }
             else if(document.getElementById('user_SalesAgent').checked) 
                 {
                      var user1 = "SalesAgent";
                 }
                  else if(document.getElementById('user_Operations').checked) 
                 {
                      var user1 = "Operations";
                 }
		else
                    {document.getElementById("errorMessage_Device").innerHTML = userErrorMessage;
					document.getElementById("user_icc").focus();
                                        error_code = 1;
					return false;
                                    }
                                }
                    

		
		if(trim(manufacturer).length == 0)
		{
			document.getElementById("errorMessage_Device").innerHTML = manufacturerErrorMessage;
			document.getElementById("texManufature").focus();
                        error_code = 1;
			return false;
		}
		
		if(trim(model).length == 0)
		{
			document.getElementById("errorMessage_Device").innerHTML = modelErrorMessage;
			document.getElementById("texModel").focus();
                        error_code = 1;
			return false;
		}
		
		if(trim(imeid).length == 0)
		{
			document.getElementById("errorMessage_Device").innerHTML = imeidErrorMessage;
			document.getElementById("texImeid").focus();
                        error_code = 1;
			return false;
		}
		
		
						
		if(trim(id).length == 0)
		{
			document.getElementById("errorMessage_Device").innerHTML = idErrorMessage;
			document.getElementById("texid").focus();
                        error_code = 1;
			return false;
		}
		if(trim(status).length == 0)
		{
			document.getElementById("errorMessage_Device").innerHTML = statusErrorMessage;
			document.getElementById("status").focus();
                        error_code = 1;
			return false;
		}
          
        if(error_code != 1)
                             {
                             manufacturer = escape(manufacturer);
                             model = escape(model);
                             status = escape(status);
                             user1 = escape(user1);
                             id=escape(id);
                             before_userid =escape(before_userid);
                             before_status = escape(before_status);
                             imeid = escape(imeid);
                                     document.getElementById("errorMessage_Device").innerHTML = "";
                                    
  $('#update_device').load("updateDevice.php?texManufature1="+manufacturer+"&texModel1="+model+"&texImeid1="+imeid+"&status1="+status+
        "&user="+user1+"&texid1="+id+"&texHidid1="+devid+"&before_status="+before_status+"&before_imei="+before_imei+"&before_userid="+before_userid+"&device_from="+device_from+"&device_mac="+device_mac );
                                    return true;
                                 
                                    }
       

	}

</script>


			<script type="text/javascript">
			function viewDevice(deviceid,device_from,device_type)
			{ 
                           
                      
                            var url = "viewDevice.php";
                            var path= "deviceid="+deviceid+"&device_from="+device_from+"&device_type="+device_type;
                             var divid = "#alter";
                          <?php   
                           $access = "view";
                           $objects = "DEVICES";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
				
	
			}
		</script>
	
		<script type="text/javascript">
			function editDevice(deviceid,device_from,device_mac)
			{
                        var path= "deviceid="+deviceid+"&device_from="+device_from+"&device_mac="+device_mac;  
                        var url = "editDevice.php";
                        var divid = "#alter";
                          <?php   
                           $access = "edit";
                           $objects = "DEVICES";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                        }
		</script>
		
		
<script type="text/javascript">
		function retailerDueDetails()
		{
			
			var retid = document.getElementById("retid").value;
			var fromDate = document.getElementById("duesRetailerFromDate").value;
			var toDate = document.getElementById("duesRetailerToDate").value;
			//alert(retid);
		
			
				var path= "searchRetailerDue.php?retid="+retid+"&fromDate="+fromDate+"&toDate="+toDate;
				//alert(path);
			
			//Declaring Variables
				var xmlhttp;
				if (window.XMLHttpRequest)
				  {// code for IE7+, Firefox, Chrome, Opera, Safari
				  xmlhttp=new XMLHttpRequest();
				  }
				else
				  {// code for IE6, IE5
				  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				  }
				xmlhttp.onreadystatechange=function()
				  {
				  if (xmlhttp.readyState==4 && xmlhttp.status==200)
				    {
				    document.getElementById("alter").innerHTML=xmlhttp.responseText;
				    }
				  }
				xmlhttp.open("GET",path,true);
				xmlhttp.send();

		}
			</script>


	
		
	<script type="text/javascript">

		function loadDistricts(stateid)
			{  
                            
				//alert(stateid);
				//Declaring Variables
				var xmlHttp;
				
				if(window.XMLHttpRequest)
				{
					//IE6+,Chrome,Safari,Mozilla,Opera
					xmlHttp = new XMLHttpRequest();
					
				}
				else
				{	
					//I.E5,I.E6
					xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
				}
				
				//Processing Response
				xmlHttp.onreadystatechange = function()
				{
					if(xmlHttp.readyState == 4 && xmlHttp.status == 200)
					{
				 $("#texDistrict").removeAttr("disabled");		
                                    document.getElementById("texDistrict").innerHTML = xmlHttp.responseText;
					}
					
				}
				
				//Generating Request
				xmlHttp.open("GET","loadDistrictsByState.php?stateid="+stateid,true);
				xmlHttp.send();
			}
			
			
			</script>
                        
                        
                        <script type="text/javascript">

		function loadDistrictsForBeatguy(stateid)
			{  
                            
				//alert(stateid);
				//Declaring Variables
				var xmlHttp;
				
				if(window.XMLHttpRequest)
				{
					//IE6+,Chrome,Safari,Mozilla,Opera
					xmlHttp = new XMLHttpRequest();
					
				}
				else
				{	
					//I.E5,I.E6
					xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
				}
				
				//Processing Response
				xmlHttp.onreadystatechange = function()
				{
					if(xmlHttp.readyState == 4 && xmlHttp.status == 200)
					{
				 $("#texbDistrict").removeAttr("disabled");		
                                    document.getElementById("texbDistrict").innerHTML = xmlHttp.responseText;
					}
					
				}
				
				//Generating Request
				xmlHttp.open("GET","loadDistrictsByStateForBeatguy.php?stateid="+stateid,true);
				xmlHttp.send();
			}
			
			
			</script>


		<script type="text/javascript">

		function loadDistrictsForRetailer(stateid)
			{
				//alert(stateid);
				//Declaring Variables
				var xmlHttp;
				
				if(window.XMLHttpRequest)
				{
					//IE6+,Chrome,Safari,Mozilla,Opera
					xmlHttp = new XMLHttpRequest();
					
				}
				else
				{	
					//I.E5,I.E6
					xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
				}
				
				//Processing Response
				xmlHttp.onreadystatechange = function()
				{
					if(xmlHttp.readyState == 4 && xmlHttp.status == 200)
					{
                                             $("#texrDistrict").removeAttr("disabled");
						document.getElementById("texrDistrict").innerHTML = xmlHttp.responseText;
					}
					
				}
				
				//Generating Request
				xmlHttp.open("GET","loadDistrictsByStateForRetailer.php?stateid="+stateid,true);
				xmlHttp.send();
			}
			
			
			</script>

		


		
			<script type="text/javascript">

		function loadDistrictsForAgent(stateid)
			{
				//alert(stateid);
				//Declaring Variables
				var xmlHttp;
				
				if(window.XMLHttpRequest)
				{
					//IE6+,Chrome,Safari,Mozilla,Opera
					xmlHttp = new XMLHttpRequest();
					
				}
				else
				{	
					//I.E5,I.E6
					xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
				}
				
				//Processing Response
				xmlHttp.onreadystatechange = function()
				{
					if(xmlHttp.readyState == 4 && xmlHttp.status == 200)
					{
						$("#texaDistrict").removeAttr("disabled");
                                   document.getElementById("texaDistrict").innerHTML = xmlHttp.responseText;
					}
					
				}
				
				//Generating Request
				xmlHttp.open("GET","loadDistrictsByStateForAgent.php?stateid="+stateid,true);
				xmlHttp.send();
			}
			
			
			</script>

                           
                        
                           <script type="text/javascript">
			function viewBill(orderid)
			{
                            var url = "viewBill.php";
                  var path = "orderid="+orderid;
                     var divid = "#popup_billprocess";
                     var width = 1100;
                     var height = 500;
                     var title = 'Bills Process';
         <?php   
          $access = "edit";
          $objects = "BILLS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
				
			}
		</script>

<script type="text/javascript">
			function editBill(orderid)
			{
                             var path= "orderid="+orderid;   
                        var url = "editBill.php";
                        var divid = "#popup_billprocess";
                          <?php   
                           $access = "edit";
                           $objects = "BILLS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                        }
				
				//alert(path);

                        function viewBillInCancel(orderid)
			{
				var orderid;
                                
                                  //  alert(orderid);
				
				//var path= "editBill.php?orderid="+orderid;
                                var path= "orderid="+orderid;
				//alert(path);

				

                                        $("#popup_billprocess").load("viewBill.php", path);

                                    
	
			}
		</script>
<script type="text/javascript">
                
                        function updatebill()
			{
				
				//Declaring Variables
			                            
                            var orderid = document.getElementById("orderid").value;
                             var date = document.getElementById("texbilldate").value;
                             var referenceid = document.getElementById("texreferid").value;
                             var comments = document.getElementById("texComments").value;
                             var status = document.getElementById("status").value;
                               //alert(status);
                             var refIDErrorMessage = "Please Enter ReferenceID";
                            var  dateErrorMessage = "Please Enter Date";
                            var CommentErrorMessage = "Please Enter Comments";
                             var StatusErrorMessage = "Please Select Status";
                         
                           /*  alert(status);
                              alert(date);
                             alert(referenceid);
                             alert(comments);*/
                if(trim(status) == "SUCCESS" || trim(status) == "FAILED")
		{
                    if(trim(referenceid).length == 0)
                    {
                            document.getElementById("errorMessage").innerHTML = refIDErrorMessage;
                            document.getElementById("texreferid").focus();
                            return false;
                    }
                }
		if(trim(date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = dateErrorMessage;
			document.getElementById("texbilldate").focus();
			return false;
		}
		if(trim(comments).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = CommentErrorMessage;
			document.getElementById("texComments").focus();
			return false;
		}
                if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = StatusErrorMessage;
			document.getElementById("status").focus();
			return false;
		}
                else
                    {
                        document.getElementById("errorMessage").innerHTML = "";
                    }
		
		  
		  
                             
			//var path = "updateBillDetails.php?status="+status+"&orderid="+orderid+"&referenceid="+referenceid+"&comments="+comments+"&date="+date;
                        var path = "status="+status+"&orderid="+orderid+"&referenceid="+referenceid+"&comments="+comments+"&date="+date;
                        //alert(path);
                        
                       

                          $("#popup_billprocess").load("updateBillDetails.php", path);

                                   
		
				
			}
			
                        
			
			</script>	
<script type="text/javascript">
                
                        function updateHelpDeskDetails(fromdate,todate,status1,tkt_id,icp_id)
			{
				
				//Declaring Variables
			                            
                            var ticket_id = document.getElementById("ticket_id").value;
                             var assigned_to = trim(document.getElementById("assigned_to").value);
                             var closed_date = document.getElementById("closed_date").value;
                             var helpdesk_status = document.getElementById("helpdesk_status").value;
                             var resolution_info = trim(document.getElementById("resolution_info").value);
                              
                             var assignedToErrorMessage = "Please Enter Assigned To";
                            var  closedDateErrorMessage = "Please Enter ClosedDate";
                            var StatusErrorMessage = "Please Select Status";
                            var ResolutioninfoErrorMessage = "Please Enter Resolution Info";
                         
        
                if(trim(assigned_to).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = assignedToErrorMessage;
			document.getElementById("assigned_to").focus();
			return false;
		}
		if(trim(helpdesk_status).length != 0 && trim(helpdesk_status)=='CLOSED')
        {
         if(trim(closed_date)== "0000-00-00")
        {
                document.getElementById("closedDateErrorMessage").innerHTML = "Please Select Closed Date";
                document.getElementById("closed_date").focus();
                error_code=1;
                return false;
        }
    }
                 
		if(trim(resolution_info).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = ResolutioninfoErrorMessage;
			document.getElementById("resolution_info").focus();
			return false;
		}
                if(trim(helpdesk_status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = StatusErrorMessage;
			document.getElementById("helpdesk_status").focus();
			return false;
		}
               
                else
                    {
                        document.getElementById("errorMessage").innerHTML = "";
                    }
		
                     
                    
                    
                    
		  
                  var resolution_info = escape(resolution_info);
                  var assigned_to = escape(assigned_to);
		  
                        var a = $(".edit_helpdesk").serialize();     
			var path = "updateHelpDeskDetails.php?status="+helpdesk_status  +"&ticket_id="+ticket_id+"&resolution_info="+resolution_info+"&assigned_to="+assigned_to+"&closed_date="+closed_date+"&fromdate="+fromdate+"&todate="+todate+"&status1="+status1+"&tkt_id="+tkt_id+"&icp_id="+icp_id+"&"+a;
                        //alert(path);
		
				var xmlHttp;
				
				if(window.XMLHttpRequest)
				{
					//IE6+,Chrome,Safari,Mozilla,Opera
					xmlHttp = new XMLHttpRequest();
					
				}
				else
				{	
					//I.E5,I.E6
					xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
				}
				
				//Processing Response
				xmlHttp.onreadystatechange = function()
				{
					if(xmlHttp.readyState == 4 && xmlHttp.status == 200)
					{
						document.getElementById("popup_billprocess").innerHTML = xmlHttp.responseText;
					}
					
				}
				
				//Generating Request
				xmlHttp.open("GET",path,true);
				xmlHttp.send();
			}
			
                        
			
			</script>
                        <script type="text/javascript"  >
            
            
            
            function svalidate()
            {
                  
                var firstname;
                var lastname;
                var mobile;
                var email;

                var hno;
                var street;

                var locality;

                var city;

                var district;
                var pin;
                var state;
                var userid;

               
                
                var status;
                var usertype;
                var reportingto;
                
                
                


                var firstnameErrorMessage = "Please Enter Valid Firstname";
                var lastnameErrorMessage = "Please Enter Valid Lastname";
                var mobileErrorMessage = "Please Enter Valid Mobile Number";
                var emailErrorMessage = "Please Enter Valid Mail";
                var streetErrorMessage = "Please Enter Street";
                var hnoErrorMessage = "Please Enter House No";
                var localityErrorMessage = "Please Enter Locality";

                var cityErrorMessage = "Please Enter City";
                var districtErrorMessage = "Please Select District";
                var pinErrorMessage = "Please Enter Zip Code";
                var stateErrorMessage = "Please Select state";
                
                var statusErrorMessage = "Please Select Status";
                var useridErrorMessage = "Please Enter UserID";
                 var usertypeErrorMessage = "Please Select Usertype";
                var reportingtoErrorMessage = "Please Select Reporting To";



                firstname = document.getElementById("texsFirstName").value;
                lastname = document.getElementById("texsLastName").value;
                mobile = document.getElementById("texsMobile").value;
                var altmobile = document.getElementById("texsAltMobile").value;
               
                
                var landline = document.getElementById("texslandLine").value;
               
                hno = document.getElementById("texsHouseNo").value;
                email = document.getElementById("texsEmail").value;

                street = document.getElementById("texsStreet").value;
                locality = document.getElementById("texsLocality").value;
                city = document.getElementById("texsCity").value;
                district = document.getElementById("texaDistrict").value;
                var landmark = document.getElementById("texsLandMark").value;
                
                //alert(district);

                pin = document.getElementById("texsPin").value;
                state = document.getElementById("texsstate").value;
                status = document.getElementById("status").value;
               userid = document.getElementById("texuserid").value;
               
                usertype = document.getElementById("usertype").value;
                reportingto = document.getElementById("reporting").value;

                   //alert(status);
             
                var fstnamepattern = /^[a-z A-Z]+$/;
                var lastnamepattern = /^[a-z A-Z]+$/;
                var mobilenopattern = /^[0-9]+$/;
                var streetpattern = /^[a-z 0-9 A-Z]+$/;
                var localitypattern = /^[a-z 0-9 A-Z]+$/;
                var citypattern = /^[a-z A-Z]+$/;

                var pinpattern = /^[0-9]+$/;

             var emailpattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;

                 if (trim(usertype).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = usertypeErrorMessage;
                    document.getElementById("usertype").focus();
                    return false;
                }
                 if (trim(reportingto).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = reportingtoErrorMessage;
                    document.getElementById("reporting").focus();
                    return false;
                }

                if (trim(firstname).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
                    document.getElementById("texsFirstName").focus();
                    return false;
                }
                if (!firstname.match(fstnamepattern))
                {
                    document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
                    document.getElementById("texsFirstName").focus();
                    return false;
                }

                if (trim(lastname).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
                    document.getElementById("texsLastName").focus();
                    return false;
                }
                if (!lastname.match(lastnamepattern))
                {
                    document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
                    document.getElementById("texsLastName").focus();
                    return false;
                }

                if (trim(mobile).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
                    document.getElementById("texsMobile").focus();
                    return false;
                }
//                if (mobile.length < 10)
//                {
//                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
//                    document.getElementById("texsMobile").focus();
//                    return false;
                //}
                if (!mobile.match(mobilenopattern))
                {
                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
                    document.getElementById("texsMobile").focus();
                    return false;
                }
                if(email.length > 0)
		{
	
                        if(!email.match(emailpattern))
		{
			document.getElementById("errorMessage").innerHTML = emailErrorMessage;
			document.getElementById("texsEmail").focus();
			return false;
		}
		}
                if (trim(hno).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = hnoErrorMessage;
                    document.getElementById("texsHouseNo").focus();
                    return false;
                }
                 if (trim(userid).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = useridErrorMessage;
                    document.getElementById("texuserid").focus();
                    return false;
                }
                
                    
                if(trim(street).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = streetErrorMessage;
			document.getElementById("texsStreet").focus();
			return false;
		}
		if(!street.match(streetpattern))
		{
			document.getElementById("errorMessage").innerHTML = streetErrorMessage;
			document.getElementById("texsStreet").focus();
			return false;
		}
                if(trim(locality).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = localityErrorMessage;
			document.getElementById("texsLocality").focus();
			return false;
		}
		if(!locality.match(localitypattern))
		{
			document.getElementById("errorMessage").innerHTML = localityErrorMessage;
			document.getElementById("texsLocality").focus();
			return false;
		}
                if(trim(city).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = cityErrorMessage;
			document.getElementById("texsCity").focus();
			return false;
		}
		if(!city.match(citypattern))
		{
			document.getElementById("errorMessage").innerHTML = cityErrorMessage;
			document.getElementById("texsCity").focus();
			return false;
		}
                if(trim(state).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = stateErrorMessage;
			document.getElementById("texsstate").focus();
			return false;
		}
                if(trim(district).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = districtErrorMessage;
			document.getElementById("texaDistrict").focus();
			return false;
		}
                
                if(trim(pin).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
			document.getElementById("texsPin").focus();
			return false;
		}
//		if(pin.length < 6)
//		{
//			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
//			document.getElementById("texsPin").focus();
//			return false;
//		}
		if(!pin.match(pinpattern))
		{
			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
			document.getElementById("texsPin").focus();
			return false;
		}
                if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = statusErrorMessage;
			document.getElementById("status").focus();
			return false;
		}
                
                 var  path = "insertSalesforce.php?texsFirstName1="+firstname+"&texsLastName1="+lastname+"&texsMobile1="+mobile+"&texsAltMobile1="+altmobile+
        "&texslandLine1="+landline+"&texsEmail1="+email+"&texsCity1="+city+"&texsstate1="+state+"&texsHouseNo1="+hno+"&texsStreet1="
        +street+"&texsLocality1="+locality+"&texsLandMark1="+landmark+"&texsPin1="+pin+"&texaDistrict1="+district+"&texuserid="
      +userid+"&status1="+status+"&usertype="+usertype+"&reporting="+reportingto;
               
                if (window.XMLHttpRequest)
				  {// code for IE7+, Firefox, Chrome, Opera, Safari
				  xmlhttp=new XMLHttpRequest();
				  }
				else
				  {// code for IE6, IE5
				  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				  }
				xmlhttp.onreadystatechange=function()
				  {
				  if (xmlhttp.readyState==4 && xmlhttp.status==200)
					{
					document.getElementById("alter").innerHTML=xmlhttp.responseText;
					}
				  }
				xmlhttp.open("GET",path,true);
				xmlhttp.send();



            }
            </script>
        
        <script type="text/javascript"  >
            function updateSalesAgent()
            {
                    //alert();

                //Declaring Variables
                
                var firstname;
                var lastname;
                var mobile;
                var email;

                var hno;
                var street;

                var locality;

                var city;

                var district;
                var pin;
                var state;
               
                
                var status;
                var usertype;
                var reportingto;
                var salesforceid;
                  var userid;
         
                
                
                


                var firstnameErrorMessage = "Please Enter Valid Firstname";
                var lastnameErrorMessage = "Please Enter Valid Lastname";
                var mobileErrorMessage = "Please Enter Valid Mobile Number";
                var emailErrorMessage = "Please Enter Valid Mail";
                var streetErrorMessage = "Please Enter Street";
                var hnoErrorMessage = "Please Enter House No";
                var localityErrorMessage = "Please Enter Locality";
           var emailErrorMessage = "Please Enter Valid Email Address";	 
                var cityErrorMessage = "Please Enter City";
                var districtErrorMessage = "Please Select District";
                var pinErrorMessage = "Please Enter Zip Code";
                var stateErrorMessage = "Please Select state";
                 var useridErrorMessage = "Please Enter UserID";
                var statusErrorMessage = "Please Select Status";
                
                 var usertypeErrorMessage = "Please Select Usertype";
                var reportingtoErrorMessage = "Please Select Reporting To";



                firstname = document.getElementById("texsFirstName").value;
                lastname = document.getElementById("texsLastName").value;
                mobile = document.getElementById("texsMobile").value;
                var altmobile = document.getElementById("texsAltMobile").value;
                 var salesforceid = document.getElementById("texsalesforceid").value;
               
                
                var landline = document.getElementById("texslandLine").value;
               
                hno = document.getElementById("texsHouseNo").value;
                email = document.getElementById("texsEmail").value;

                street = document.getElementById("texsStreet").value;
                locality = document.getElementById("texsLocality").value;
                city = document.getElementById("texsCity").value;
                district = document.getElementById("texaDistrict").value;
                var landmark = document.getElementById("texsLandMark").value;
                 userid = document.getElementById("texuserid").value;
                
                //alert(district);

                pin = document.getElementById("texsPin").value;
                state = document.getElementById("texsstate").value;
                status = document.getElementById("status").value;
              
               
                usertype = document.getElementById("usertype").value;
                reportingto = document.getElementById("reporting").value;

                   //alert(status);
                   
                  

                var fstnamepattern = /^[a-z A-Z]+$/;
                var lastnamepattern = /^[a-z A-Z]+$/;
                var mobilenopattern = /^[0-9]+$/;
                var streetpattern = /^[a-z 0-9 A-Z]+$/;
                var localitypattern = /^[a-z 0-9 A-Z]+$/;
                var citypattern = /^[a-z A-Z]+$/;

                var pinpattern = /^[0-9]+$/;

               var emailpattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;

                 if (trim(usertype).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = usertypeErrorMessage;
                    document.getElementById("usertype").focus();
                    return false;
                }
                 if (trim(reportingto).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = reportingtoErrorMessage;
                    document.getElementById("reporting").focus();
                    return false;
                }

                if (firstname.length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
                    document.getElementById("texsFirstName").focus();
                    return false;
                }
                if (!firstname.match(fstnamepattern))
                {
                    document.getElementById("errorMessage").innerHTML = firstnameErrorMessage;
                    document.getElementById("texsFirstName").focus();
                    return false;
                }

                if (trim(lastname).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
                    document.getElementById("texsLastName").focus();
                    return false;
                }
                if (!lastname.match(lastnamepattern))
                {
                    document.getElementById("errorMessage").innerHTML = lastnameErrorMessage;
                    document.getElementById("texsLastName").focus();
                    return false;
                }

                if (trim(mobile).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
                    document.getElementById("texsMobile").focus();
                    return false;
                }
//                if (mobile.length < 10)
//                {
//                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
//                    document.getElementById("texsMobile").focus();
//                    return false;
//                }
                if (!mobile.match(mobilenopattern))
                {
                    document.getElementById("errorMessage").innerHTML = mobileErrorMessage;
                    document.getElementById("texsMobile").focus();
                    return false;
                }
                if(email.length > 0)
		{
	
                        if(!email.match(emailpattern))
		{
			document.getElementById("errorMessage").innerHTML = emailErrorMessage;
			document.getElementById("texsEmail").focus();
			return false;
		}
		}
                if (trim(hno).length == 0)
                {
                    document.getElementById("errorMessage").innerHTML = hnoErrorMessage;
                    document.getElementById("texsHouseNo").focus();
                    return false;
                }
                 
                
                    
                if(trim(street).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = streetErrorMessage;
			document.getElementById("texsStreet").focus();
			return false;
		}
		if(!street.match(streetpattern))
		{
			document.getElementById("errorMessage").innerHTML = streetErrorMessage;
			document.getElementById("texsStreet").focus();
			return false;
		}
                if(trim(locality).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = localityErrorMessage;
			document.getElementById("texsLocality").focus();
			return false;
		}
		if(!locality.match(localitypattern))
		{
			document.getElementById("errorMessage").innerHTML = localityErrorMessage;
			document.getElementById("texsLocality").focus();
			return false;
		}
                if(trim(city).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = cityErrorMessage;
			document.getElementById("texsCity").focus();
			return false;
		}
		if(!city.match(citypattern))
		{
			document.getElementById("errorMessage").innerHTML = cityErrorMessage;
			document.getElementById("texsCity").focus();
			return false;
		}
                if(trim(state).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = stateErrorMessage;
			document.getElementById("texsstate").focus();
			return false;
		}
                if(trim(district).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = districtErrorMessage;
			document.getElementById("texaDistrict").focus();
			return false;
		}
                
                if(trim(pin).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
			document.getElementById("texsPin").focus();
			return false;
		}
//		if(pin.length < 6)
//		{
//			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
//			document.getElementById("texsPin").focus();
//			return false;
//		}
		if(!pin.match(pinpattern))
		{
			document.getElementById("errorMessage").innerHTML = pinErrorMessage;
			document.getElementById("texsPin").focus();
			return false;
		}
                if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = statusErrorMessage;
			document.getElementById("status").focus();
			return false;
		}
                
                 var  path = "updateSalesforce.php?texsFirstName1="+firstname+"&texsLastName1="+lastname+"&texsMobile1="+mobile+"&texsAltMobile1="+altmobile+
        "&texslandLine1="+landline+"&texsEmail1="+email+"&texsCity1="+city+"&texsstate1="+state+"&texsHouseNo1="+hno+"&texsStreet1="
 +street+"&texsLocality1="+locality+"&texsLandMark1="+landmark+"&texsPin1="+pin+"&texaDistrict1="+district
    +"&status1="+status+"&usertype="+usertype+"&reporting="+reportingto+"&texsalesforceid="+salesforceid+"&texuserid="+userid;
      
                
                var xmlHttp;

                if (window.XMLHttpRequest)
                {
                    //IE6+,Chrome,Safari,Mozilla,Opera
                    xmlHttp = new XMLHttpRequest();

                }
                else
                {
                    //I.E5,I.E6
                    xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
                }

                //Processing Response
                xmlHttp.onreadystatechange = function()
                {
                    if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
                    {
                        document.getElementById("alter").innerHTML = xmlHttp.responseText;
                    }

                }

                //Generating Request
                xmlHttp.open("GET", path, true);
                xmlHttp.send();
            }
            </script>
        
        
        
        
        
        <script type="text/javascript">
			function viewSalesforce(salesforceid)
			{
                            var url = "viewSalesforce.php";
                            var path = "salesforceid="+salesforceid;
                             var divid = "#alter";
                          <?php   
                           $access = "view";
                           $objects = "SALES AGENT";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                           	
			}
		</script>
        
         <script type="text/javascript">
			function editSalesforce(salesforceid)
			{
                            var url = "editSalesforce.php";
                            var path= "salesforceid="+salesforceid;
                             var divid = "#alter";
                          <?php   
                           $access = "edit";
                           $objects = "SALES AGENT";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                        }
                        
                           
		</script>
        
        <script type="text/javascript">
			function resetPasswordOfSalesforce(salesforceid)
			{
                             var url = "resetPasswordOfSalesforce.php";
                            var path= "salesforceid="+salesforceid;
                             var divid = "#alter";
                          <?php   
                           $access = "reset password";
                           $objects = "SALES AGENT";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                        }
                      
		</script>
<script type="text/javascript" >
            function resetPasswordSalesforce()
            {

                var currentpassword = document.getElementById("texsCurrentPassword").value;
                var newpassword = document.getElementById("texsNewPassword").value;
                var confirmpassword = document.getElementById("texsConfirmPassword").value;
                    var mobile = document.getElementById("mobile").value;
                
                var password = document.getElementById("password").value;
                var salesforceid = document.getElementById("salesforceid").value;
                  var passwordCheckErrorMessage = "Password Doesn't Exist";
                  var newPasswordCheckErrorMessage = "Password Doesn't Match";
                   var newPasswordErrorMessage = "Enter New Password";
                   
                  
                  //alert(password);
                
                if(password != currentpassword)
                    {
                         document.getElementById("errorMessage").innerHTML = passwordCheckErrorMessage;
                        document.getElementById("texsCurrentPassword").focus();
                        return false;
                    }
                    
                    if(newpassword != confirmpassword)
                    {
                         document.getElementById("errorMessage").innerHTML = newPasswordCheckErrorMessage;
                        document.getElementById("texsNewPassword").focus();
                        return false;
                    }
                    if(newpassword.length == 0)
		{
			document.getElementById("errorMessage").innerHTML = newPasswordErrorMessage;
			document.getElementById("texsNewPassword").focus();
			return false;
		}


                path = "updatePasswordOfSalesforce.php?currentpassword=" + currentpassword + "&newpassword=" + newpassword + "&confirmpassword=" + confirmpassword + "&salesforceid=" + salesforceid+ "&mobile=" + mobile;
                

                //Declaring Variables
                var xmlHttp;

                if (window.XMLHttpRequest)
                {
                    //IE6+,Chrome,Safari,Mozilla,Opera
                    xmlHttp = new XMLHttpRequest();

                }
                else
                {
                    //I.E5,I.E6
                    xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
                }

                //Processing Response
                xmlHttp.onreadystatechange = function()
                {
                    if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
                    {
                        document.getElementById("alter").innerHTML = xmlHttp.responseText;
                    }

                }

                //Generating Request
                xmlHttp.open("GET", path, true);
                xmlHttp.send();
            }
        </script>
        
   <script type="text/javascript">
            
      function loadlcr()
    {
        var url = "lcr.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "view";
          $objects = "LCR";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
          
    }
    </script>
    
    
   
    
    <script type="text/javascript">
            
      function smsvendorchange()
    {
            var url = "smsvendorchange.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "view";
          $objects = "smsvendor";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
          
    }
    </script>
    
    
    <script type="text/javascript">
            
      function smsvendorchange()
    {
            var url = "smsvendorchange.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "view";
          $objects = "smsvendor";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
          
    }
    </script>
    
    <script type="text/javascript">
            
      function checksmmpfrecord()
    {
        
    
          var url = "checksmmpfrecords.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "smmpfrecord";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
          
    }
    </script>
    
    
       
        <script>
        function load(servicetype,vendorname,operator,status)
        {
            var servicetype;
            var operator;
              var vendorname;
            var status;
         var path = "loadLcrByService.php?serviceType="+servicetype+"&vendorname="+vendorname+"&operator="+operator+"&status="+status;
         //alert(path);
            var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById("myDiv").innerHTML=xmlhttp.responseText;
    }
  }
xmlhttp.open("GET",path,true);
xmlhttp.send();
        }

function changeFieldSlabs(lcrid,service){
var servicetype = document.getElementById("selectService").value;
            
            
            if(servicetype == "")
                {
                    alert("Please Select The ServiceType");
                    return false;
                }
                     var url = "editLcrSlabs.php";
                     var path = "lcr_id="+lcrid+"&serviceType="+service;
                     var divid = "#ecom_ipexprod_view";
                     var width = 1100;
                     var height = 650;
                     var title = 'LCR SLAB DETAILS';

                     
         <?php   
           $access = "edit";
           $objects = "LCR";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
}

function changeFieldsEditSlab(id)
        {
            <?php   
          $access = "edit";
          $objects = "LCR";
          
           $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
                 var rolls = "<?php echo $rolls; ?> ";
            var servicetype = document.getElementById("selectService").value;
            
            
            if(servicetype == "")
                {
                    alert("Please Select The ServiceType");
                    return false;
                }
          <?php 
          if($_SESSION["usertype"] == "Admin"){ ?>
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
             $("#Status"+id).removeAttr("disabled");
             $("#sledit"+id).css("display", "none");
             $("#slsave"+id).css("display", "block");
                    }

                });
       <?php  }
        else{?>
           if(trim(rolls) == "yes") {
                
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
             $("#Status"+id).removeAttr("disabled");
             $("#sledit"+id).css("display", "none");
             $("#slsave"+id).css("display", "block");
                    }

                });
                
                
                 }
        else {
         alert("You Dont Have Access Towards This Page");
        }
        
        <?php } ?>  
            
        }

function SaveFieldsSlab(id,lcrid,service)
        { 
            operator=$("#operator").val(); 
            statusv=$('#Status'+id+'>option:selected').val();
            selectService=$("#selectService").val();
         
         var path = "id="+id+"&Status="+statusv+"&lcrid="+lcrid+"&serviceType="+service;
         //alert(path);
        $('#myDiv_slab').load("savelcrslabfields.php",path);
        }



 function changeFields(lcrid)
        {
            <?php   
          $access = "edit";
          $objects = "LCR";
          
           $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
                 var rolls = "<?php echo $rolls; ?> ";
            var servicetype = document.getElementById("selectService").value;
//alert(servicetype);
            //var operator = document.getElementById("operator").value;
            //var vendorname = document.getElementById("vendorname").value;
            //var status = document.getElementById("statusx").value;
            
            if(servicetype == "")
                {
                    alert("Please Select The ServiceType");
                    return false;
                }
          <?php 
          if($_SESSION["usertype"] == "Admin"){ ?>
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      $("#Margin"+lcrid).removeAttr("disabled");
            $("#Status"+lcrid).removeAttr("disabled");
             $("#Priority"+lcrid).removeAttr("disabled");
             $("#edit"+lcrid).css("display", "none");
             $("#save"+lcrid).css("display", "block");
                    }

                });
       <?php  }
        else{?>
           if(trim(rolls) == "yes") {
                
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      
                $("#Margin"+lcrid).removeAttr("disabled");
            $("#Status"+lcrid).removeAttr("disabled");
             $("#Priority"+lcrid).removeAttr("disabled");
             $("#edit"+lcrid).css("display", "none");
             $("#save"+lcrid).css("display", "block");
                    }

                });
                
                
                 }
        else {
         alert("You Dont Have Access Towards This Page");
        }
        
        <?php } ?>  
            
        }

 

        function changeFields(lcrid)
        {
            <?php   
          $access = "edit";
          $objects = "LCR";
          
           $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
                 var rolls = "<?php echo $rolls; ?> ";
            var servicetype = document.getElementById("selectService").value;
            var operator = document.getElementById("operator").value;
            var vendorname = document.getElementById("vendorname").value;
            var status = document.getElementById("statusx").value;
            
            if(servicetype == "")
                {
                    alert("Please Select The ServiceType");
                    return false;
                }
          <?php 
          if($_SESSION["usertype"] == "Admin"){ ?>
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      $("#Margin"+lcrid).removeAttr("disabled");
            $("#Status"+lcrid).removeAttr("disabled");
             $("#Priority"+lcrid).removeAttr("disabled");
             $("#edit"+lcrid).css("display", "none");
             $("#save"+lcrid).css("display", "block");
                    }

                });
       <?php  }
        else{?>
           if(trim(rolls) == "yes") {
                
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      
                $("#Margin"+lcrid).removeAttr("disabled");
            $("#Status"+lcrid).removeAttr("disabled");
             $("#Priority"+lcrid).removeAttr("disabled");
             $("#edit"+lcrid).css("display", "none");
             $("#save"+lcrid).css("display", "block");
                    }

                });
                
                
                 }
        else {
         alert("You Dont Have Access Towards This Page");
        }
        
        <?php } ?>  
            
        }
        
         function changeFieldsPP(lcrid)
        {
             <?php   
          $access = "edit";
          $objects = "LCR";
          
           $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
                 var rolls = "<?php echo $rolls; ?> ";
            var servicetype = document.getElementById("selectService").value;
            var operator = document.getElementById("operator").value;
            var vendorname = document.getElementById("vendorname").value;
            var status = document.getElementById("statusx").value;
            
            if(servicetype == "")
                {
                    alert("Please Select The ServiceType");
                    return false;
                }
          <?php 
          if($_SESSION["usertype"] == "Admin"){ ?>
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      $("#Margin"+lcrid).removeAttr("disabled");
             $("#MarginF"+lcrid).removeAttr("disabled");
             $("#Surcharge"+lcrid).removeAttr("disabled");
               $("#SurchargeF"+lcrid).removeAttr("disabled");
            $("#Status"+lcrid).removeAttr("disabled");
             $("#Priority"+lcrid).removeAttr("disabled");
             $("#edit"+lcrid).css("display", "none");
             $("#save"+lcrid).css("display", "block");
                    }

                });
       <?php  }
        else{?>
         if(trim(rolls) == "yes") {
                
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      
              $("#Margin"+lcrid).removeAttr("disabled");
             $("#MarginF"+lcrid).removeAttr("disabled");
             $("#Surcharge"+lcrid).removeAttr("disabled");
               $("#SurchargeF"+lcrid).removeAttr("disabled");
            $("#Status"+lcrid).removeAttr("disabled");
             $("#Priority"+lcrid).removeAttr("disabled");
             $("#edit"+lcrid).css("display", "none");
             $("#save"+lcrid).css("display", "block");
                    }

                });
                
                
                }
        else {
         alert("You Dont Have Access Towards This Page");
        }
        
        <?php } ?>  
            
        }
        function changeFieldsBUS(lcrid)
        {
            <?php   
          $access = "edit";
          $objects = "LCR";
          
           $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
                 var rolls = "<?php echo $rolls; ?> ";
            var servicetype = document.getElementById("selectService").value;
            var operator = document.getElementById("operator").value;
            var vendorname = document.getElementById("vendorname").value;
            var status = document.getElementById("statusx").value;
            
            if(servicetype == "")
                {
                    alert("Please Select The ServiceType");
                    return false;
                }
          <?php 
          if($_SESSION["usertype"] == "Admin"){ ?>
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      $("#Margin"+lcrid).removeAttr("disabled");
             $("#MarginF"+lcrid).removeAttr("disabled");
             $("#Surcharge"+lcrid).removeAttr("disabled");
               $("#SurchargeF"+lcrid).removeAttr("disabled");
            $("#Status"+lcrid).removeAttr("disabled");
             $("#Priority"+lcrid).removeAttr("disabled");
             $("#edit"+lcrid).css("display", "none");
             $("#save"+lcrid).css("display", "block");
                    }

                });
       <?php  }
        else{ ?>
         if(trim(rolls) == "yes") {
                
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      
              $("#Margin"+lcrid).removeAttr("disabled");
             $("#MarginF"+lcrid).removeAttr("disabled");
             $("#Surcharge"+lcrid).removeAttr("disabled");
               $("#SurchargeF"+lcrid).removeAttr("disabled");
            $("#Status"+lcrid).removeAttr("disabled");
             $("#Priority"+lcrid).removeAttr("disabled");
             $("#edit"+lcrid).css("display", "none");
             $("#save"+lcrid).css("display", "block");
                    }

                });
                
                }
        else {
         alert("You Dont Have Access Towards This Page");
        }
        
        <?php } ?>  
            
        }
         function SaveFields(lcrid)
        { 

        
   var lcrid;

           margin= $("#Margin"+lcrid).val();
          
            statusv=$('#Status'+lcrid+'>option:selected').val();
            priority= $("#Priority"+lcrid).val();
            selectService=$("#selectService").val();
            vendorname=$("#vendorname").val();
            operator=$("#operator").val();
            statusx=$("#statusx").val();
       //alert(vendorname);
          //alert(operator);
         var path = "savelcrfields.php?Lcrid="+lcrid+"&Margin="+margin+"&Status="+statusv+"&Priority="+priority+"&selectService="+selectService+"&vendorname="+vendorname+"&operator="+operator+"&statusx="+statusx;
         //alert(path);
            var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById("editvalues").innerHTML=xmlhttp.responseText;
    }
  }
xmlhttp.open("GET",path,true);
xmlhttp.send();
        }
function SaveFieldsBUS(lcrid)
        { 
            var lcrid;
           margin= $("#Margin"+lcrid).val();
             marginf= $("#MarginF"+lcrid).val();
               surcharge= $("#Surcharge"+lcrid).val();
                 surchargef= $("#SurchargeF"+lcrid).val();
         
            statusv=$('#Status'+lcrid+'>option:selected').val();
            priority= $("#Priority"+lcrid).val();
            selectService=$("#selectService").val();
            vendorname=$("#vendorname").val();
            operator=$("#operator").val();
            statusx=$("#statusx").val();
       //alert(vendorname);
          //alert(operator);
         var path = "savelcrfields.php?Lcrid="+lcrid+"&Margin="+margin+"&MarginF="+marginf+"&Surcharge="+surcharge+"&SurchargeF="+surchargef+"&Status="+statusv+"&Priority="+priority+"&selectService="+selectService+"&vendorname="+vendorname+"&operator="+operator+"&statusx="+statusx;
         //alert(path);
         
            var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById("editvalues").innerHTML=xmlhttp.responseText;
    }
  }
xmlhttp.open("GET",path,true);
xmlhttp.send();
        }
        function SaveFieldsPP(lcrid)
        { 
            var lcrid;
           margin= $("#Margin"+lcrid).val();
             marginf= $("#MarginF"+lcrid).val();
               surcharge= $("#Surcharge"+lcrid).val();
                 surchargef= $("#SurchargeF"+lcrid).val();
         
            statusv=$('#Status'+lcrid+'>option:selected').val();
            priority= $("#Priority"+lcrid).val();
            selectService=$("#selectService").val();
            vendorname=$("#vendorname").val();
            operator=$("#operator").val();
            statusx=$("#statusx").val();

         var path = "savelcrfields.php?Lcrid="+lcrid+"&Margin="+margin+"&MarginF="+marginf+"&Surcharge="+surcharge+"&SurchargeF="+surchargef+"&Status="+statusv+"&Priority="+priority+"&selectService="+selectService+"&vendorname="+vendorname+"&operator="+operator+"&statusx="+statusx;
        
            var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {

    document.getElementById("editvalues").innerHTML=xmlhttp.responseText;
    }
  }
xmlhttp.open("GET",path,true);
xmlhttp.send();
        }


function SaveFieldsKP(lcrid)
    {
        var lcrid;
        //margin= $("#Margin"+lcrid).val();
        //marginf= $("#MarginF"+lcrid).val();
        surcharge = $("#Surcharge" + lcrid).val();

        //surchargef= $("#SurchargeF"+lcrid).val();

        statusv = $('#Status' + lcrid + '>option:selected').val();
        priority = $("#Priority" + lcrid).val();
        selectService = $("#selectService").val();
        vendorname = $("#vendorname").val();

        statusx = $("#statusx").val();

        //alert(operator);
        var path = "savelcrfields.php?Lcrid=" + lcrid + "&Surcharge=" + surcharge + "&Status=" + statusv + "&Priority=" + priority + "&selectService=" + selectService + "&vendorname=" + vendorname + "&statusx=" + statusx;
        //alert(path);

        var xmlhttp;
        if (window.XMLHttpRequest)
        {// code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        }
        else
        {// code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function ()
        {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
            {
                document.getElementById("editvalues").innerHTML = xmlhttp.responseText;
            }
        }
        xmlhttp.open("GET", path, true);
        xmlhttp.send();
    }
    </script>
    
    <script type="text/javascript">
			function resetPasswordOfBeatguy(bid)
			{
                            var url = "resetPasswordOfBeatguy.php";
                           var path= "bid="+bid;
                             var divid = "#alter";
                          <?php   
                           $access = "reset password";
                           $objects = "BEATGUY";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                        }
                           
		</script>
                
                <script type="text/javascript"  >
			function icpmargins()
		{
                    var url = "icpmargins.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "MARGINS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
			
		}
</script>


<script type="text/javascript"  >
			function margins()
		{
                    
                  var  fromdate = document.getElementById("fromdate1").value;
		var todate = document.getElementById("todate1").value;
                
                 var  path = "loadicpmargindetails.php?fromdate="+fromdate+"&todate="+todate
			//alert(path);
			
			//Declaring Variables
			var xmlHttp;
			
			if(window.XMLHttpRequest)
			{
				//IE6+,Chrome,Safari,Mozilla,Opera
				xmlHttp = new XMLHttpRequest();
				
			}
			else
			{	
				//I.E5,I.E6
				xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
			}
			
			//Processing Response
			xmlHttp.onreadystatechange = function()
			{
				if(xmlHttp.readyState == 4 && xmlHttp.status == 200)
				{
					document.getElementById("alter").innerHTML = xmlHttp.responseText;
				}
				
			}
			
			//Generating Request
			xmlHttp.open("GET",path,true);
			xmlHttp.send();
		}
</script>



<script type="text/javascript"  >
			function loadPlanForIcc()
		{
                    
                 
                
                 var  path = "planForIcc.php";
                 //alert(path);
			
			//Declaring Variables
			var xmlHttp;
			
			if(window.XMLHttpRequest)
			{
				//IE6+,Chrome,Safari,Mozilla,Opera
				xmlHttp = new XMLHttpRequest();
				
			}
			else
			{	
				//I.E5,I.E6
				xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
			}
			
			//Processing Response
			xmlHttp.onreadystatechange = function()
			{
				if(xmlHttp.readyState == 4 && xmlHttp.status == 200)
				{
					document.getElementById("alter").innerHTML = xmlHttp.responseText;
				}
				
			}
			
			//Generating Request
			xmlHttp.open("GET",path,true);
			xmlHttp.send();
		}
</script>

<script type = "text/javascript">


function validateplan()
{var startsdate;

var endsdate;
var servicetype;


var starts;

var upto;
var percentage;


var startsdateErrorMessage = "Please select Valid Start Date";	
		
				var endsdateErrorMessage = "Please select Valid Ends Date";	
				var servicetypeErrorMessage = "Please Select One Service";	
				var dateErrorMessage = "Starting Credit should be Less than End Credit";
			
				var startsErrorMessage = "Please Enter valid Starting Amount";
				var uptoErrorMessage = "Please enter valid upto Amount";	
				var percentageErrorMessage = "Please Valid Margin";
                                var percentagelimit = "Please Enter Less Than 100% EX:99.999";
                                var operatormsg = "Please select Operator";


startsdate = document.getElementById("startDate").value;
endsdate = document.getElementById("endDate").value;

servicetype = document.getElementById("servicetype").value;
//alert(servicetype);

startdval=parseInt(document.getElementById("updid").value);

startval=parseInt(document.getElementById("upid").value);
starts_d = document.getElementById("texFromd1").value;
starts1 = document.getElementById("texFrom1").value;
upto1 = document.getElementById("texUpto1").value;
upto_d = document.getElementById("texUptod1").value;
percentage1 = document.getElementById("texPercentage1").value;
percentage_d = document.getElementById("texPercentaged1").value;

var startspattern = /^[0-9]+$/;
var uptopattern = /^[0-9]+$/;
//var perpattern =/(^([1-9]))|(^(0\d?)\.\d{2})|^([1-9]\d?)\.\d{2}$/;

   

		//check for numeric characters

/*******Empty validations*******/

var objRegex = /(^([1-9]|[0-9][0-9]|100)\.\d{3}$)/;

		//check for numeric characters
if (servicetype.length == 0)	
{
document.getElementById("errorMessage").innerHTML = servicetypeErrorMessage;
document.getElementById("servicetype").focus();
return false;
}
if(startdval==1)
        {
        if(starts_d.length == 0 || parseInt(starts_d)=='0'){
            
            document.getElementById("errorMessage").innerHTML = startsErrorMessage;
            document.getElementById("texFromd1").focus();
            return false;
            
        }
        if ( !starts_d.match(uptopattern))	
            {
            document.getElementById("errorMessage").innerHTML = 'Please Provide valid start range value';
            document.getElementById("texFromd1").focus();
            return false;
            }
        if(parseInt(starts_d) >= parseInt(upto_d))
        {
            
            document.getElementById("errorMessage").innerHTML = dateErrorMessage;
            document.getElementById("texFromd1").focus();
            return false;
            
        }
        
         if( parseInt(upto_d)=='0'){
            
            if ( !upto_d.match(uptopattern))	
            {
            document.getElementById("errorMessage").innerHTML = 'Please provide valid Max range value';
            document.getElementById("texUptod1").focus();
            return false;
            }
            
        }
        /*if ( !percentage_d.match(perpattern) || parseInt(percentage_d)=='0')	
            {
            document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage values';
            document.getElementById("texPercentaged1").focus();
            return false;
            }*/
              var x = parseFloat(percentage_d);
                //alert(x);
             if (isNaN(x) || x < 0 || x > 100) 
             {
                 document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage values';
                         document.getElementById("texPercentaged1").focus();
                         return false;
             }
             

        }
   
   
   if(startdval > 1)
        {
            
            //alert(parseInt(chkp));
        var chks = document.getElementsByName('textfrmd[]');//here rr[] is the name of the textbox
        var chkto = document.getElementsByName('texttod[]');//here rr[] is the name of the textbox
         var chkper = document.getElementsByName('textpctd[]');//here rr[] is the name of the textbox
         
          var chkspattern=/^[0-9]+$/;
         var chktopattern=/^[0-9]+$/;
         //var chkperpattern=/(^([1-9]))|(^(0\d?)\.\d{2})|^([1-9]\d?)\.\d{2}$/;
        if(chkto[startdval]!='' || chkto[startdval]!='0')
        {
              
             //alert(chks.length);
       
                for (var i = 1; i < chks.length; i++)
                {   
                  //alert(parseInt(chkto[i-1].value));
                  if(parseInt(chks[i].value) < parseInt(chkto[i-1].value))
                        {
                          document.getElementById("errorMessage").innerHTML = 'Please give Correct Start Range ';
                            chks[i].focus();
                            return false; 
                        }
                 
                if (parseInt(chks[i].value)>= parseInt(chkto[i].value))
                    {
                    document.getElementById("errorMessage").innerHTML = 'Max Range should be greater than Start range';
                    chkto[i].focus();
                    return false;            
                    }
              
                  if (isNaN(chkto[i].value))
            {
             document.getElementById("errorMessage").innerHTML = 'Please provide valid Max range value';
             chkto[i].focus();
             return false;            
            } 
           
        
                }
        
        }
         
            for (var i = 1; i < chks.length; i++)
        {   
            
        if (chks[i].value=="" || isNaN(chks[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Please provide the From Range value';
        chks[i].focus();
        return false;            
        }
         
        }
        
      
        //alert(chkto1);
        var chktod=chkto.length-1;
        
        for (var i = 1; i < chktod; i++)
        {        
        if (chkto[i].value=="" || isNaN(chkto[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Please provide to range value';
        chkto[i].focus();
        return false;            
        }
        
        if (parseInt(chks[i].value)>= parseInt(chkto[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Start Range should be greater than end range';
        chks[i].focus();
        return false;            
        }
        
      
        }
        
        for (var i = 1; i < chkper.length; ++i)
        {        
        if (chkper[i].value=="" || isNaN(chkper[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage value';
        chkper[i].focus();
        return false;            
        }
        
       /*  if (!chkper[i].value.match(chkperpattern)) 
         {
        document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage value';
        chkper[i].focus();
        return false;            
        }*/
            var x = parseFloat(chkper[i].value);
          //alert(x);
       if (isNaN(x) || x < 0 || x > 100) 
       {
           document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage values';
                   chkper[i].focus();
                   return false;
       }
             
      
        }
        
        
        }





if(document.form.status.checked || startsdate.length != 0 || endsdate.length != 0 || starts1.length != 0 || upto1.length != 0 || percentage1.length != 0)
{
    if(startval==1)
        {
        if(starts1.length == 0 || parseInt(starts1)=='0'){
            
            document.getElementById("errorMessage").innerHTML = startsErrorMessage;
            document.getElementById("texFrom1").focus();
            return false;
            
        }
        if(parseInt(starts1) >= parseInt(upto1))
        {
            
            document.getElementById("errorMessage").innerHTML = dateErrorMessage;
            document.getElementById("texFrom1").focus();
            return false;
            
        }
        
         if( parseInt(upto1)=='0'){
            
            if ( !upto1.match(uptopattern))	
            {
            document.getElementById("errorMessage").innerHTML = 'Please provide valid Max range value';
            document.getElementById("texUpto1").focus();
            return false;
            }
            
        }
      /*  if ( !percentage1.match(perpattern) || parseInt(percentage1)=='0')	
            {
            document.getElementById("errorMessage").innerHTML = 'Please Provide valid percentage values';
            document.getElementById("texPercentage1").focus();
            return false;
            } */
            var x = parseFloat(percentage1);
                //alert(x);
             if (isNaN(x) || x < 0 || x > 100) 
             {
                 document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage values';
                         document.getElementById("texPercentage1").focus();
                         return false;
             }    
        }
   
  if(startval > 1)
        {
            
        var chkss = document.getElementsByName('textfrm[]');//here rr[] is the name of the textbox
        var chksto = document.getElementsByName('textto[]');//here rr[] is the name of the textbox
         var chksper = document.getElementsByName('textpct[]');//here rr[] is the name of the textbox
        
        if(chksto[startval]!='' || chksto[startdval]!='0')
    {
     for (var i = 1; i < chkss.length; i++)
        {   
            
            if(parseInt(chkss[i].value) < parseInt(chksto[i-1].value))
                        {
                              document.getElementById("errorMessage").innerHTML = 'Please give Correct Start Range ';
                            chkss[i].focus();
                            return false; 
                        }
                   
         if (parseInt(chkss[i].value)>= parseInt(chksto[i].value) )
            {
             document.getElementById("errorMessage").innerHTML = 'Max Range should be greater than Start range';
             chksto[i].focus();
             return false;            
            }
             if (isNaN(chksto[i].value) )
            {
             document.getElementById("errorMessage").innerHTML = 'Please provide valid Max range value';
             chksto[i].focus();
             return false;            
            }
           
            
        }
    }
                
                for (var i = 1; i < chkss.length; i++)
        {        
        if (chkss[i].value=="" ||isNaN(chkss[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Please provide Start range value';
        chkss[i].focus();
        return false;            
        }
        
        }
        var chkstod=chksto.length-1;
        for (var i = 1; i < chkstod; i++)
        {        
        if (chksto[i].value=="" || isNaN(chksto[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Please provide valid Max range value';
        chksto[i].focus();
        return false;            
        }
        
        if (parseInt(chkss[i].value)>= parseInt(chksto[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Start Range should be greater than end range';
        chkss[i].focus();
        return false;            
        }
        
        }
        
        for (var i = 1; i < chksper.length; ++i)
        {        
        if (chksper[i].value=="" || isNaN(chksper[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage value';
        chksper[i].focus();
        return false;            
        }
        /* if (!chksper[i].value.match(chkperpattern)) 
         {
         document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage value';
        chksper[i].focus();
        return false;             
        }*/
          var x = parseFloat(chksper[i].value);
                //alert(x);
             if (isNaN(x) || x < 0 || x > 100) 
             {
                 document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage values';
                         chksper[i].focus();
                         return false;
             }               
        }
        
        
        } 
//if ( document.form.operator1.selectedIndex == 0)	
//{
//    document.getElementById("errorMessage").innerHTML = operatormsg;
//document.getElementById("operator").focus();
//return false;
//}

if(startsdate.length == 0)
{
document.getElementById("errorMessage").innerHTML = startsdateErrorMessage;
document.getElementById("startDate").focus();
return false;
}

if(endsdate.length == 0)
{
document.getElementById("errorMessage").innerHTML = endsdateErrorMessage;
document.getElementById("endDate").focus();
return false;
}

		
}
else
{
    document.getElementById("errorMessage").innerHTML = "";
}
   
/*******Empty validations*******/

/**REGULAR EXPRESSION MATCHING*/	


}


</script>

<script>
function addRow() {
    //var maxrange1 = "Please provide valid Max range value";
var $newRow = $('.StdTable .tar:last-child').clone();
var newid = $newRow.children().eq(1).find('.StdTableData input').attr('id').match(/\d+/);
var oldid=$newRow.children().eq(1).find('.StdTableData input').attr('id').match(/\d+/);
var newvalx=$('#'+'texUpto'+oldid).val();
var newvaly=$('#'+'texFrom'+oldid).val();

var newvala=$('#'+'texPercentage'+oldid).val();
var namefrom='textfrm[]';
var nameto='textto[]';
var namepercent='textpct[]';
if(!isNaN(parseInt(newvalx)) && !isNaN(parseInt(newvaly)) && !isNaN(parseInt(newvala))  && parseInt(newvalx)!='0' && parseInt(newvaly)!='0' && parseInt(newvala)!='0'){


newid = parseInt(newid[0]) + 1;
var newtexFromid = 'texFrom' + newid;
var newtexUptoid = 'texUpto' + newid;
var newPercentid = 'texPercentage' + newid;

$newRow.children().eq(0).find('.StdTableData input').attr({id:newtexFromid}).val(parseInt(newvalx)+1);
$newRow.children().eq(1).find('.StdTableData input').attr({id:newtexUptoid}).val('');
$newRow.children().eq(2).find('.StdTableData input').attr({id:newPercentid}).val('');
 $newRow.children().eq(3).find('.addnew').removeClass('addnew').addClass('remove');
    $newRow.children().eq(3).find('.remove').val("-");
$('#gpsTable tbody').append($newRow);
$('#upid').val(newid);

}
if(isNaN(parseInt(newvaly))|| parseInt(newvaly)=='0'){
    
   document.getElementById("errorMessage").innerHTML = 'Start range should be entered and less than Max range';
    document.getElementById("texFrom"+oldid).focus();
    return false;
}
if(isNaN(parseInt(newvalx))|| parseInt(newvalx)=='0'){
    
   document.getElementById("errorMessage").innerHTML = maxrange1;
    document.getElementById("texUpto"+oldid).focus();
    return false;
}
if(parseInt(newvaly)>=parseInt(newvalx)){
    
   document.getElementById("errorMessage").innerHTML = 'Start Range shoud be less than Max range.';
    document.getElementById("texUpto"+oldid).focus();
    
    return false;}

if(isNaN(parseInt(newvala))|| parseInt(newvala)==''){
    
   document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage value.';
    document.getElementById("texPercentage"+oldid).focus();
    return false;
}
}
function addRowd() {
    //var maxrange1 = "Please provide valid Max range value";
var newRow = $('#gpsTabled .tarab:last-child').clone();
var newid = newRow.children().eq(1).find('.StdTableDatad input').attr('id').match(/\d+/);
var oldid=newRow.children().eq(1).find('.StdTableDatad input').attr('id').match(/\d+/);
var newvalx=$('#'+'texUptod'+oldid).val();
var newvaly=$('#'+'texFromd'+oldid).val();
var newvalz=$('#'+'texPercentaged'+oldid).val();
if(!isNaN(parseInt(newvalx)) && !isNaN(parseInt(newvaly)) && !isNaN(parseInt(newvalz)) && parseInt(newvalx)!='0' && parseInt(newvaly)!='0'&& parseInt(newvalz)!='0'){
if(parseInt(newvaly)>=parseInt(newvalx)){
    
   document.getElementById("errorMessage").innerHTML = 'Start Range shoud be less than Max range';
   document.getElementById("texFromd"+oldid).focus();
    
    return false;}
var newid = parseInt(newid[0]) + 1;
var newXid = 'texFromd' + newid;
var newYid = 'texUptod' + newid;

var newZid = 'texPercentaged' + newid;

newRow.children().eq(1).find('.StdTableDatad input').attr({id:newXid}).val(parseInt(newvalx)+1);
newRow.children().eq(2).find('.StdTableDatad input').attr({id:newYid}).val('');
newRow.children().eq(3).find('.StdTableDatad input').attr({id:newZid}).val('');
//newRow.children().eq(4).find('.StdTableDatad input').attr({class:'remove1',name:newYid}).val('-');
 newRow.children().eq(4).find('.addnewd').removeClass('addnewd').addClass('remove1');
    newRow.children().eq(4).find('.remove1').val("-");

$('#updid').val(newid);
$('#gpsTabled .adda').append(newRow);
}
if(isNaN(parseInt(newvaly)) || parseInt(newvaly)=='0'){
    document.getElementById("errorMessage").innerHTML = 'Please provide start range value';
     document.getElementById("texFromd"+oldid).focus();
            return false;
}
if(isNaN(parseInt(newvalx)) || parseInt(newvalx)=='0'){
    
   document.getElementById("errorMessage").innerHTML = maxrange1;
    document.getElementById("texUptod"+oldid).focus();
            return false;
}
if(parseInt(newvaly)>=parseInt(newvalx)){
    
   document.getElementById("errorMessage").innerHTML = 'Start Range shoud be less than Max range';
   document.getElementById("texFromd"+oldid).focus();
    
    return false;}

if(isNaN(parseInt(newvalz))|| parseInt(newvalz)==''){
    document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage value.';
     document.getElementById("texPercentaged"+oldid).focus();
            return false;
}
}

$(document).ready(function() {  
    
    
$('.addnewd').click(function() {
addRowd();


$('.remove1').live('click', function(){
    $(this).parent().parent().parent().remove();
});
 });   
$('.addnew').click(function() {
addRow();
$('.remove').live('click', function(){
    $(this).parent().parent().remove();
});
});

 

});
</script>


<script type = "text/javascript">

function updateplan()
{var startsdate;

var endsdate;
var servicetype;


var starts;

var upto;
var percentage;


var startsdateErrorMessage = "Please select Valid Start Date";	
		
				var endsdateErrorMessage = "Please select Valid Ends Date";	
				var servicetypeErrorMessage = "Please Select One Service";	
				var dateErrorMessage = "Starting Credit should be Less than End Credit";
			
				var startsErrorMessage = "Please Enter valid Starting Amount";
				var uptoErrorMessage = "Please enter valid upto Amount";	
				var percentageErrorMessage = "Please Valid Margin";
                                var percentagelimit = "Please Enter Less Than 100% EX:99.999";
                                var operatormsg = "Please select Operator";


startsdate = document.getElementById("startDate").value;
endsdate = document.getElementById("endDate").value;

servicetype = document.getElementById("servicetype").value;
//alert(servicetype);

startdval=parseInt(document.getElementById("updid").value);

startval=parseInt(document.getElementById("upid").value);
starts_d = document.getElementById("texFromd1").value;
starts1 = document.getElementById("texFrom1").value;
upto1 = document.getElementById("texUpto1").value;
upto_d = document.getElementById("texUptod1").value;
percentage1 = document.getElementById("texPercentage1").value;
percentage_d = document.getElementById("texPercentaged1").value;

var startspattern = /^[0-9]+$/;
var uptopattern = /^[0-9]+$/;
//var perpattern=  /^100(\.0{1,2})?$/;///(^([1-9]))|(^(0\d?)\.\d{2})|^([1-9]\d?)\.\d{2}$/;///^[0-9]\d{0,9}(\.\d{1,2})$/;

  

///\d+([\.,]\d+)?\s\S+/
		//check for numeric characters

/*******Empty validations*******/

var objRegex = /(^([1-9]|[0-9][0-9]|100)\.\d{3}$)/;

		//check for numeric characters
if (servicetype.length == 0)	
{
document.getElementById("errorMessage").innerHTML = servicetypeErrorMessage;
document.getElementById("servicetype").focus();
return false;
}
if(startdval==1)
        {
        if(starts_d.length == 0 || parseInt(starts_d)=='0'){
            
            document.getElementById("errorMessage").innerHTML = startsErrorMessage;
            document.getElementById("texFromd1").focus();
            return false;
            
        }
        if ( !starts_d.match(uptopattern))	
            {
            document.getElementById("errorMessage").innerHTML = 'Please Provide valid start range value';
            document.getElementById("texFromd1").focus();
            return false;
            }
        if(parseInt(starts_d) >= parseInt(upto_d))
        {
            
            document.getElementById("errorMessage").innerHTML = dateErrorMessage;
            document.getElementById("texFromd1").focus();
            return false;
            
        }
        
         if( parseInt(upto_d)=='0'){
            
            if ( !upto_d.match(uptopattern))	
            {
            document.getElementById("errorMessage").innerHTML = 'Please provide valid Max range value';
            document.getElementById("texUptod1").focus();
            return false;
            }
            
        }
       /* if ( !percentage_d.match(perpattern) || parseInt(percentage_d)=='0')	
            {
            document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage values';
            document.getElementById("texPercentaged1").focus();
            return false;
            }*/
              var x = parseFloat(percentage_d);
                //alert(x);
             if (isNaN(x) || x < 0 || x > 100) 
             {
                 document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage values';
                         document.getElementById("texPercentaged1").focus();
                         return false;
             }
             
        }
   
   
   if(startdval > 1)
        {
            
            //alert(parseInt(chkp));
        var chks = document.getElementsByName('textfrmd[]');//here rr[] is the name of the textbox
        var chkto = document.getElementsByName('texttod[]');//here rr[] is the name of the textbox
         var chkper = document.getElementsByName('textpctd[]');//here rr[] is the name of the textbox
         
          var chkspattern=/^[0-9]+$/;
         var chktopattern=/^[0-9]+$/;
        // var chkperpattern=/(^([1-9]))|(^(0\d?)\.\d{2})|^([1-9]\d?)\.\d{2}$/;
        if(chkto[startdval]!='' || chkto[startdval]!='0')
        {
              
             //alert(chks.length);
       
                for (var i = 1; i < chks.length; i++)
                {   
                  //alert(parseInt(chkto[i-1].value));
                  if(parseInt(chks[i].value) < parseInt(chkto[i-1].value))
                        {
                          document.getElementById("errorMessage").innerHTML = 'Please give Correct Start Range ';
                            chks[i].focus();
                            return false; 
                        }
                 
                if (parseInt(chks[i].value)>= parseInt(chkto[i].value))
                    {
                    document.getElementById("errorMessage").innerHTML = 'Max Range should be greater than Start range';
                    chkto[i].focus();
                    return false;            
                    }
              
                  if (isNaN(chkto[i].value))
            {
             document.getElementById("errorMessage").innerHTML = 'Please provide valid Max range value';
             chkto[i].focus();
             return false;            
            } 
           
        
                }
        
        }
         
            for (var i = 1; i < chks.length; i++)
        {   
            
        if (chks[i].value=="" || isNaN(chks[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Please provide the From Range value';
        chks[i].focus();
        return false;            
        }
         
        }
        
      
        //alert(chkto1);
        var chktod=chkto.length-1;
        for (var i = 1; i < chktod; i++)
        {        
        if (chkto[i].value=="" || isNaN(chkto[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Please provide to range value';
        chkto[i].focus();
        return false;            
        }
        
        if (parseInt(chks[i].value)>= parseInt(chkto[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Start Range should be greater than end range';
        chks[i].focus();
        return false;            
        }
        
      
        }
        
        for (var i = 1; i < chkper.length; ++i)
        {        
        if (chkper[i].value=="" || isNaN(chkper[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage value';
        chkper[i].focus();
        return false;            
        }
      
      /*   if (!chkper[i].value.match(chkperpattern)) 
         {
        document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage value';
        chkper[i].focus();
        return false;            
        }*/
        var x = parseFloat(chkper[i].value);
            //alert(x);
         if (isNaN(x) || x < 0 || x > 100) 
         {
             document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage values';
                 chkper[i].focus();
                     return false;
         }
        
        }
       
        
        }





if(document.form.status.checked || startsdate.length != 0 || endsdate.length != 0 || starts1.length != 0 || upto1.length != 0 || percentage1.length != 0)
{
    if(startval==1)
        {
        if(starts1.length == 0 || parseInt(starts1)=='0'){
            
            document.getElementById("errorMessage").innerHTML = startsErrorMessage;
            document.getElementById("texFrom1").focus();
            return false;
            
        }
        if(parseInt(starts1) >= parseInt(upto1))
        {
            
            document.getElementById("errorMessage").innerHTML = dateErrorMessage;
            document.getElementById("texFrom1").focus();
            return false;
            
        }
        
         if( parseInt(upto1)=='0'){
            
            if ( !upto1.match(uptopattern))	
            {
            document.getElementById("errorMessage").innerHTML = 'Please provide valid Max range value';
            document.getElementById("texUpto1").focus();
            return false;
            }
            
        }
       /* if ( !percentage1.match(perpattern) || parseInt(percentage1)=='0')	
            {
            document.getElementById("errorMessage").innerHTML = 'Please Provide valid percentage values';
            document.getElementById("texPercentage1").focus();
            return false;
            } */
            var x = parseFloat(percentage1);
                //alert(x);
             if (isNaN(x) || x < 0 || x > 100) 
             {
                 document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage values';
                         document.getElementById("texPercentage1").focus();
                         return false;
             }
        }
   
  if(startval > 1)
        {
            
        var chkss = document.getElementsByName('textfrm[]');//here rr[] is the name of the textbox
        var chksto = document.getElementsByName('textto[]');//here rr[] is the name of the textbox
         var chksper = document.getElementsByName('textpct[]');//here rr[] is the name of the textbox
        
        if(chksto[startval]!='' || chksto[startdval]!='0')
    {
     for (var i = 1; i < chkss.length; i++)
        {   
            
            if(parseInt(chkss[i].value) < parseInt(chksto[i-1].value))
                        {
                              document.getElementById("errorMessage").innerHTML = 'Please give Correct Start Range ';
                            chkss[i].focus();
                            return false; 
                        }
                   
         if (parseInt(chkss[i].value)>= parseInt(chksto[i].value) )
            {
             document.getElementById("errorMessage").innerHTML = 'Max Range should be greater than Start range';
             chksto[i].focus();
             return false;            
            }
             if (isNaN(chksto[i].value) )
            {
             document.getElementById("errorMessage").innerHTML = 'Please provide valid Max range value';
             chksto[i].focus();
             return false;            
            }
           
            
        }
    }
                
                for (var i = 1; i < chkss.length; i++)
        {        
        if (chkss[i].value=="" ||isNaN(chkss[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Please provide Start range value';
        chkss[i].focus();
        return false;            
        }
        
        }
        var chkstod=chksto.length-1;
        for (var i = 1; i < chkstod; i++)
        {        
        if (chksto[i].value=="" || isNaN(chksto[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Please provide valid Max range value';
        chksto[i].focus();
        return false;            
        }
        
        if (parseInt(chkss[i].value)>= parseInt(chksto[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Start Range should be greater than end range';
        chkss[i].focus();
        return false;            
        }
        
        }
        
        for (var i = 1; i < chksper.length; ++i)
        {        
        if (chksper[i].value=="" || isNaN(chksper[i].value))
        {
        document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage value';
        chksper[i].focus();
        return false;            
        }
       /*  if (!chksper[i].value.match(chkperpattern)) 
         {
         document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage value';
        chksper[i].focus();
        return false;             
        }*/
        var x = parseFloat(chksper[i].value);
            //alert(x);
         if (isNaN(x) || x < 0 || x > 100) 
         {
             document.getElementById("errorMessage").innerHTML = 'Please provide valid percentage values';
                  chksper[i].focus();
                     return false;
         }
                    
        }
        
        
        } 
//if ( document.form.operator1.selectedIndex == 0)	
//{
//    document.getElementById("errorMessage").innerHTML = operatormsg;
//document.getElementById("operator").focus();
//return false;
//}

if(startsdate.length == 0)
{
document.getElementById("errorMessage").innerHTML = startsdateErrorMessage;
document.getElementById("startDate").focus();
return false;
}

if(endsdate.length == 0)
{
document.getElementById("errorMessage").innerHTML = endsdateErrorMessage;
document.getElementById("endDate").focus();
return false;
}

		
}
else
{
    document.getElementById("errorMessage").innerHTML = "";
}
/*******Empty validations*******/

/**REGULAR EXPRESSION MATCHING*/	

}
</script>
<script type="text/javascript"  >
			function searchSummaryReports()
		{
                    
                 var url = "searchSummaryReports.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "SUMMARY";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                
                 
                 
		}
</script>

<script type="text/javascript"  >
			function summaryDetails()
		{
                    
                 
                var Fdate = document.getElementById("Fdate").value;
	        var Tdate = document.getElementById("Tdate").value;
                 var icc = document.getElementById("icc").value;
                   var icp = document.getElementById("icp").value;
                 var servicetype = document.getElementById("servicetype").value;
		
			
               // var trans_date = document.getElementById("trans_date").value;
			//var vendor_name = document.getElementById("vendor_name").value;
			//var order_status = document.getElementById("order_status").value;
			//var payment_status = document.getElementById("payment_status").value;
		
			
				var path= "searchSummaryDetails.php?Fdate="+Fdate+"&Tdate="+Tdate+"&icc="+icc+"&icp="+icp+"&servicetype="+servicetype;
                            //alert(path);
			
			//Declaring Variables
			var xmlHttp;
			
			if(window.XMLHttpRequest)
			{
				//IE6+,Chrome,Safari,Mozilla,Opera
				xmlHttp = new XMLHttpRequest();
				
			}
			else
			{	
				//I.E5,I.E6
				xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
			}
			
			//Processing Response
			xmlHttp.onreadystatechange = function()
			{
				if(xmlHttp.readyState == 4 && xmlHttp.status == 200)
				{
					document.getElementById("alter").innerHTML = xmlHttp.responseText;
                                        
				}
				
			}
			
			//Generating Request
			xmlHttp.open("GET",path,true);
			xmlHttp.send();
		}
</script>
<script type="text/javascript" >
function createDth()
{
    var path= "";
                        var url = "createDth.php";
                        var divid = "#alter";
                          <?php   
                           $access = "create";
                           $objects = "NEWDTH";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
}
     


			
function validatedth()
{

var dthoperator;
var setupbox;
var package;
var subscription;
var price;
var icpfixedchk;
var icpfixedmargin;
var icpperchk;
var icppermargin;

var iccfixedchk;
var iccfixedmargin;
var iccperchk;
var iccpermargin;

var ipayfixedchk;
var ipayfixedmargin;
var ipayperchk;
var ipaypermargin;

var ipexfixedchk;
var ipexfixedmargin;
var ipexperchk;
var ipexpermargin;
var status;
var comment;

var dthoperatorErrorMessage = "Please Select One Operator";	
var setupboxErrorMessage = "Please Select One setupbox";	
var packageErrorMessage = "Please Select One package";	
var subscriptionErrorMessage = "Please Select One subscription";	
var priceErrorMessage = "Please Enter The Price";
var commentsErrorMessage = "Please Enter The Comments";

dthoperator = document.getElementById("dthoperater").value;
//alert(dthoperator);
setupbox = document.getElementById("settopbox").value;
package = document.getElementById("package").value;
subscription = document.getElementById("subscription").value;
price = document.getElementById("packageprice").value;
icpfixedchk = document.getElementById("icpchkbox")
icpfixedmargin = document.getElementById("icpmargin").value;
icpperchk = document.getElementById("icpchkboxP");
icppermargin = document.getElementById("icpmarginP").value;
if(icpfixedchk.checked){icpfixedchk.value = 1;}else{icpfixedchk.value = 0;}
if(icpperchk.checked){icpperchk.value = 1;}else{icpperchk.value = 0;}

iccfixedchk = document.getElementById("iccchkbox");
iccfixedmargin = document.getElementById("iccmargin").value;
iccperchk = document.getElementById("iccchkboxP");
iccpermargin = document.getElementById("iccmarginP").value;
if(iccfixedchk.checked){iccfixedchk.value = 1;}else{iccfixedchk.value = 0;}
if(iccperchk.checked){iccperchk.value = 1;}else{iccperchk.value = 0;}

ipayfixedchk = document.getElementById("ipaychkbox");
ipayfixedmargin = document.getElementById("ipaymargin").value;
ipayperchk = document.getElementById("ipaychkboxP");
ipaypermargin = document.getElementById("ipaymarginP").value;
if(ipayfixedchk.checked){ipayfixedchk.value = 1;}else{ipayfixedchk.value = 0;}
if(ipayperchk.checked){ipayperchk.value = 1;}else{ipayperchk.value = 0;}

ipexfixedchk = document.getElementById("ipexchkbox");
ipexfixedmargin = document.getElementById("ipexmargin").value;
ipexperchk = document.getElementById("ipexchkboxP");
ipexpermargin = document.getElementById("ipexmarginP").value;

if(ipexfixedchk.checked){ipexfixedchk.value = 1;}else{ipexfixedchk.value = 0;}
if(ipexperchk.checked){ipexperchk.value = 1;}else{ipexperchk.value = 0;}

status= document.getElementById("status").value;
comment= document.getElementById("comment").value;
//alert(comment);

var pricepattern = /^[0-9 .]+$/;

//var marginpattern=/(^([1-9]|[0-9][0-9]|100)\.\d{2}$)/;


                if (dthoperator.length == 0)	
                {
                document.getElementById("errorMessage").innerHTML = dthoperatorErrorMessage;
                document.getElementById("dthoperater").focus();
                return false;
                }
                if (setupbox.length == 0)	
                {
                document.getElementById("errorMessage").innerHTML = setupboxErrorMessage;
                document.getElementById("settopbox").focus();
                return false;
                } 
                 
                if (package.length == 0)	
                {
                document.getElementById("errorMessage").innerHTML = packageErrorMessage;
                document.getElementById("package").focus();
                return false;
                } 
            

                if (subscription.length == 0)	
                {
                document.getElementById("errorMessage").innerHTML = subscriptionErrorMessage;
                document.getElementById("subscription").focus();
                return false;
                } 
                            
                if (price.length == 0)	
                {
                document.getElementById("errorMessage").innerHTML = priceErrorMessage;
                document.getElementById("packageprice").focus();
                return false;
                }  
                if(!price.match(pricepattern))
                {
                        document.getElementById("errorMessage").innerHTML = priceErrorMessage;
                        document.getElementById("packageprice").focus();
                        return false;
                }
                if((icpfixedchk.value == 0) && (icpperchk.value ==0) )
                {
                 document.getElementById("errorMessage").innerHTML = "any one icp check box is checked";
                    document.getElementById("icpchkbox").focus();
                    return false;
                }
                
                if(icpfixedchk.value == 1)
                {
                    if(icpfixedmargin.length == 0 )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The ICP Fixed Margin value";
                        document.getElementById("icpmargin").focus();
                                return false;
                        }

                }
                
                if(icpperchk.value == 1)
                {
                    if(icppermargin.length == 0  )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The ICP Percentage Margin value";
                        document.getElementById("icpmarginP").focus();
                                return false;
                        }

                }
                
               
                
                if((iccfixedchk.value == 0) && (iccperchk.value ==0) )
                {
                 document.getElementById("errorMessage").innerHTML = "any one icc check box is checked";
                    document.getElementById("iccchkbox").focus();
                    return false;
                }
                
                 if(iccfixedchk.value == 1)
                {
                    if(iccfixedmargin.length == 0 )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The ICC Fixed Margin value";
                        document.getElementById("iccmargin").focus();
                                return false;
                        }

                }
                
                if(iccperchk.value == 1)
                {
                    if(iccpermargin.length == 0  )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The ICC Percentage Margin value";
                        document.getElementById("iccmarginP").focus();
                                return false;
                        }


                }
               
                
               if((ipayfixedchk.value == 0) && (ipayperchk.value ==0) )
                {
                 document.getElementById("errorMessage").innerHTML = "any one ipay check box is checked";
                    document.getElementById("ipaychkbox").focus();
                    return false;
                }
               if(ipayfixedchk.value == 1)
                {
                    if(ipayfixedmargin.length == 0 )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Ipay Fixed Margin value";
                        document.getElementById("ipaymargin").focus();
                                return false;
                        }

                }
               
                if(ipayperchk.value == 1)
                {
                    if(ipaypermargin.length == 0  )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Ipay Percentage Margin value";
                        document.getElementById("ipaymarginP").focus();
                                return false;
                        }


                }
                
               
                
                if((ipexfixedchk.value == 0) && (ipexperchk.value ==0) )
                {
                 document.getElementById("errorMessage").innerHTML = "any one check box is checked";
                    document.getElementById("ipexchkbox").focus();
                    return false;
                }
                 if(ipexfixedchk.value == 1)
                    {
                        if(ipexfixedmargin.length == 0 )
                            {
                            document.getElementById("errorMessage").innerHTML = "Please Enter The Ipex Fixed Margin value";
                            document.getElementById("ipexmargin").focus();
                                    return false;
                        }

                    }
                
                
                if(ipexperchk.value == 1)
                {
                    if(ipexpermargin.length == 0  )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Ipex Percentage Margin value";
                        document.getElementById("ipexmarginP").focus();
                                    return false;
                        }


                }
                
                 if(icpfixedchk.value == 1 && icpfixedmargin.length >= 0 )
                {
                    if(!icpfixedmargin.match(pricepattern))
                    {
                            document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                            document.getElementById("icpmargin").focus();
                            return false;
                    }
                       

                }
                if(icpperchk.value == 1 && icppermargin.length >= 0 )
                {
                   if(!icppermargin.match(pricepattern))
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                        document.getElementById("icpmarginP").focus();
                        return false;
                    }

                }
                 if(iccfixedchk.value == 1 && iccfixedmargin.length >= 0 )
                {
                    if(!iccfixedmargin.match(pricepattern))
                    {
                            document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                            document.getElementById("iccmargin").focus();
                            return false;
                    }

                }
                
                if(iccperchk.value == 1 && iccpermargin.length >= 0 )
                {
                   if(!iccpermargin.match(pricepattern))
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                        document.getElementById("iccmarginP").focus();
                        return false;
                    }
                }
                if(ipayfixedchk.value == 1 && ipayfixedmargin.length >= 0)
                {
                      if(!ipayfixedmargin.match(pricepattern))
                        {
                            document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                            document.getElementById("ipaymargin").focus();
                            return false;
                        }
                }
               
                if(ipayperchk.value == 1 && ipaypermargin.length >= 0 )
                {
                    if(!ipaypermargin.match(pricepattern))
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                        document.getElementById("ipaymarginP").focus();
                        return false;
                    }
                }
                if(ipexfixedchk.value == 1 && ipexfixedmargin.length >= 0)
                {
                     if(!ipexfixedmargin.match(pricepattern))
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                        document.getElementById("ipexmargin").focus();
                        return false;
                    }

                }

                
                if(ipexperchk.value == 1 && ipexpermargin.length >= 0 )
                {
                     if(!ipexpermargin.match(pricepattern))
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                        document.getElementById("ipexmarginP").focus();
                        return false;
                    }
        

                }
                
                
                
                 if (status.length == 0)	
                {
                document.getElementById("errorMessage").innerHTML = "Please Select The Status";
                document.getElementById("status").focus();
                return false;
                }
                
                 
               
                
              
               
              
                var path= "insertNewDth.php?dthoperator="+dthoperator+"&setupbox="+setupbox+"&package="+package+"&subscription="+subscription+"&price="+price+"&icpfixedchk="+icpfixedchk.value+"&icpfixedmargin="+icpfixedmargin+"&icpperchk="+icpperchk.value+"&icppermargin="+icppermargin+"&iccfixedchk="+iccfixedchk.value+"&iccfixedmargin="+iccfixedmargin+"&iccperchk="+iccperchk.value+"&iccpermargin="+iccpermargin+"&ipayfixedchk="+ipayfixedchk.value+"&ipayfixedmargin="+ipayfixedmargin+"&ipayperchk="+ipayperchk.value+"&ipaypermargin="+ipaypermargin+"&ipexfixedchk="+ipexfixedchk.value+"&ipexfixedmargin="+ipexfixedmargin+"&ipexperchk="+ipexperchk.value+"&ipexpermargin="+ipexpermargin+"&status="+status+"&comment="+comment;
              //alert(path);

        //Declaring Variables
                var xmlhttp;
                if (window.XMLHttpRequest)
                  {// code for IE7+, Firefox, Chrome, Opera, Safari
                  xmlhttp=new XMLHttpRequest();
                  }
                else
                  {// code for IE6, IE5
                  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                  }
                xmlhttp.onreadystatechange=function()
                  {
                  if (xmlhttp.readyState==4 && xmlhttp.status==200)
                    {
                    document.getElementById("alter").innerHTML=xmlhttp.responseText;
                    }
                  }
                xmlhttp.open("GET",path,true);
                xmlhttp.send();



}





function searchDth()
{
var path= "";
                        var url = "searchdthconnections.php";
                        var divid = "#alter";
                          <?php   
                           $access = "search";
                           $objects = "NEWDTH";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
     }


 function dthdetails()
    {

        var dthoperater =$("#dthoperater").val();
     
        var setupbox = $("#settopbox").val();
         var package =$("#package").val();
        var subscription = $("#subscription").val();
        var path = "dthoperater="+dthoperater+"&setupbox="+setupbox+"&package="+package+"&subscription="+subscription;
        $('#alter').load("searchDthDetails.php",path);
        
            
    }	
    
    function viewdth(package_id)
    {
var path = "package_id="+package_id;
                        var url = "viewdth.php";
                        var divid = "#alter";
                          <?php   
                           $access = "view";
                           $objects = "NEWDTH";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
    }	
    function editdth(package_id)
    {
        var path = "package_id="+package_id;
                        var url = "editdth.php";
                        var divid = "#alter";
                          <?php   
                           $access = "edit";
                           $objects = "NEWDTH";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
           
    }	
    function updatedth(package_id)
    {
        
    
var price;
var icpfixedchk;
var icpfixedmargin;
var icpperchk;
var icppermargin;

var iccfixedchk;
var iccfixedmargin;
var iccperchk;
var iccpermargin;

var ipayfixedchk;
var ipayfixedmargin;
var ipayperchk;
var ipaypermargin;

var ipexfixedchk;
var ipexfixedmargin;
var ipexperchk;
var ipexpermargin;
var status;
var comment;
var priceErrorMessage = "Please Enter The Price";
var commentsErrorMessage = "Please Enter The Comments";

price = document.getElementById("packageprice").value;
icpfixedchk = document.getElementById("icpchkbox")
icpfixedmargin = document.getElementById("icpmargin").value;
icpperchk = document.getElementById("icpchkboxP");
icppermargin = document.getElementById("icpmarginP").value;
if(icpfixedchk.checked){icpfixedchk.value = 1;}else{icpfixedchk.value = 0;}
if(icpperchk.checked){icpperchk.value = 1;}else{icpperchk.value = 0;}

iccfixedchk = document.getElementById("iccchkbox");
iccfixedmargin = document.getElementById("iccmargin").value;
iccperchk = document.getElementById("iccchkboxP");
iccpermargin = document.getElementById("iccmarginP").value;
if(iccfixedchk.checked){iccfixedchk.value = 1;}else{iccfixedchk.value = 0;}
if(iccperchk.checked){iccperchk.value = 1;}else{iccperchk.value = 0;}

ipayfixedchk = document.getElementById("ipaychkbox");
ipayfixedmargin = document.getElementById("ipaymargin").value;
ipayperchk = document.getElementById("ipaychkboxP");
ipaypermargin = document.getElementById("ipaymarginP").value;
if(ipayfixedchk.checked){ipayfixedchk.value = 1;}else{ipayfixedchk.value = 0;}
if(ipayperchk.checked){ipayperchk.value = 1;}else{ipayperchk.value = 0;}

ipexfixedchk = document.getElementById("ipexchkbox");
ipexfixedmargin = document.getElementById("ipexmargin").value;
ipexperchk = document.getElementById("ipexchkboxP");
ipexpermargin = document.getElementById("ipexmarginP").value;
//alert(ipexpermargin.length);
if(ipexfixedchk.checked){ipexfixedchk.value = 1;}else{ipexfixedchk.value = 0;}
if(ipexperchk.checked){ipexperchk.value = 1;}else{ipexperchk.value = 0;}

status= document.getElementById("status").value;
comment= document.getElementById("comment").value;


var pricepattern = /^[0-9 .]+$/;

//var marginpattern=/(^([1-9]|[0-9][0-9]|100)\.\d{2}$)/;


                            
                if (price.length == 0)	
                {
                document.getElementById("errorMessage").innerHTML = priceErrorMessage;
                document.getElementById("packageprice").focus();
                return false;
                }  
                if(!price.match(pricepattern))
                {
                        document.getElementById("errorMessage").innerHTML = priceErrorMessage;
                        document.getElementById("packageprice").focus();
                        return false;
                }
               if((icpfixedchk.value == 0) && (icpperchk.value == 0) )
                {
                 document.getElementById("errorMessage").innerHTML = "any one icp check box is checked";
                    document.getElementById("icpchkbox").focus();
                    return false;
                }
                
                if(icpfixedchk.value == 1)
                {
                    if(icpfixedmargin.length > 0 && icpfixedmargin == "0")
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The ICP Fixed Margin value";
                        document.getElementById("icpmargin").focus();
                                return false;
                        }
                         if(icpfixedmargin.length == 0 )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The ICP Fixed Margin value";
                        document.getElementById("icpmargin").focus();
                                return false;
                        }

                }
                
                if(icpperchk.value == 1)
                {
                   
                    if(icppermargin.length > 0 && icppermargin == "0")
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The ICP Percentage Margin value";
                        document.getElementById("icpmarginP").focus();
                                return false;
                        }
                         if(icppermargin.length == 0)
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The ICP Percentage Margin value";
                        document.getElementById("icpmarginP").focus();
                                return false;
                        }
                }
                
               
                
                if((iccfixedchk.value == 0) && (iccperchk.value ==0) )
                {
                 document.getElementById("errorMessage").innerHTML = "any one icc check box is checked";
                    document.getElementById("iccchkbox").focus();
                    return false;
                }
                
                 if(iccfixedchk.value == 1)
                {
                    if(iccfixedmargin.length > 0 && iccfixedmargin == "0")
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The ICC Fixed Margin value";
                        document.getElementById("iccmargin").focus();
                                return false;
                        }
                         if(iccfixedmargin.length == 0 )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The ICC Fixed Margin value";
                        document.getElementById("iccmargin").focus();
                                return false;
                        }
                }
                
                if(iccperchk.value == 1)
                {
                    if(iccpermargin.length > 0 && iccpermargin == "0")
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The ICC Percentage Margin value";
                        document.getElementById("iccmarginP").focus();
                                return false;
                        }
                        if(iccpermargin.length == 0 )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The ICC Percentage Margin value";
                        document.getElementById("iccmarginP").focus();
                                return false;
                        }

                }
               
                
               if((ipayfixedchk.value == 0) && (ipayperchk.value ==0) )
                {
                 document.getElementById("errorMessage").innerHTML = "any one ipay check box is checked";
                    document.getElementById("ipaychkbox").focus();
                    return false;
                }
               if(ipayfixedchk.value == 1)
                {
                    if(ipayfixedmargin.length > 0 && ipayfixedmargin == "0" )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Ipay Fixed Margin value";
                        document.getElementById("ipaymargin").focus();
                                return false;
                        }
                        if(ipayfixedmargin.length == 0 )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Ipay Fixed Margin value";
                        document.getElementById("ipaymargin").focus();
                                return false;
                        }

                }
           
                if(ipayperchk.value == 1)
                {
                    
                    if(ipaypermargin.length > 0 && ipaypermargin == "0")
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Ipay Percentage Margin value";
                        document.getElementById("ipaymarginP").focus();
                                return false;
                        }
                        if(ipaypermargin.length == 0)
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Ipay Percentage Margin value";
                        document.getElementById("ipaymarginP").focus();
                                return false;
                        }

                }
                
               
                
               if((ipexfixedchk.value == 0) && (ipexperchk.value ==0) )
                {
                 document.getElementById("errorMessage").innerHTML = "any one check box is checked";
                    document.getElementById("ipexchkbox").focus();
                    return false;
                }
                 if(ipexfixedchk.value == 1)
                    {
                        if(ipexfixedmargin.length > 0  && ipexfixedmargin == "0")
                        {
                            document.getElementById("errorMessage").innerHTML = "Please Enter The Ipex Fixed Margin value";
                            document.getElementById("ipexmargin").focus();
                                    return false;
                        }
                        if(ipexfixedmargin.length == 0 )
                        {
                            document.getElementById("errorMessage").innerHTML = "Please Enter The Ipex Fixed Margin value";
                            document.getElementById("ipexmargin").focus();
                                    return false;
                        }

                    }
                
               
                if(ipexperchk.value == 1)
                { 
                    if(ipexpermargin.length > 0 && ipexpermargin == "0" )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Ipex Percentage Margin value";
                        document.getElementById("ipexmarginP").focus();
                                    return false;
                        }
                        if(ipexpermargin.length == 0 )
                        {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Ipex Percentage Margin value";
                        document.getElementById("ipexmarginP").focus();
                                    return false;
                        }


                }
             if(icpfixedchk.value == 1 && icpfixedmargin.length >= 0 )
                {
                    if(!icpfixedmargin.match(pricepattern))
                    {
                            document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                            document.getElementById("icpmargin").focus();
                            return false;
                    }
                       

                }
                if(icpperchk.value == 1 && icppermargin.length >= 0 )
                {
                   if(!icppermargin.match(pricepattern))
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                        document.getElementById("icpmarginP").focus();
                        return false;
                    }

                }
                 if(iccfixedchk.value == 1 && iccfixedmargin.length >= 0 )
                {
                    if(!iccfixedmargin.match(pricepattern))
                    {
                            document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                            document.getElementById("iccmargin").focus();
                            return false;
                    }

                }
                
                if(iccperchk.value == 1 && iccpermargin.length >= 0 )
                {
                   if(!iccpermargin.match(pricepattern))
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                        document.getElementById("iccmarginP").focus();
                        return false;
                    }
                }
                if(ipayfixedchk.value == 1 && ipayfixedmargin.length >= 0)
                {
                      if(!ipayfixedmargin.match(pricepattern))
                        {
                            document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                            document.getElementById("ipaymargin").focus();
                            return false;
                        }
                }
               
                if(ipayperchk.value == 1 && ipaypermargin.length >= 0 )
                {
                    if(!ipaypermargin.match(pricepattern))
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                        document.getElementById("ipaymarginP").focus();
                        return false;
                    }
                }
                if(ipexfixedchk.value == 1 && ipexfixedmargin.length >= 0)
                {
                     if(!ipexfixedmargin.match(pricepattern))
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                        document.getElementById("ipexmargin").focus();
                        return false;
                    }

                }

                
                if(ipexperchk.value == 1 && ipexpermargin.length >= 0 )
                {
                     if(!ipexpermargin.match(pricepattern))
                    {
                        document.getElementById("errorMessage").innerHTML = "Please Enter The Valid Margin";
                        document.getElementById("ipexmarginP").focus();
                        return false;
                    }
        

                }
               if (status.length == 0)	
                {
                document.getElementById("errorMessage").innerHTML = "Please Select The Status";
                document.getElementById("status").focus();
                return false;
                }
                
    

        var path = "package_id="+package_id+"&price="+price+"&icpfixedchk="+icpfixedchk.value+"&icpfixedmargin="+icpfixedmargin+"&icpperchk="+icpperchk.value+"&icppermargin="+icppermargin+"&iccfixedchk="+iccfixedchk.value+"&iccfixedmargin="+iccfixedmargin+"&iccperchk="+iccperchk.value+"&iccpermargin="+iccpermargin+"&ipayfixedchk="+ipayfixedchk.value+"&ipayfixedmargin="+ipayfixedmargin+"&ipayperchk="+ipayperchk.value+"&ipaypermargin="+ipaypermargin+"&ipexfixedchk="+ipexfixedchk.value+"&ipexfixedmargin="+ipexfixedmargin+"&ipexperchk="+ipexperchk.value+"&ipexpermargin="+ipexpermargin+"&comment="+comment+"&status="+status;
        $('#alter').load("updatedth.php",path);
        
            
    }	
    
    
    function orderDth()
{
        var path = "";
        var url = "orderdth.php";
        var divid = "#alter";
          <?php   
           $access = "search";
           $objects = "NEWDTH ORDERS";

           $rolls =  check_rolls($usertype,$access,$objects); 
          ?>
           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    
              
}
 function dthorderDetails()
    {
      
        var fromdate =$("#dthFromdate").val();
        var todate = $("#dthTodate").val();
        var path = "fromdate="+fromdate+"&todate="+todate;
        $('#alter').load("searchDthOrderDetails.php",path);
            
    }

function editorderDth(orderid)
{
        var orderid;

       var path = "orderid="+orderid;

        <?php 
        if($_SESSION["usertype"] == "Admin"){ ?>
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      $('#alter').load("editorderdth.php",path);
                    }

                });
       <?php  }
        else{
        if (in_array("NEWDTH ORDER", $objects_rolls_array)) { 
        if (in_array("edit", $access_rolls_array)) { ?>
                
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                       
         
                 $('#alter').load("editorderdth.php",path);
                    }

                });
               
              
                 <?php 
                 
        }
        else{
            ?>
                    alert("You Dont Have Access Towards This Page");
                    <?php 
                    
        }
        }
        else{
            ?>
                    alert("You Dont Have Access Towards This Page");
                    <?php 
                    
        } }
        ?>
        
        
        //alert(path);


}
                        
                        
function vieworderdth(orderid)
{
      
        var path = "orderid="+orderid;
        $('#alter').load("vieworderdth.php",path);
}

function updateorderdth()
			{
				
				//Declaring Variables
			                            
                            var orderid = document.getElementById("orderid").value;
                             var date = document.getElementById("texdthdate").value;
                             var accid= document.getElementById("texaccid").value;
                             var vendor = document.getElementById("texvendor").value;
                             var status = document.getElementById("status").value;
                               //alert(status);
                             var  accIDErrorMessage = "Please Enter AccountID";
                            var  dateErrorMessage = "Please Enter Date";
                            var vendorErrorMessage = "Please Enter Vendor";
                             var StatusErrorMessage = "Please Select Status";
                         /* 
                             alert(orderid);
                             alert(date);
                             alert(referenceid);
                             alert(comments);*/
        
                if(accid.length == 0)
		{
			document.getElementById("errorMessage").innerHTML = accIDErrorMessage;
			document.getElementById("texaccid").focus();
			return false;
		}
		
		if(date.length == 0)
		{
			document.getElementById("errorMessage").innerHTML = dateErrorMessage;
			document.getElementById("texdthdate").focus();
			return false;
		}
		if(vendor.length == 0)
		{
			document.getElementById("errorMessage").innerHTML = vendorErrorMessage;
			document.getElementById("texvendor").focus();
			return false;
		}
                
                if(status.length == 0)
		{
			document.getElementById("errorMessage").innerHTML = StatusErrorMessage;
			document.getElementById("status").focus();
			return false;
		}
                else
                    {
                        document.getElementById("errorMessage").innerHTML = "";
                    }
		
		  var path = "status="+status+"&ipex_transaction_id="+orderid+"&accid="+accid+"&vendor="+vendor+"&date="+date;
                       // alert(path);
                     $('#fullfillment').load("updateorderdth.php",path); 
		  
			
            }
            
            function viewOrder(orderid)
                {
                    
                    var url = "viewOrder.php";
                    var path = "orderid="+orderid;
                     var divid = "#popup_billprocess";
                     var width = 900;
                     var height = 700;
                     var title = 'Order Details';
         <?php   
            $access = "view";
          $objects = "ORDERS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
                      
                }
                
                
                 function viewIpexOrder(orderid)
                {
                    
                    var url = "viewIpexOrder.php";
                    var path = "orderid="+orderid;
                     var divid = "#ipex_orders_dets";
                     var width = 900;
                     var height = 600;
                     var title = 'Ipex Order Details';
         <?php   
            $access = "view";
          $objects = "ORDERS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
                      
                }
                function viewRelatedOrder(orderid)
                {
                    
                    var url = "viewOrder.php";
                    var path = "orderid="+orderid;
                     var divid = "#ecom_ipayord_view";
                     var width = 900;
                     var height = 700;
                     var title = 'Order Details';
         <?php   
            $access = "view";
          $objects = "ORDERS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
                      
                }
                
                function showpassword()
                {
                  
                var divid = "#order_reversal";
              <?php   
              $access = "reversal";
              $objects = "ORDERS";

              $rolls =  check_rolls($usertype,$access,$objects); 
             ?>
              checkaunthentic_show(divid,"<?php echo $rolls; ?>");
                   
                    
                    
                }
                function confirmreversal()
                {
                    
                    var reversal_pwd  = $("#reversal_pwd").val();
                     var reversal_pwd  = escape(reversal_pwd);
                   
                    
                         if(reversal_pwd)
                        {
                              var order_id = $("#hid_order_id").val();
                               var path = "orderid="+order_id+"&reversal_pwd="+reversal_pwd;
                                $("#authenticate_order").load("checkorderstatus.php", path);
                        }
                        else
                            {
                                   
                                    
                                    $('#order_reversal_error').html("Please enter valid password");
                                   
                            }
                   
                 
                }
                function searchpostpaidReconsullation()
                {
                    var url = "searchPostPaidReconsulation.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX RECN";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                    
                }
                function searchpostpaidRecDetails()
                {
                    var trans_date =$("#trans_date").val();
                    var vendor_name = $("#vendor_name").val();
                     var order_status =$("#order_status").val();
                    var payment_status = $("#payment_status").val();
                    var to_date =$("#to_date").val();
                    var operator_name = $("#operator_name").val();
                    $('#datacard_rec').attr('value', 'Searching');
                    var path = "trans_date="+trans_date+"&vendor_name="+vendor_name+"&order_status="+order_status+"&payment_status="+payment_status+"&to_date="+to_date+"&operator_name="+operator_name;
                    $('#alter').load("searchPostPaidRecDetails.php",path);
                }
                function billDetailsforview(orderid)
                {
                    var url = "billdetailsforview.php";
                   var path = "orderid="+orderid;
                     var divid = "#popup_billprocess";
                     var width = 1100;
                     var height = 500;
                     var title = 'Bill Details';
         <?php   
          $access = "view";
          $objects = "BILLS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
                        
                }
                
                function addpayout()
                {
                    var url = "addpayout.php";
                    var path = "";
                     var divid = "#alter";
                  <?php   
                   $access = "create";
                   $objects = "PAYOUTS";

                   $rolls =  check_rolls($usertype,$access,$objects); 
                  ?>
                   checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                   
                }
                function loadsub_service(service_name)
                {
                    
                            $('#subservice').load("loadsubservices.php?service_name="+service_name); 
                          
                   
                }
                function savepayoutdetails()
                {
                    var payout_details = $('#add_payout').serialize();
                    var service = $("#service").val();
                    var icc_type = $("#icc_type").val();
                    var icp_type = $("#icp_type").val();
                    var tot_perc = $("#tot_perc").val();
                    var tot_fixd = $("#tot_fixd").val();
                    var icc_instapayperc = $("#icc_instapayperc").val();
                    var icc_instapayfx = $("#icc_instapayfx").val();
                    
                    var icp_instapayperc = $("#icp_instapayperc").val();
                    var icp_instapayfx = $("#icp_instapayfx").val();
                    
                     var icc_targetpayperc = $("#icc_targetpayperc").val();
                    var icc_targetpayfx = $("#icc_targetpayfx").val();
                    
                    var icp_targetpayperc = $("#icp_targetpayperc").val();
                    var icp_targetpayfx = $("#icp_targetpayfx").val();
                    
                    var icc_basemarginperc = $("#icc_basemarginperc").val();
                    var icc_basemarginfix = $("#icc_basemarginfix").val();
                    
                    var icp_basemarginperc = $("#icp_basemarginperc").val();
                    var icp_basemarginfix = $("#icp_basemarginfix").val();
                    
                       var icc_instanxtdaperc = $("#icc_instanxtdaperc").val();
                    var icc_instanxtdafix = $("#icc_instanxtdafix").val();
                    
                      var icp_instanxtdaperc = $("#icp_instanxtdaperc").val();
                    var icp_instanxtdafix = $("#icp_instanxtdafix").val();
                    
                         var salestax_perc = $("#salestax_perc").val();
                    var salestax_fix = $("#salestax_fix").val();
                    
                    var baselev_start = $("#baselev_start").val();
                    var baselev_to = $("#baselev_to").val();
                    
                    
                    var tot_percentage = 100;
                    
                       if(icc_instapayperc == ''){ var icc_instapayperc = 0; }
                    else { var icc_instapayperc; }
                    
                    if(icp_instapayperc == ''){ var icp_instapayperc = 0; }
                    else { var icp_instapayperc; }
                    
                    if(icc_targetpayperc == ''){ var icc_targetpayperc = 0; }
                    else { var icc_targetpayperc; }
                    
                    if(icp_targetpayperc == ''){ var icp_targetpayperc = 0; }
                    else { var icp_targetpayperc; }
                    
                    if(icc_basemarginperc == ''){ var icc_basemarginperc = 0; }
                    else { var icc_basemarginperc; }
                    
                    if(icp_basemarginperc == ''){ var icp_basemarginperc = 0; }
                    else { var icp_basemarginperc; }
                    
                     if(icc_instanxtdaperc == ''){ var icc_instanxtdaperc = 0; }
                    else { var icc_instanxtdaperc; }
                    
                    if(icp_instanxtdaperc == ''){ var icp_instanxtdaperc = 0; }
                    else { var icp_instanxtdaperc; }
                    
                     if(salestax_perc == ''){ var salestax_perc = 0; }
                    else { var salestax_perc; }
                    
                    
                      var totalpayouts = parseFloat(icc_instapayperc) +parseFloat(icp_instapayperc) +parseFloat(icc_targetpayperc)
                      + parseFloat(icp_targetpayperc)
                       +parseFloat(icc_basemarginperc)+
                     parseFloat(icp_basemarginperc)+
                      
              +parseFloat(salestax_perc);
      
      if(icc_instapayfx == ''){ var icc_instapayfx = 0; }
                    else { var icc_instapayfx; }
                    
                    if(icp_instapayfx == ''){ var icp_instapayfx = 0; }
                    else { var icp_instapayfx; }
                    
                    if(icc_targetpayfx == ''){ var icc_targetpayfx = 0; }
                    else { var icc_targetpayfx; }
                    
                    if(icp_targetpayfx == ''){ var icp_targetpayfx = 0; }
                    else { var icp_targetpayfx; }
                    
                    if(icc_basemarginfix == ''){ var icc_basemarginfix = 0; }
                    else { var icc_basemarginfix; }
                    
                    if(icp_basemarginfix == ''){ var icp_basemarginfix = 0; }
                    else { var icp_basemarginfix; }
                    
                     if(icc_instanxtdafix == ''){ var icc_instanxtdafix = 0; }
                    else { var icc_instanxtdafix; }
                    
                    if(icp_instanxtdafix == ''){ var icp_instanxtdafix = 0; }
                    else { var icp_instanxtdafix; }
                    
                     if(salestax_fix == ''){ var salestax_fix = 0; }
                    else { var salestax_fix; }
             
                    
                      var totalpayouts_fxd = parseFloat(icc_instapayfx) +parseFloat(icp_instapayfx) +parseFloat(icc_targetpayfx)
                      + parseFloat(icp_targetpayfx)
                       +parseFloat(icc_basemarginfix)+
                     parseFloat(icp_basemarginfix)+
                                    +parseFloat(salestax_fix);
      
                
                   
                    var elements = document.getElementsByClassName('percentage');
                    
                    var elements1 = document.getElementsByClassName('fixed');
                    
                    var tot_percpattern = /^[0-9 .]+$/;
                   var  error_code=0;
                   
                   if(trim(service).length == 0)
		{
			document.getElementById("error_payout").innerHTML = "Please Select Service";
			document.getElementById("service").focus();
                        error_code=1;
			return false;
		}
                 if(trim(baselev_start).length != 0)
		{
			if(!baselev_start.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Starting Amount";
                                document.getElementById("baselev_start").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(baselev_to).length == 0)
                        {
                            document.getElementById("error_payout").innerHTML = "Please Enter valid Upto Amount";
                            document.getElementById("baselev_to").focus();
                            error_code=1;
                            return false;
                        }
                        if(trim(baselev_to).length != 0)
                        {
                           if(!baselev_to.match(tot_percpattern))
                            {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Upto Amount";
                                document.getElementById("baselev_to").focus();
                                error_code=1;
                                return false;
                             }
                          }
                          if(parseFloat(baselev_start,10) > parseFloat(baselev_to,10))
                              {
                                  document.getElementById("error_payout").innerHTML = "Upper Limit Must Greater than or Equal to Lower Limit";
                                document.getElementById("baselev_to").focus();
                                error_code=1;
                                return false;
                              }
		}
                if(trim(icc_type).length == 0)
		{
			document.getElementById("error_payout").innerHTML = "Please Select ICC Type";
			document.getElementById("icc_type").focus();
                        error_code=1;
			return false;
		}
                if(trim(icp_type).length == 0)
		{
			document.getElementById("error_payout").innerHTML = "Please Select ICP Type";
			document.getElementById("icp_type").focus();
                        error_code=1;
			return false;
		}
                   
               if(trim(tot_perc).length == 0 && trim(tot_fixd).length == 0 )
		{
			document.getElementById("error_payout").innerHTML = "Please Enter Total Margin";
			document.getElementById("tot_perc").focus();
                        error_code=1;
			return false;
		}
                 if(trim(tot_perc).length != 0){   
                        if(!tot_perc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("tot_perc").focus();
                                error_code=1;
                                return false;
                        }
                 }
                
               
               if(trim(tot_fixd).length != 0)
		{     
		if(!tot_fixd.match(tot_percpattern))
		{
			document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
			document.getElementById("tot_fixd").focus();
                        error_code=1;
			return false;
		}
                }
                 if(tot_perc != "" && tot_perc != 0)
                    {
                        
                    
                    for (var i = 0, length = elements.length; i < length; i++) {
                        if (elements[i].value == '') {

                            document.getElementById("error_payout").innerHTML = "Please Fill All Percentage Fields";
                             error_code=1;
                            return false;

                        }
                    }
                       
                       if(trim(icc_instapayperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_instapayperc").focus();
                                error_code=1;
                                return false;
                        } 
                       if(!icc_instapayperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_instapayperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icp_instapayperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_instapayperc").focus();
                                error_code=1;
                                return false;
                        } 
                        if(!icp_instapayperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_instapayperc").focus();
                                error_code=1;
                                return false;
                        }
                        
                        if(trim(icc_targetpayperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_targetpayperc").focus();
                                error_code=1;
                                return false;
                        } 
                        if(!icc_targetpayperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_targetpayperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icp_targetpayperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_targetpayperc").focus();
                                error_code=1;
                                return false;
                        } 
                        if(!icp_targetpayperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_targetpayperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icc_basemarginperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_basemarginperc").focus();
                                error_code=1;
                                return false;
                        } 
                         if(!icc_basemarginperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_basemarginperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icp_basemarginperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_basemarginperc").focus();
                                error_code=1;
                                return false;
                        } 
                        if(!icp_basemarginperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_basemarginperc").focus();
                                error_code=1;
                                return false;
                        }
                         if(trim(icc_instanxtdaperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_instanxtdaperc").focus();
                                error_code=1;
                                return false;
                        } 
                        if(!icc_instanxtdaperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_instanxtdaperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icp_instanxtdaperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_instanxtdaperc").focus();
                                error_code=1;
                                return false;
                        } 
                        if(!icp_instanxtdaperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_instanxtdaperc").focus();
                                error_code=1;
                                return false;
                        }
                        
                        if(parseFloat(icc_instanxtdaperc,10) > parseFloat(icc_instapayperc,10))
                        {
                            
                                document.getElementById("error_payout").innerHTML = "ICC Instantpay Next day Must less than ICC Instantpay";
                                document.getElementById("icc_instanxtdaperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(parseFloat(icp_instanxtdaperc,10) > parseFloat(icp_instapayperc,10))
                        {
                                document.getElementById("error_payout").innerHTML = "ICP Instantpay Next day Must less than ICP Instantpay";
                                document.getElementById("icp_instanxtdaperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(salestax_perc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("salestax_perc").focus();
                                error_code=1;
                                return false;
                        }
                        if(!salestax_perc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("salestax_perc").focus();
                                error_code=1;
                                return false;
                        }
                        if(parseFloat(totalpayouts,10) > parseFloat(100,10))
                        {
                           /*document.getElementById("error_payout").innerHTML = "Sum Of percentage Not More Than 100";
			document.getElementById("tot_perc").focus();
                        error_code=1;
			return false;*/
                        alert("Sum of percentage  More Than 100");
                        }
                    
                    
                    
                 }  
                 
                 
                 if(tot_fixd != "" && tot_fixd != 0)
                    {
                    for (var j = 0, length = elements1.length; j < length; j++) {
                        if (elements1[j].value == '') {

                            document.getElementById("error_payout").innerHTML = "Please Fill All Fixed Fields";
                             error_code=1;
                            return false;

                        }
                        


                    }
                        if(trim(icc_instapayfx).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_instapayfx").focus();
                                error_code=1;
                                return false;
                        }
                     if(!icc_instapayfx.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_instapayfx").focus();
                                error_code=1;
                                return false;
                        }
                         if(trim(icp_instapayfx).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_instapayfx").focus();
                                error_code=1;
                                return false;
                        }
                        if(!icp_instapayfx.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_instapayfx").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icc_targetpayfx).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_targetpayfx").focus();
                                error_code=1;
                                return false;
                        }
                        if(!icc_targetpayfx.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_targetpayfx").focus();
                                error_code=1;
                                return false;
                        }
                        
                        if(trim(icp_targetpayfx).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_targetpayfx").focus();
                                error_code=1;
                                return false;
                        }
                        if(!icp_targetpayfx.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_targetpayperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icc_basemarginfix).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_basemarginfix").focus();
                                error_code=1;
                                return false;
                        }
                         if(!icc_basemarginfix.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_basemarginfix").focus();
                                error_code=1;
                                return false;
                        }
                         if(trim(icp_basemarginfix).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_basemarginfix").focus();
                                error_code=1;
                                return false;
                        }
                        if(!icp_basemarginfix.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_basemarginfix").focus();
                                error_code=1;
                                return false;
                        }
                          if(trim(icc_instanxtdafix).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_instanxtdafix").focus();
                                error_code=1;
                                return false;
                        }
                        if(!icc_instanxtdafix.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_instanxtdafix").focus();
                                error_code=1;
                                return false;
                        }
                         if(trim(icp_instanxtdafix).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_instanxtdafix").focus();
                                error_code=1;
                                return false;
                        }
                        if(!icp_instanxtdafix.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_instanxtdafix").focus();
                                error_code=1;
                                return false;
                        }
                        if(parseFloat(icc_instanxtdafix,10) > parseFloat(icc_instapayfx,10))
                        {
                                document.getElementById("error_payout").innerHTML = "ICC Instantpay Next day Must less than ICC Instantpay";
                                document.getElementById("icc_instanxtdafix").focus();
                                error_code=1;
                                return false;
                        }
                        if(parseFloat(icp_instanxtdafix,10) > parseFloat(icp_instapayfx,10))
                        {
                                document.getElementById("error_payout").innerHTML = "ICP Instantpay Next day Must less than ICP Instantpay";
                                document.getElementById("icp_instanxtdafix").focus();
                                error_code=1;
                                return false;
                        }
                        
                        if(trim(salestax_fix).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("salestax_fix").focus();
                                error_code=1;
                                return false;
                        }
                        if(!salestax_fix.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("salestax_fix").focus();
                                error_code=1;
                                return false;
                        }
                        if(parseFloat(totalpayouts_fxd,10) > parseFloat(100,10))
                        {
                          /* document.getElementById("error_payout").innerHTML = "Sum Of Amount Not More Than Total margin";
			document.getElementById("tot_fixd").focus();
                        error_code=1;
			return false;*/
                        alert("Sum of percentage  More Than 100");
                        }
                         
                 }  
                 
                
                
                if(error_code != 1)
                {
                     
                document.getElementById("error_payout").innerHTML = "";
                $('#insert_payout').load("insertpayout.php",payout_details);
                return true;
                }
                    
                  
                }
                function checktotprcnt()
                {
                        
                    var tot_perc = $("#tot_perc").val();
                    var tot_fixd = $("#tot_fixd").val();
                    var tot_percpattern = /^[0-9 .]+$/;
                   var  error_code=0;
                    if(tot_perc != "" && tot_perc != 0)
                    {
                        $(".percentage").removeAttr("disabled");
                        $(".percentage").removeAttr("readonly");
                    }
                    else
                        {
                            $('.percentage').attr('disabled', 'disabled');
                        }
                    
                    if(trim(tot_perc).length == 0)
		{
			document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
			document.getElementById("tot_perc").focus();
                        $('.percentage').attr('value', '');
			return false;
		}
                    
		if(!tot_perc.match(tot_percpattern))
		{
			document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
			document.getElementById("tot_perc").focus();
                        
			return false;
		}
                  
		
                if(tot_perc == 0)
		{
			document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
			document.getElementById("tot_perc").focus();
                        $('.percentage').attr('disabled', 'disabled');
                        $('.percentage').attr('value', '');
			return false;
		}
                
                
                    
                   
                }
                
                function checktotfxd()
                {
                    var tot_fixd = $("#tot_fixd").val();
                    var tot_percpattern = /^[0-9 .]+$/;
                   var  error_code=0;
                   
                   if(tot_fixd != "" && tot_fixd != 0)
                    {
                        $(".fixed").removeAttr("disabled");
                        $(".fixed").removeAttr("readonly");
                    }
                    else
                        {
                            $('.fixed').attr('disabled', 'disabled');
                        }
                    if(trim(tot_fixd).length == 0)
		{
			document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
			document.getElementById("tot_fixd").focus();
                       $('.fixed').attr('value', '');
			return false;
		}
                    
		if(!tot_fixd.match(tot_percpattern))
		{
			document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
			document.getElementById("tot_fixd").focus();
                       
			return false;
		}
                  
		
                if(tot_fixd == 0)
		{
			document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
			document.getElementById("tot_fixd").focus();
                        $('.fixed').attr('disabled', 'disabled');
                       $('.fixed').attr('value', '');
			return false;
		}
                
                    
                    
                }
                function calperc()
                {
                   
                    var tot_perc = 100;
                    var total_percent= $("#tot_perc").val();
                    var icc_instapayperc = $("#icc_instapayperc").val();
                    var icp_instapayperc = $("#icp_instapayperc").val();
                     var icc_targetpayperc = $("#icc_targetpayperc").val();
                      var icp_targetpayperc = $("#icp_targetpayperc").val();
                      var icc_basemarginperc = $("#icc_basemarginperc").val();
                       var icp_basemarginperc = $("#icp_basemarginperc").val();
                      var icc_instanxtdaperc = $("#icc_instanxtdaperc").val();
                      var icp_instanxtdaperc = $("#icp_instanxtdaperc").val();
                      var salestax_perc = $("#salestax_perc").val();
                       var tot_percpattern = /^[0-9 .]+$/;
                       if(icc_instapayperc == ''){ var icc_instapayperc = 0; }
                    else { var icc_instapayperc; }
                    
                    if(icp_instapayperc == ''){ var icp_instapayperc = 0; }
                    else { var icp_instapayperc; }
                    
                    if(icc_targetpayperc == ''){ var icc_targetpayperc = 0; }
                    else { var icc_targetpayperc; }
                    
                    if(icp_targetpayperc == ''){ var icp_targetpayperc = 0; }
                    else { var icp_targetpayperc; }
                    
                    if(icc_basemarginperc == ''){ var icc_basemarginperc = 0; }
                    else { var icc_basemarginperc; }
                    
                    if(icp_basemarginperc == ''){ var icp_basemarginperc = 0; }
                    else { var icp_basemarginperc; }
                    
                     if(icc_instanxtdaperc == ''){ var icc_instanxtdaperc = 0; }
                    else { var icc_instanxtdaperc; }
                    
                    if(icp_instanxtdaperc == ''){ var icp_instanxtdaperc = 0; }
                    else { var icp_instanxtdaperc; }
                    
                     if(salestax_perc == ''){ var salestax_perc = 0; }
                    else { var salestax_perc; }
                    
                    
                        
                      var total_payouts = parseFloat(icc_instapayperc) +parseFloat(icp_instapayperc) +parseFloat(icc_targetpayperc)
                      + parseFloat(icp_targetpayperc)
                       +parseFloat(icc_basemarginperc)+
                     parseFloat(icp_basemarginperc)
                           +parseFloat(salestax_perc);
                   
                 
      
      var ipay_payout = parseFloat(tot_perc) - parseFloat(total_payouts);
      
       var   actual_amount = (parseFloat(ipay_payout,10) / parseFloat(100,10)) * (parseFloat(total_percent,10));
                  //alert(actual_amount);
                 var actual_amount=actual_amount.toFixed(3);
                 
                  $("#ipay_perc_actual").html(actual_amount);
            
            $('#ipay_perc').attr('disabled', 'ipay_payout');
            $('#ipay_perc').attr('value', ipay_payout);
         

                }
                
                function calfixed()
                {
                    var tot_perc = 100;
                    var tot_fixd = $("#tot_fixd").val();
                    var icc_instapayfx = $("#icc_instapayfx").val();
                    var icp_instapayfx = $("#icp_instapayfx").val();
                     var icc_targetpayfx = $("#icc_targetpayfx").val();
                      var icp_targetpayfx = $("#icp_targetpayfx").val();
                      var icc_basemarginfix = $("#icc_basemarginfix").val();
                       var icp_basemarginfix = $("#icp_basemarginfix").val();
                      var icc_instanxtdafix = $("#icc_instanxtdafix").val();
                      var icp_instanxtdafix = $("#icp_instanxtdafix").val();
                      var salestax_fix = $("#salestax_fix").val();
                       var tot_percpattern = /^[0-9 .]+$/;
                       
                       if(icc_instapayfx == ''){ var icc_instapayfx = 0; }
                    else { var icc_instapayfx; }
                    
                    if(icp_instapayfx == ''){ var icp_instapayfx = 0; }
                    else { var icp_instapayfx; }
                    
                    if(icc_targetpayfx == ''){ var icc_targetpayfx = 0; }
                    else { var icc_targetpayfx; }
                    
                    if(icp_targetpayfx == ''){ var icp_targetpayfx = 0; }
                    else { var icp_targetpayfx; }
                    
                    if(icc_basemarginfix == ''){ var icc_basemarginfix = 0; }
                    else { var icc_basemarginfix; }
                    
                    if(icp_basemarginfix == ''){ var icp_basemarginfix = 0; }
                    else { var icp_basemarginfix; }
                    
                     if(icc_instanxtdafix == ''){ var icc_instanxtdafix = 0; }
                    else { var icc_instanxtdafix; }
                    
                    if(icp_instanxtdafix == ''){ var icp_instanxtdafix = 0; }
                    else { var icp_instanxtdafix; }
                    
                     if(salestax_fix == ''){ var salestax_fix = 0; }
                    else { var salestax_fix; }
             
                    
                      var total_payouts = parseFloat(icc_instapayfx) +parseFloat(icp_instapayfx) +parseFloat(icc_targetpayfx)
                      + parseFloat(icp_targetpayfx)
                       +parseFloat(icc_basemarginfix)+
                     parseFloat(icp_basemarginfix)
                                    +parseFloat(salestax_fix);
      
      var ipay_payout = parseFloat(tot_perc) - parseFloat(total_payouts);
        var total_fixed= $("#tot_fixd").val();
                  var   actual_amount = (parseFloat(ipay_payout,10) / parseFloat(100,10)) * (parseFloat(total_fixed,10));
                 // alert(actual_amount);
                 var actual_amount=actual_amount.toFixed(3);
                 
                  $('#ipay_fix_actual').html(actual_amount);
      $('#ipay_fix').attr('disabled', 'ipay_payout');
      $('#ipay_fix').attr('value', ipay_payout);

                }
                
                function searchpayout()
                {
                    var url = "searchpayout.php";
                    var path = "";
                     var divid = "#alter";
                  <?php   
                   $access = "search";
                   $objects = "PAYOUTS";

                   $rolls =  check_rolls($usertype,$access,$objects); 
                  ?>
                   checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                     
                        
                }
                function searchpayoutdetails()
                { 
                       var service_type = $('#service_type').val();
                       
                       var sub_service = escape($('#sub_service').val());
                       var icp_type = $('#icp_type').val();
                       var icc_type = $('#icc_type').val();
                       var path = "service_type="+service_type+"&sub_service="+sub_service+"&icp_type="+icp_type+"&icc_type="+icc_type;
                       
                     $('#alter').load("searchpayoutdetails.php",path);
                }
                function viewPayout(payoutid,service_type,sub_service,icp_type,icc_type)
                {
                    var url = "viewpayout.php";
                    var path = "payout_id="+payoutid+"&sub_service="+escape(sub_service)+"&icp_type="+escape(icp_type)+"&icc_type="+escape(icc_type)+"&service_type="+escape(service_type);
                     var divid = "#alter";
                  <?php   
                   $access = "view";
                   $objects = "PAYOUTS";

                   $rolls =  check_rolls($usertype,$access,$objects); 
                  ?>
                   checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                   
                }
                function editpayout(payoutid,service_type,sub_service,icp_type,icc_type)
                {
                    var url = "editpayout.php";
                    var path = "payout_id="+payoutid+"&sub_service="+escape(sub_service)+"&icp_type="+escape(icp_type)+"&icc_type="+escape(icc_type)+"&service_type="+escape(service_type);
                     var divid = "#alter";
                  <?php   
                   $access = "edit";
                   $objects = "PAYOUTS";

                   $rolls =  check_rolls($usertype,$access,$objects); 
                  ?>
                   checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                    
                }
                function updatepayout(payoutid,service_type1,sub_service1,icp_type1,icc_type1)
                {
                     var update_details = $('#add_payout').serialize();
                 //    alert(sub_service1);
                     var service = $("#service").val();
                    var icc_type = $("#icc_type").val();
                    var icp_type = $("#icp_type").val();
                    var tot_perc = $("#tot_perc").val();
                    var tot_fixd = $("#tot_fixd").val();
                    var icc_instapayperc = $("#icc_instapayperc").val();
                    var icc_instapayfx = $("#icc_instapayfx").val();
                    
                      var baselev_start = $("#baselev_start").val();
                    var baselev_to = $("#baselev_to").val();
                   
                    
                    var icp_instapayperc = $("#icp_instapayperc").val();
                    var icp_instapayfx = $("#icp_instapayfx").val();
                    
                     var icc_targetpayperc = $("#icc_targetpayperc").val();
                    var icc_targetpayfx = $("#icc_targetpayfx").val();
                    
                    var icp_targetpayperc = $("#icp_targetpayperc").val();
                    var icp_targetpayfx = $("#icp_targetpayfx").val();
                    
                    var icc_basemarginperc = $("#icc_basemarginperc").val();
                    var icc_basemarginfix = $("#icc_basemarginfix").val();
                    
                    var icp_basemarginperc = $("#icp_basemarginperc").val();
                    var icp_basemarginfix = $("#icp_basemarginfix").val();
                    
                       var icc_instanxtdaperc = $("#icc_instanxtdaperc").val();
                    var icc_instanxtdafix = $("#icc_instanxtdafix").val();
                    
                      var icp_instanxtdaperc = $("#icp_instanxtdaperc").val();
                    var icp_instanxtdafix = $("#icp_instanxtdafix").val();
                    
                         var salestax_perc = $("#salestax_perc").val();
                    var salestax_fix = $("#salestax_fix").val();
                    
                    
                    var tot_percentage = 100;
                    
                       if(icc_instapayperc == ''){ var icc_instapayperc = 0; }
                    else { var icc_instapayperc; }
                    
                    if(icp_instapayperc == ''){ var icp_instapayperc = 0; }
                    else { var icp_instapayperc; }
                    
                    if(icc_targetpayperc == ''){ var icc_targetpayperc = 0; }
                    else { var icc_targetpayperc; }
                    
                    if(icp_targetpayperc == ''){ var icp_targetpayperc = 0; }
                    else { var icp_targetpayperc; }
                    
                    if(icc_basemarginperc == ''){ var icc_basemarginperc = 0; }
                    else { var icc_basemarginperc; }
                    
                    if(icp_basemarginperc == ''){ var icp_basemarginperc = 0; }
                    else { var icp_basemarginperc; }
                    
                     if(icc_instanxtdaperc == ''){ var icc_instanxtdaperc = 0; }
                    else { var icc_instanxtdaperc; }
                    
                    if(icp_instanxtdaperc == ''){ var icp_instanxtdaperc = 0; }
                    else { var icp_instanxtdaperc; }
                    
                     if(salestax_perc == ''){ var salestax_perc = 0; }
                    else { var salestax_perc; }
                    
                    
                      var totalpayouts = parseFloat(icc_instapayperc) +parseFloat(icp_instapayperc) +parseFloat(icc_targetpayperc)
                      + parseFloat(icp_targetpayperc)
                       +parseFloat(icc_basemarginperc)+
                     parseFloat(icp_basemarginperc)
                     +parseFloat(salestax_perc);
      
      if(icc_instapayfx == ''){ var icc_instapayfx = 0; }
                    else { var icc_instapayfx; }
                    
                    if(icp_instapayfx == ''){ var icp_instapayfx = 0; }
                    else { var icp_instapayfx; }
                    
                    if(icc_targetpayfx == ''){ var icc_targetpayfx = 0; }
                    else { var icc_targetpayfx; }
                    
                    if(icp_targetpayfx == ''){ var icp_targetpayfx = 0; }
                    else { var icp_targetpayfx; }
                    
                    if(icc_basemarginfix == ''){ var icc_basemarginfix = 0; }
                    else { var icc_basemarginfix; }
                    
                    if(icp_basemarginfix == ''){ var icp_basemarginfix = 0; }
                    else { var icp_basemarginfix; }
                    
                     if(icc_instanxtdafix == ''){ var icc_instanxtdafix = 0; }
                    else { var icc_instanxtdafix; }
                    
                    if(icp_instanxtdafix == ''){ var icp_instanxtdafix = 0; }
                    else { var icp_instanxtdafix; }
                    
                     if(salestax_fix == ''){ var salestax_fix = 0; }
                    else { var salestax_fix; }
             
                    
                      var totalpayouts_fxd = parseFloat(icc_instapayfx) +parseFloat(icp_instapayfx) +parseFloat(icc_targetpayfx)
                                            + parseFloat(icp_targetpayfx)
                                             +parseFloat(icc_basemarginfix)+
                                            parseFloat(icp_basemarginfix)
                                           +parseFloat(salestax_fix);
      
                
                   
                    var elements = document.getElementsByClassName('percentage');
                    
                    var elements1 = document.getElementsByClassName('fixed');
                    
                    var tot_percpattern = /^[0-9 .]+$/;
                   var  error_code=0;
                   
                   if(trim(service).length == 0)
		{
			document.getElementById("error_payout").innerHTML = "Please Select Service";
			document.getElementById("service").focus();
                        error_code=1;
			return false;
		}
                if(trim(baselev_start).length != 0)
		{
			if(!baselev_start.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Starting Amount";
                                document.getElementById("baselev_start").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(baselev_to).length == 0)
                        {
                            document.getElementById("error_payout").innerHTML = "Please Enter valid Upto Amount";
                            document.getElementById("baselev_to").focus();
                            error_code=1;
                            return false;
                        }
                        if(trim(baselev_to).length != 0)
                        {
                           if(!baselev_to.match(tot_percpattern))
                            {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Upto Amount";
                                document.getElementById("baselev_to").focus();
                                error_code=1;
                                return false;
                             }
                          }
                         if(parseFloat(baselev_start,10) > parseFloat(baselev_to,10))
                              {
                                  document.getElementById("error_payout").innerHTML = "Upper Limit Must Greater than or Equal to Lower Limit";
                                document.getElementById("baselev_to").focus();
                                error_code=1;
                                return false;
                              }
		}
                
                if(trim(icc_type).length == 0)
		{
			document.getElementById("error_payout").innerHTML = "Please Select ICC Type";
			document.getElementById("icc_type").focus();
                        error_code=1;
			return false;
		}
                if(trim(icp_type).length == 0)
		{
			document.getElementById("error_payout").innerHTML = "Please Select ICP Type";
			document.getElementById("icp_type").focus();
                        error_code=1;
			return false;
		}
                   
               if(trim(tot_perc).length == 0 && trim(tot_fixd).length == 0 )
		{
			document.getElementById("error_payout").innerHTML = "Please Enter Total Margin";
			document.getElementById("tot_perc").focus();
                        error_code=1;
			return false;
		}
                 if(trim(tot_perc).length != 0){   
                        if(!tot_perc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("tot_perc").focus();
                                error_code=1;
                                return false;
                        }
                 }
                
               
               if(trim(tot_fixd).length != 0)
		{     
		if(!tot_fixd.match(tot_percpattern))
		{
			document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
			document.getElementById("tot_fixd").focus();
                        error_code=1;
			return false;
		}
                }
                 if(tot_perc != "" && tot_perc != 0)
                    {
                        
                    
                    for (var i = 0, length = elements.length; i < length; i++) {
                        if (elements[i].value == '') {

                            document.getElementById("error_payout").innerHTML = "Please Fill All Percentage Fields";
                             error_code=1;
                            return false;

                        }
                    }
                       
                       if(trim(icc_instapayperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_instapayperc").focus();
                                error_code=1;
                                return false;
                        } 
                       if(!icc_instapayperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_instapayperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icp_instapayperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_instapayperc").focus();
                                error_code=1;
                                return false;
                        } 
                        if(!icp_instapayperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_instapayperc").focus();
                                error_code=1;
                                return false;
                        }
                        
                        if(trim(icc_targetpayperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_targetpayperc").focus();
                                error_code=1;
                                return false;
                        } 
                        if(!icc_targetpayperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_targetpayperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icp_targetpayperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_targetpayperc").focus();
                                error_code=1;
                                return false;
                        } 
                        if(!icp_targetpayperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_targetpayperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icc_basemarginperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_basemarginperc").focus();
                                error_code=1;
                                return false;
                        } 
                         if(!icc_basemarginperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_basemarginperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icp_basemarginperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_basemarginperc").focus();
                                error_code=1;
                                return false;
                        } 
                        if(!icp_basemarginperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_basemarginperc").focus();
                                error_code=1;
                                return false;
                        }
                         if(trim(icc_instanxtdaperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_instanxtdaperc").focus();
                                error_code=1;
                                return false;
                        } 
                        if(!icc_instanxtdaperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icc_instanxtdaperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icp_instanxtdaperc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_instanxtdaperc").focus();
                                error_code=1;
                                return false;
                        } 
                        if(!icp_instanxtdaperc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("icp_instanxtdaperc").focus();
                                error_code=1;
                                return false;
                        }
                        
                        if(parseFloat(icc_instanxtdaperc,10) > parseFloat(icc_instapayperc,10))
                        {
                            
                                document.getElementById("error_payout").innerHTML = "ICC Instantpay Next day Must less than ICC Instantpay";
                                document.getElementById("icc_instanxtdaperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(parseFloat(icp_instanxtdaperc,10) > parseFloat(icp_instapayperc,10))
                        {
                                document.getElementById("error_payout").innerHTML = "ICP Instantpay Next day Must less than ICP Instantpay";
                                document.getElementById("icp_instanxtdaperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(salestax_perc).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("salestax_perc").focus();
                                error_code=1;
                                return false;
                        }
                        if(!salestax_perc.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Percentage";
                                document.getElementById("salestax_perc").focus();
                                error_code=1;
                                return false;
                        }
                        if(parseFloat(totalpayouts,10) > parseFloat(100,10))
                        {
                           /*document.getElementById("error_payout").innerHTML = "Sum Of percentage Not More Than 100";
			document.getElementById("tot_perc").focus();
                        error_code=1;
			return false;*/
                        alert("Sum of percentage  More Than 100");
                        }
                    
                    
                    
                 }  
                 
                 
                 if(tot_fixd != "" && tot_fixd != 0)
                    {
                    for (var j = 0, length = elements1.length; j < length; j++) {
                        if (elements1[j].value == '') {

                            document.getElementById("error_payout").innerHTML = "Please Fill All Fixed Fields";
                             error_code=1;
                            return false;

                        }
                        


                    }
                        if(trim(icc_instapayfx).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_instapayfx").focus();
                                error_code=1;
                                return false;
                        }
                     if(!icc_instapayfx.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_instapayfx").focus();
                                error_code=1;
                                return false;
                        }
                         if(trim(icp_instapayfx).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_instapayfx").focus();
                                error_code=1;
                                return false;
                        }
                        if(!icp_instapayfx.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_instapayfx").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icc_targetpayfx).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_targetpayfx").focus();
                                error_code=1;
                                return false;
                        }
                        if(!icc_targetpayfx.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_targetpayfx").focus();
                                error_code=1;
                                return false;
                        }
                        
                        if(trim(icp_targetpayfx).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_targetpayfx").focus();
                                error_code=1;
                                return false;
                        }
                        if(!icp_targetpayfx.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_targetpayperc").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(icc_basemarginfix).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_basemarginfix").focus();
                                error_code=1;
                                return false;
                        }
                         if(!icc_basemarginfix.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_basemarginfix").focus();
                                error_code=1;
                                return false;
                        }
                         if(trim(icp_basemarginfix).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_basemarginfix").focus();
                                error_code=1;
                                return false;
                        }
                        if(!icp_basemarginfix.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_basemarginfix").focus();
                                error_code=1;
                                return false;
                        }
                          if(trim(icc_instanxtdafix).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_instanxtdafix").focus();
                                error_code=1;
                                return false;
                        }
                        if(!icc_instanxtdafix.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icc_instanxtdafix").focus();
                                error_code=1;
                                return false;
                        }
                         if(trim(icp_instanxtdafix).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_instanxtdafix").focus();
                                error_code=1;
                                return false;
                        }
                        if(!icp_instanxtdafix.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("icp_instanxtdafix").focus();
                                error_code=1;
                                return false;
                        }
                        if(parseFloat(icc_instanxtdafix,10) > parseFloat(icc_instapayfx,10))
                        {
                                document.getElementById("error_payout").innerHTML = "ICC Instantpay Next day Must less than ICC Instantpay";
                                document.getElementById("icc_instanxtdafix").focus();
                                error_code=1;
                                return false;
                        }
                        if(parseFloat(icp_instanxtdafix,10) > parseFloat(icp_instapayfx,10))
                        {
                                document.getElementById("error_payout").innerHTML = "ICP Instantpay Next day Must less than ICP Instantpay";
                                document.getElementById("icp_instanxtdafix").focus();
                                error_code=1;
                                return false;
                        }
                        
                        if(trim(salestax_fix).length == 0)
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("salestax_fix").focus();
                                error_code=1;
                                return false;
                        }
                        if(!salestax_fix.match(tot_percpattern))
                        {
                                document.getElementById("error_payout").innerHTML = "Please Enter valid Amount";
                                document.getElementById("salestax_fix").focus();
                                error_code=1;
                                return false;
                        }
                        if(parseFloat(totalpayouts_fxd,10) > parseFloat(100,10))
                        {
                          /* document.getElementById("error_payout").innerHTML = "Sum Of Amount Not More Than Total margin";
			document.getElementById("tot_fixd").focus();
                        error_code=1;
			return false;*/
                        alert("Sum of percentage  More Than 100");
                        }
                         
                 } 
                         
                 
                 
                
                
                if(error_code != 1)
                {
                     
                document.getElementById("error_payout").innerHTML = "";
                icp_type1 = escape(icp_type1);
                icc_type1 = escape(icc_type1);
                service_type1 = escape(service_type1);
                $('#update_payout').load("updatepayout.php?sub_service1="+escape(sub_service1)+"&icp_type1="+icp_type1+"&icc_type1="+icc_type1+"&service_type1="+service_type1,update_details);
                return true;
                }
                     //alert(update_details);
                   
                }
                
                function loadicctargets(icc_type)
                {
                     $('#icc_target').load("loadicctarget.php?icc_type="+icc_type);
                }
                 function loadicptargets(icp_type)
                {
                     $('#icp_target').load("loadicptarget.php?icp_type="+icp_type);
                }
                
                function floorFigure(figure, decimals){
                    if (!decimals) decimals = 2;
                    var d = Math.pow(10,decimals);
                    return (parseInt(figure*d)/d).toFixed(decimals);
                    
                }
                function calactualforperc(perce,space)
                {
                   if(perce == "" || trim(perce).length == 0)
                       {
                          perce =0; 
                       }
                       else
                           {
                               perce;
                           }
                   var total_percent= $("#tot_perc").val();
                  var   actual_amount = (parseFloat(perce,10) / parseFloat(100,10)) * (parseFloat(total_percent,10));
                 // alert(actual_amount);
                 //var actual_amount=actual_amount.toFixed(3);
                  var   actual_amount = floorFigure(actual_amount, 3);
                  $(space).html(actual_amount);
                }
                function calactualforfixed(fixed,space)
                {
                   // alert(space);
                     
                   if(fixed == "" || trim(fixed).length == 0)
                       {
                          fixed =0; 
                       }
                       else
                           {
                               fixed;
                           }
                   var total_fixed= $("#tot_fixd").val();
                  var   actual_amount = (parseFloat(fixed,10) / parseFloat(100,10)) * (parseFloat(total_fixed,10));
                 //alert(actual_amount);
                 //var actual_amount=Math.floor((actual_amount*1000)) / 1000;
                  //var actual_amount= parseFloat(actual_amount,10);
                 var   actual_amount = floorFigure(actual_amount, 3);
                  $(space).html(actual_amount);
                }
                function searchbackpodetails(service_type,sub_service,icp_type,icc_type)
                {
                      
                       var path = "service_type="+service_type+"&sub_service="+escape(sub_service)+"&icp_type="+escape(icp_type)+"&icc_type="+escape(icc_type);
                       
                     $('#alter').load("searchpayoutdetails.php",path);
                }
                function searchwallets()
                {
                    var url = "searchwallet.php";
                    var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                       $objects = "WALLETS";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                    
                }
                function viewPayoutincancel(service_type,sub_service,icp_type,icc_type)
                {
                    var payoutid = $("#payout_id").val();
                    //alert(payoutid);
                    $('#alter').load("viewpayout.php?payout_id="+payoutid+"&sub_service="+escape(sub_service)+"&icp_type="+escape(icp_type)+"&icc_type="+escape(icc_type)+"&service_type="+escape(service_type));
                }
                
                function loadvendors(walletype)
                {
                    
                    $('#vendors').load("loadvendors.php?wallettype="+walletype);
                }
                
                function searchwalletdetails()
                {
                    var wallet_type = $("#wallet_type").val();
                    var vendor_name = $("#vendor_name").val();
                    var vendor_name = escape(vendor_name);
                    
                    $('#alter').load("searchwalletdetails.php?wallet_type="+wallet_type+"&vendor_name="+vendor_name);
                }
    function adjustwallet(id,wallettype)
    {
         var url = "adjustwallet.php";
                            var path = "id="+id+"&wallettype="+wallettype;
                             var divid = "#popup_billprocess";
                             var width = 1250;
                             var height = 600;
                             var title = 'Wallet Updation';
                          <?php   
                           $access = "edit";
                           $objects = "WALLETS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
        
    }
    

  
    function changelabel(label_id)
    {
        if(label_id == "Credit")
            {
                $('#remark').html("Credit (+)");
            }
            else if(label_id == "Debit")
                {
                     $('#remark').html("Debit (-)");
                }
         
    }
    function updatewalletdetails()
    {
        var type_remark = escape($('#type_remark').val());
        var transaction_type = $('#transaction_type').val();
         var amount = $('#amount').val();
          var wallet_date = $('#wallet_date').val();
           var reference_id = $('#reference_id').val();
            var bank = $('#bank').val();
            var hid_vendor_id = $('#hid_vendor_id').val();
            var hid_wallet_name = $('#hid_wallet_name').val();
             var payment_mode = $('#payment_mode').val();
            var tot_percpattern = /^[0-9 .]+$/;
            var  error_code=0;
            
            if(trim(transaction_type).length == 0)
                        {
                                document.getElementById("error_wallet").innerHTML = "Please Select Transaction Type";
                                document.getElementById("transaction_type").focus();
                                error_code=1;
                                return false;
                        }
                         if(trim(payment_mode).length == 0)
                        {
                                document.getElementById("error_wallet").innerHTML = "Please Select Payment Mode";
                                document.getElementById("payment_mode").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(amount).length == 0)
                        {
                                document.getElementById("error_wallet").innerHTML = "Please Enter Valid Amount";
                                document.getElementById("amount").focus();
                                error_code=1;
                                return false;
                        }
                        
                        if(!amount.match(tot_percpattern))
                        {
                                document.getElementById("error_wallet").innerHTML = "Please Enter Valid Amount";
                                document.getElementById("amount").focus();
                                error_code=1;
                                return false;
                        }
                         if(trim(reference_id).length == 0)
                        {
                                document.getElementById("error_wallet").innerHTML = "Please Enter Reference ID";
                                document.getElementById("reference_id").focus();
                                error_code=1;
                                return false;
                        }
                         if(trim(bank).length == 0)
                        {
                                document.getElementById("error_wallet").innerHTML = "Please Enter Bank Name";
                                document.getElementById("bank").focus();
                                error_code=1;
                                return false;
                        }
            
            var path = "type_remark="+type_remark+"&amount="+amount+"&wallet_date="+wallet_date+
                    "&reference_id="+reference_id+"&bank="+bank+"&transaction_type="+transaction_type+
                    "&hid_vendor_id="+hid_vendor_id+"&hid_wallet_name="+hid_wallet_name+"&payment_mode="+payment_mode;
            
            if(error_code != 1)
                {
                     
                document.getElementById("error_wallet").innerHTML = "";
                
                $('#updatewallet').load("updatewallet.php",path);
                return true;
                }
        
    }
    
        function mobileRecDetailsipay()
    {

        var trans_date =$("#trans_date").val();
        var to_date =$("#to_date").val();
        var order_status =$("#order_status").val();
        var payment_status = $("#payment_status").val();
        var operator_name = $("#operator_name").val();
        
         $('#mobile_rec').attr('value', 'Searching');
        var path = "trans_date="+trans_date+"&order_status="+order_status+"&payment_status="+payment_status+"&to_date="+to_date+"&operator_name="+operator_name;
        $('#alter').load("searchMobileRecDetailsipay.php",path);
        
            
    }

  function searchDCReconsullationipay()
    {
var url = "searchDatacardReconsulationipay.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPAY RECN";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        

    }
  
      function datacardRecDetailsipay()
    {

        var trans_date =$("#trans_date").val();
        var vendor_name = $("#vendor_name").val();
         var order_status =$("#order_status").val();
        var payment_status = $("#payment_status").val();
        var to_date =$("#to_date").val();
        var operator_name = $("#operator_name").val();
        $('#datacard_rec').attr('value', 'Searching');
        var path = "trans_date="+trans_date+"&order_status="+order_status+"&payment_status="+payment_status+"&to_date="+to_date+"&operator_name="+operator_name;
        $('#alter').load("searchDatacardRecDetailsipay.php",path);
            
    }

    
    
        
    
   
    
         function searchDTHReconsullationipay()
    {
var url = "searchDTHReconsulationipay.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPAY RECN";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       

    }
   
   function dthRecDetailsipay()
    {

        var trans_date =$("#trans_date").val();
        var vendor_name = $("#vendor_name").val();
         var order_status =$("#order_status").val();
        var payment_status = $("#payment_status").val();
        var to_date =$("#to_date").val();
        var operator_name = $("#operator_name").val();
             $('#dth_rec').attr('value', 'Searching');
        var path = "trans_date="+trans_date+"&vendor_name="+vendor_name+"&order_status="+order_status+"&payment_status="+payment_status+"&to_date="+to_date+"&operator_name="+operator_name;
        $('#alter').load("searchDTHRecDetailsipay.php",path);
            
    }
       function searchpostpaidReconsullationipay()
                {
                    var url = "searchPostPaidReconsulationipay.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPAY RECN";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
              
                }
                function searchpostpaidRecDetailsipay()
                {
                    var trans_date =$("#trans_date").val();
         
                     var order_status =$("#order_status").val();
                    var payment_status = $("#payment_status").val();
                    var to_date =$("#to_date").val();
                    var operator_name = $("#operator_name").val();
                    $('#datacard_rec').attr('value', 'Searching');
                    var path = "trans_date="+trans_date+"&order_status="+order_status+"&payment_status="+payment_status+"&to_date="+to_date+"&operator_name="+operator_name;
                    $('#alter').load("searchPostPaidRecDetailsipay.php",path);
                }
                  function searchBUSReconsullationipay()
    {
var url = "searchBusReconsulationipay.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPAY RECN";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        

    }
   
    function busRecDetailsipay()
    {


    var ipex_order_id_search =$("#ipex_order_id_search").val();
        var client_order_id_search = $("#client_order_id_search").val();
         var booking_date_search_from =$("#booking_date_search_from").val();
        var booking_date_search_to = $("#booking_date_search_to").val();
        var vendor_name_search =$("#vendor_name_search").val();
         var pnr_no_search =$("#pnr_no_search").val();
         var travel_date_search_from =$("#travel_date_search_from").val();
          var travel_date_search_to =$("#travel_date_search_to").val();
           $('#bus_rec').attr('value', 'Searching');
        var path = "ipex_order_id_search="+ipex_order_id_search+"&client_order_id_search="+client_order_id_search+
                "&booking_date_search_from="+booking_date_search_from+"&booking_date_search_to="+booking_date_search_to+
                "&vendor_name_search="+vendor_name_search+"&pnr_no_search="+pnr_no_search
                +"&travel_date_search_from="+travel_date_search_from+"&travel_date_search_to="+travel_date_search_to;
        $('#alter').load("searchBusRecDetailsipay.php",path);

//        var trans_date =$("#trans_date").val();
//        var vendor_name = $("#vendor_name").val();
//         var order_status =$("#order_status").val();
//        var payment_status = $("#payment_status").val();
//        var to_date =$("#to_date").val();
//           $('#bus_rec').attr('value', 'Searching');
//        var path = "trans_date="+trans_date+"&order_status="+order_status+"&payment_status="+payment_status+"&to_date="+to_date;
//        $('#alter').load("searchBusRecDetailsipay.php",path);
        
            
    }   
    
    function loadsublevelsinfo()
    {
       
        var service =$("#service").val();
        var sub_service = $("#sub_service").val();
         var icc_type =$("#icc_type").val();
        var icp_type = $("#icp_type").val();
       
        var path = "service="+service+"&sub_service="+sub_service+"&icc_type="+icc_type+"&icp_type="+icp_type;
        $('#sub_levels_info').load("loadsublevelsinfo.php",path);
    }
    function searchpostpaidBill()
    {
         var path= "";   
                        var url = "searchpostpaidBill.php";
                        var divid = "#alter";
                          <?php   
                           $access = "search";
                           $objects = "POSTPAID BILLS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
      }
         
    
    function searchpostpaidBillfulfilment()
    {
        var path= "";   
        var url = "searchpostpaidBillfulfilment.php";
        var divid = "#alter";
          <?php   
           $access = "search";
           $objects = "POSTPAID BILLS";

           $rolls =  check_rolls($usertype,$access,$objects); 
          ?>
           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
         // $('#alter').load("searchpostpaidBillfulfilment.php");
    }
    function postpaidbillDetails()
    {
       $("#loader").show();
        var fromdate =$("#billFromdate").val();
        var todate = $("#billTodate").val();
         var orderstatus = $("#orderstatus").val();
          var paymentstatus = $("#paymentstatus").val();
          var processstatus = $("#processstatus").val();
            $('#bills').attr('value', 'Searching');
        var path = "fromdate="+fromdate+"&todate="+todate+"&orderstatus="+orderstatus+"&paymentstatus="+paymentstatus+"&processstatus="+processstatus;
        $('#alter').load("searchpostpaidbillDetails.php",path); 
    }
    function postpaidbillDetailsforfulfilment()
    {
            $("#loader").show();
        var order_id = $("#order_id").val();
        var fromdate =$("#billFromdate").val();
        var todate = $("#billTodate").val();
        
          var processstatus = $("#processstatus").val();
            $('#bills').attr('value', 'Searching');
         var path = "fromdate="+fromdate+"&todate="+todate+"&order_id="+order_id+"&processstatus="+processstatus;
         $('#alter').load("postpaidbillDetailsforfulfilment.php",path);
    }
    
    function viewPostpaidBill(orderid)
			{
                             var url = "viewPostpaidBill.php";
                            var path = "orderid="+orderid;
                             var divid = "#popup_billprocess";
                             var width = 1100;
                             var height = 500;
                             var title = 'Bills Process';
                          <?php   
                           $access = "view";
                           $objects = "POSTPAID BILLS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
			}
                        
                        function editPostpaidBill(orderid)
			{
                            var path= "orderid="+orderid;
                        var url = "editPostpaidBill.php";
                        var divid = "#popup_billprocess";
                          <?php   
                           $access = "edit";
                           $objects = "POSTPAID BILLS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
				
			}
                        function viewPostpaidBillInCancel(orderid)
			{
				var orderid;
                                
                                  //  alert(orderid);
				
				//var path= "editBill.php?orderid="+orderid;
                                var path= "orderid="+orderid;
				//alert(path);

				

                                        $("#popup_billprocess").load("viewPostpaidBill.php", path);

                                    
	
			}
                        
                        function viewppBill(orderid)
			{
                            
                            var url = "viewppbill.php";
                            var path = "orderid="+orderid;
                             var divid = "#popup_billprocess";
                             var width = 1100;
                             var height = 500;
                             var title = 'Bills Process';
                          <?php   
                           $access = "edit";
                           $objects = "POSTPAID BILL";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
				
			}
			function searchMobReconsullationipay()
			    {
var url = "searchMobileReconsulationipay.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPAY RECN";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
				

			    }
                        function createhelpdeskticket()
                        {
                         var url = "generatehelpdeskticket.php";
                  var path = "";
                     var divid = "#popup_billprocess";
                     var width = 1100;
                     var height = 650;
                     var title = 'Generating Help Desk Ticket';
                    <?php   
                     $access = "create";
                     $objects = "HELPDESK";

                     $rolls =  check_rolls($usertype,$access,$objects); 
                    ?>
                     checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);           
                                      
                        }
                        function loadicpdet(icp_id)
                        {
                            
                            var path = "icp_id="+icp_id;
                            $("#generate_ticket").load("loadicpdetails.php",path);
                        }
                        function submitQueryDetails()
            {  
                  var descr = document.getElementById("prob_desc").value;
                  var icp_id = document.getElementById("icp_id_gen").value;
                  var ticket_type = document.getElementById("ticket_type_hd").value;
 var ticket_sub_type = $(".ticketsubtype").val();
           //  var ticket_sub_type = document.getElementById("ticket_sub_type").value;
             var c_mobile_contact = document.getElementById("c_mobile_contact").value;
                  
                  var serv_type = document.getElementById("serv_type").value;
                     var descErrorMessage = "Please Enter Problem Description";
                     var icpErrorMessage = "Please Select Icp ID";
                     var servErrorMessage = "Please Select Service type";
                     var tot_percpattern = /^[0-9]+$/;
                     
                     if(trim(icp_id).length == 0)
		{
                        document.getElementById("errorMessageHelpdesk").innerHTML = icpErrorMessage;
			document.getElementById("icp_id").focus();
 error_code = 1;
			return false;
                            
		}
              
                    if (trim(c_mobile_contact).length == 0)
        {
            document.getElementById("errorMessageHelpdesk").innerHTML = "Please Enter Contact Number";
            document.getElementById("c_mobile_contact").focus();
            error_code = 1;
            return false;

        }
        if (!c_mobile_contact.match(tot_percpattern))
        {
            document.getElementById("errorMessageHelpdesk").innerHTML = "Please Enter Contact Number";
            document.getElementById("c_mobile_contact").focus();
            error_code = 1;
            return false;
        }
                    
                    if(trim(serv_type).length == 0)
		{
                        document.getElementById("errorMessageHelpdesk").innerHTML = servErrorMessage;
			document.getElementById("serv_type").focus();
 error_code = 1;
			return false;
                            
		}
               
                     if(trim(ticket_type).length == 0)
		{
                        document.getElementById("errorMessageHelpdesk").innerHTML = "Please Select Ticket Type";
			document.getElementById("ticket_type_hd").focus();
                           error_code = 1;
			return false;
                            
		}
                
                if(trim(ticket_sub_type).length == 0)
		{
                        document.getElementById("errorMessageHelpdesk").innerHTML = "Please Select Sub Type";
			document.getElementById("ticket_sub_type").focus();
                           error_code = 1;
			return false;
                            
		}
                
         if(trim(descr).length == 0)
		{
                                document.getElementById("errorMessageHelpdesk").innerHTML = descErrorMessage;
			document.getElementById("prob_desc").focus();
 error_code = 1;
			return false;
                            
		}
                
                    
                    if (descr!="")
                    {
                    var strArr = new Array();
                    strArr = descr.split("");

                        if(strArr[0]==" ") // this is the the key part. you can do whatever you want here!
                        {
                           var  flag=1;
                            //alert(flag);
                        }


                    }
                    if(descr=="" || flag == 1 )
                    {        document.getElementById("errorMessageHelpdesk").innerHTML = descErrorMessage;
			document.getElementById("prob_desc").focus();
			return false;
                    }
                    
           
                    var a = $('#query_details').serialize();
                    
                    $('#generate_ticket').load("insertproblem.php",a );
         
                
                
            }
            
            function changepassword()
            {
                 $('#alter').load("changepassword.php");
                  $("#drop_down").toggle();
            }
            function updatepassword()
            {
                var texcurrentpwd = $("#texcurrentpwd").val();
                var texnewpassword =$("#texnewpassword").val();
                var texconfirmpwd = $("#texconfirmpwd").val();
                //var texUpdated =$("#texUpdated").val();
                var texcurrentpassword = $("#texcurrentpassword").val();
                
                var aid = $("#aid").val();
                var error_code = 0;
                if(trim(texcurrentpwd).length == 0)
                {
                        document.getElementById("error_password_Message").innerHTML = "Please Enter Current Password";
                        document.getElementById("texcurrentpwd").focus();
                        error_code=1;
                        return false;
                }
                
                if(trim(texnewpassword).length == 0)
                {
                        document.getElementById("error_password_Message").innerHTML = "Please Enter New Password";
                        document.getElementById("texnewpassword").focus();
                        error_code=1;
                        return false;
                }
                if(trim(texconfirmpwd).length == 0)
                {
                        document.getElementById("error_password_Message").innerHTML = "Please Re Enter New Password";
                        document.getElementById("texconfirmpwd").focus();
                        error_code=1;
                        return false;
                }
               
                if(trim(texcurrentpwd).length != 0)
                {
                        if(trim(texcurrentpwd) != trim(texcurrentpassword))
                            {
                                document.getElementById("error_password_Message").innerHTML = "Please Enter Correct Current Password";
                                document.getElementById("texcurrentpwd").focus();
                                error_code=1;
                                return false;
                            }
                }
                if(trim(texnewpassword).length != 0)
                {
                        if(trim(texnewpassword).length < 8 )
                            {
                                document.getElementById("error_password_Message").innerHTML = "Password must Contain 8 Digits";
                                document.getElementById("texnewpassword").focus();
                                error_code=1;
                                return false;
                            }
                }
                
                if(trim(texnewpassword).length != 0 && trim(texconfirmpwd).length != 0)
                {
                        if(trim(texnewpassword) != trim(texconfirmpwd))
                            {
                                document.getElementById("error_password_Message").innerHTML = "New Password Doesn't Match";
                                document.getElementById("texnewpassword").focus();
                                error_code=1;
                                return false;
                            }
                }
                 if(trim(texnewpassword).length != 0 )
                {
                        if(trim(texnewpassword) == trim(texcurrentpassword))
                            {
                                document.getElementById("error_password_Message").innerHTML = "Old Password And New Password are Doesn't Same";
                                document.getElementById("texnewpassword").focus();
                                error_code=1;
                                return false;
                            }
                }
                
            
           
            
            if(error_code != 1)
                {
                     
                document.getElementById("error_password_Message").innerHTML = "";
                var path = "texcurrentpwd="+texcurrentpwd+"&texnewpassword="+texnewpassword+"&texconfirmpwd="+texconfirmpwd+
                    "&texcurrentpassword="+texcurrentpassword+"&aid="+aid;
                
                $('#alter').load("updatepassword.php",path);
                return true;
                }
                
                
                 
                
            }
               function revisions(type,rev_type)
			{
				var type;
                                
                                var path= "type="+type+"&rev_type="+rev_type;
				
                                       
                                        $("#popup_billprocess").dialog({
                                    width: 1100,
                                    title: 'Revisions',
                                    height: 500,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_billprocess").load("revisions.php", path);

                                    }

                                });

                                    
	
			}
                        function revisionsfordeposits(type,rev_type)
			{
				var type;
                                
                                var path= "type="+type+"&rev_type="+rev_type;
				
                                       
                                        $("#revisions_depos").dialog({
                                    width: 1100,
                                    title: 'Revisions',
                                    height: 500,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#revisions_depos").load("revisions.php", path);

                                    }

                                });

                                    
	
			}
                        function showdet()
                        {
                            $("#drop_down").toggle();
                        }
                        function loadcustommsg(type)
                        {
                            var url = "addcustommsg.php";
                          var path = "type="+type;
                        var divid = "#alter";
                      <?php   
                       $access = "create";
                       $objects = "CUSTOM MSG";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                                              
                        }
                        function saveicpcustomMessage()
                        {
                          //  alert(5);
                          var icp_category = $("#icp_category").val();
                          
                
                         if(icp_category == "All")
                             {
                                 icp_category = "ALL";
                                 // $('.icp_cat').attr('disabled', 'disabled');
                                 
                             }
                             else{
                                 icp_category;
                             }
                          
                          if(document.getElementById('radall').checked) {
                            var recipent = "ICP ALL";
                            
                          }else if(document.getElementById('radselect').checked) {
                            var recipent = $("#icp_id").val();    
                          }
                             var msg_category = $("#msg_category").val();
                             var   msg_subject = $("#msg_subject").val();
                             var msgDescription =$("#msgDescription").val();
                             var error_code=0;
                             if(trim(icp_category).length == 0)
                                {
                                        document.getElementById("error_custom_messages").innerHTML = "Please Select ICP Category";
                                        document.getElementById("icp_category").focus();
                                        error_code=1;
                                        return false;
                                }
                               
                                                if(document.getElementById('radall').checked) {
                                            var recipent = "ICP ALL";
                                            
                                          }else if(document.getElementById('radselect').checked) {
                                            var recipent = $("#icp_id").val();    
                                            if(trim(recipent).length == 0)
                                {
                                        document.getElementById("error_custom_messages").innerHTML = "Please Enter ICP ID'S ";
                                        document.getElementById("icp_id").focus();
                                        error_code=1;
                                        return false;
                                }   
                                          }
                                         else
                                             {document.getElementById("error_custom_messages").innerHTML = "Please Select Recipent";;
                                                                 document.getElementById("radall").focus();
                                                                 return false;
                                                             }
                                                             
                                  if(trim(msg_category).length == 0)
                                {
                                        document.getElementById("error_custom_messages").innerHTML = "Please Select Message Category";
                                        document.getElementById("msg_category").focus();
                                        error_code=1;
                                        return false;
                                }   
                                if(trim(msg_subject).length == 0)
                                {
                                        document.getElementById("error_custom_messages").innerHTML = "Please Enter Message Subject";
                                        document.getElementById("msg_subject").focus();
                                        error_code=1;
                                        return false;
                                }   
                             
                             if(trim(msgDescription).length == 0)
                            {
                                    document.getElementById("error_custom_messages").innerHTML = "Please Enter Message Can't Be Empty";
                                    document.getElementById("msgDescription").focus();
                                    error_code=1;
                                    return false;
                            }
                            
                            if(error_code != 1)
                {
                         



                    $('#icpcustmsg').attr('disabled', 'disabled');
                document.getElementById("error_custom_messages").innerHTML = "";
                msg_subject = escape(msg_subject);msgDescription = escape(msgDescription);
                 //var path = "icp_category="+icp_category+"&recipent="+recipent+"&msg_category="+msg_category+
                  //  "&msg_subject="+msg_subject+"&msgDescription="+msgDescription;
                            // $('#insertcustmsg').load("insertcustommsg.php",path);
                   $('#insertcustmsg').load("insertcustommsg.php",{
                          icp_category: $("#icp_category").val(),
                           recipent: $("#icp_id").val(),
                           msg_category : $("#msg_category").val(),
                          msg_subject : $("#msg_subject").val(),
                          msgDescription : $("#msgDescription").val()
                           })
                return true;
                }
                
                            
                        }
                        function hideicpbox()
                        {
                             $("#icp_table").hide();
                        }
                        
                        function saveicccustomMessage()
                        {
                          //  alert(5);
                          var icc_category = $("#icc_category").val();
                         if(icc_category == "ALL")
                             {
                                 icc_category = "ALL ICC CATEOGORY";
                             }
                             else{
                                 icc_category;
                             }
                          
                          if(document.getElementById('radall').checked) {
                            var recipent = "ICC ALL";
                          }else if(document.getElementById('radselect').checked) {
                            var recipent = $("#icc_id").val();    
                          }
                             var msg_category = $("#msg_category").val();
                             var   msg_subject = $("#msg_subject").val();
                             var msgDescription =$("#msgDescription").val();
                             var error_code=0;
                             
                             if(trim(icc_category).length == 0)
                                {
                                        document.getElementById("error_custom_messages").innerHTML = "Please Select ICC Category";
                                        document.getElementById("icc_category").focus();
                                        error_code=1;
                                        return false;
                                }
                                
                                                if(document.getElementById('radall').checked) {
                                                var recipent = "ICC ALL";
                                               
                                              }else if(document.getElementById('radselect').checked) {
                                                var recipent = $("#icc_id").val();    
                                                if(trim(recipent).length == 0)
                                {
                                        document.getElementById("error_custom_messages").innerHTML = "Please Enter ICC ID'S ";
                                        document.getElementById("icc_id").focus();
                                        error_code=1;
                                        return false;
                                }   
                                              }
                                         else
                                             {document.getElementById("error_custom_messages").innerHTML = "Please Select Recipent";;
                                                                 document.getElementById("radall").focus();
                                                                 return false;
                                                             }
                                                             
                                  if(trim(msg_category).length == 0)
                                {
                                        document.getElementById("error_custom_messages").innerHTML = "Please Select Message Category";
                                        document.getElementById("msg_category").focus();
                                        error_code=1;
                                        return false;
                                }   
                                if(trim(msg_subject).length == 0)
                                {
                                        document.getElementById("error_custom_messages").innerHTML = "Please Enter Message Subject";
                                        document.getElementById("msg_subject").focus();
                                        error_code=1;
                                        return false;
                                }   
                             
                             if(trim(msgDescription).length == 0)
                            {
                                    document.getElementById("error_custom_messages").innerHTML = "Please Enter Message Can't Be Empty";
                                    document.getElementById("msgDescription").focus();
                                    error_code=1;
                                    return false;
                            }
                            
                            if(error_code != 1)
                {
                     $('#icccustmsg').attr('disabled', 'disabled');
                document.getElementById("error_custom_messages").innerHTML = "";
                msg_subject = escape(msg_subject);msgDescription = escape(msgDescription);
                 var path = "icc_category="+icc_category+"&recipent="+recipent+"&msg_category="+msg_category+
                    "&msg_subject="+msg_subject+"&msgDescription="+msgDescription;
                             $('#insertcustmsg').load("inserticccustommsg.php",path);
                return true;
                }
                
                            
                        }
                        
                        function saveallcustomMessage()
                        {
                          //  alert(5);
                          
                          
                          
                             var msg_category = $("#msg_category").val();
                             var   msg_subject = $("#msg_subject").val();
                             var msgDescription =$("#msgDescription").val();
                             var error_code=0;
                             
                             if(trim(msg_category).length == 0)
                                {
                                        document.getElementById("error_custom_messages").innerHTML = "Please Select Message Category";
                                        document.getElementById("msg_category").focus();
                                        error_code=1;
                                        return false;
                                }   
                                if(trim(msg_subject).length == 0)
                                {
                                        document.getElementById("error_custom_messages").innerHTML = "Please Enter Message Subject";
                                        document.getElementById("msg_subject").focus();
                                        error_code=1;
                                        return false;
                                }   
                             
                             if(trim(msgDescription).length == 0)
                            {
                                    document.getElementById("error_custom_messages").innerHTML = "Please Enter Message Can't Be Empty";
                                    document.getElementById("msgDescription").focus();
                                    error_code=1;
                                    return false;
                            }
                            
                            if(error_code != 1)
                {
                     $('#allcustmsg').attr('disabled', 'disabled');
                document.getElementById("error_custom_messages").innerHTML = "";
                msg_subject = escape(msg_subject);msgDescription = escape(msgDescription);
                 var path = "msg_category="+msg_category+
                    "&msg_subject="+msg_subject+"&msgDescription="+msgDescription;
                             $('#insertcustmsg').load("insertallcustommsg.php",path);
                return true;
                }
                
                            
                        }
                        
                         function reatilerAdminCharges(retailerid,fstname,lastname,rid,rlocation,did,rstatus)
                        {
                            var url = "adminChargesOfRetailer.php";
                            var path = "retailerid="+retailerid+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
                             var divid = "#popup_billprocess";
                             var width = 900;
                             var height = 500;
                             var title = 'Account Adjustment';
                          <?php   
                           $access = "edit";
                           $objects = "ICP ACCOUNT ADJUSTMENT";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
                           }
                           
                        function addadmincharges(retailerid,fstname,lastname,rid,rlocation,did,rstatus)
                        {
                             var remarks = $("#remarks").val();
                             var amount =$("#amount").val();
                             var adj_mode =$("#adj_mode").val();
                             var error_code = 0;
                             var tot_percpattern = /^[0-9 .]+$/;
                             if(trim(adj_mode).length == 0)
                            {
                                    document.getElementById("error_admin_charges").innerHTML = "Please Select Adjustment Type";
                                    document.getElementById("adj_mode").focus();
                                    error_code=1;
                                    return false;
                            }
                             if(trim(amount).length == 0)
                            {
                                    document.getElementById("error_admin_charges").innerHTML = "Please Enter Valid Amount";
                                    document.getElementById("amount").focus();
                                    error_code=1;
                                    return false;
                            }
                            if(!amount.match(tot_percpattern))
                        {
                                document.getElementById("error_admin_charges").innerHTML = "Please Enter Valid Amount";
                                document.getElementById("amount").focus();
                                error_code=1;
                                return false;
                        }
                            if(trim(remarks).length == 0)
                            {
                                    document.getElementById("error_admin_charges").innerHTML = "Please Fill Remarks";
                                    document.getElementById("remarks").focus();
                                    error_code=1;
                                    return false;
                            }
                 if(error_code != 1)
                {
                    remarks =  escape(remarks);
                    $("#adminChrgs_btn").attr("disabled","disabled");
                document.getElementById("error_admin_charges").innerHTML = "";
                 var path = "retailerid="+retailerid+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus+"&remarks="+remarks+"&amount="+amount+"&adj_mode="+adj_mode;
                            $('#insert_admin_charges').load("addadminCharges.php",path);
                return true;
                }
                
                            
                        }
    
    function admincharges_prevhistory()
    {
        $("#admincharges_history").show();
    }
    
    function iccAdminCharges(iccid)
                        {
                            var url = "adminChargesOficc.php";
                            var path = "iccid="+iccid;
                             var divid = "#popup_billprocess";
                             var width = 900;
                             var height = 500;
                             var title = 'Account Adjustment';
                          <?php   
                           $access = "edit";
                           $objects = "ICC ACCOUNT ADJUSTMENT";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
                           }
    function addadminchargesicc(iccid,fstname,lastname,rid,rlocation,did,rstatus)
                        {
                             var remarks = $("#remarks").val();
                             var amount =$("#amount").val();
                             var adj_mode =$("#adj_mode").val();
                             var error_code = 0;
                             var tot_percpattern = /^[0-9 .]+$/;
                             if(trim(adj_mode).length == 0)
                            {
                                    document.getElementById("error_admin_charges").innerHTML = "Please Select Adjustment Type";
                                    document.getElementById("adj_mode").focus();
                                    error_code=1;
                                    return false;
                            }
                             if(trim(amount).length == 0)
                            {
                                    document.getElementById("error_admin_charges").innerHTML = "Please Enter Valid Amount";
                                    document.getElementById("amount").focus();
                                    error_code=1;
                                    return false;
                            }
                            if(!amount.match(tot_percpattern))
                        {
                                document.getElementById("error_admin_charges").innerHTML = "Please Enter Valid Amount";
                                document.getElementById("amount").focus();
                                error_code=1;
                                return false;
                        }
                            if(trim(remarks).length == 0)
                            {
                                    document.getElementById("error_admin_charges").innerHTML = "Please Fill Remarks";
                                    document.getElementById("remarks").focus();
                                    error_code=1;
                                    return false;
                            }
                 if(error_code != 1)
                {
                    remarks =  escape(remarks);
                    $("#adminChrgs_btn").attr("disabled","disabled");
                document.getElementById("error_admin_charges").innerHTML = "";
                 var path = "iccid="+iccid+"&remarks="+remarks+"&amount="+amount+"&adj_mode="+adj_mode;
                            $('#insert_admin_charges').load("addadminChargesicc.php",path);
                return true;
                }
                
                            
                        } 
                        
                        function adminchargesicc_prevhistory()
    {
        $("#admincharges_history").show();
    }
    
    function loadicps(category)
    {
      //  var path = "category="+category;
                          //  $('#recipent').load("loadicps.php",path);
                          
                       /*   $().ready(function() {
    var icp_category = $("#icp_category").val();
    alert(icp_category);
    $('#icp_id').autocomplete({source:'loadicps.php?icp_category='+icp_category,
        minLength:2,
       
        multipleSeparator: ","
    });
});*/
        var icp_category = $("#icp_category").val();
         $().ready(function() {
         function split( val ) {
return val.split( /,\s*/ );
}
function extractLast( term ) {
return split( term ).pop();
}
$( "#icp_id" )
// don't navigate away from the field on tab when selecting an item
.bind( "keydown", function( event ) {
if ( event.keyCode === $.ui.keyCode.TAB &&
$( this ).data( "ui-autocomplete" ).menu.active ) {
event.preventDefault();
}
})
.autocomplete({
source: function( request, response ) {
$.getJSON( 'loadicps.php?icp_category='+icp_category, {
term: extractLast( request.term )
}, response );
},
search: function() {
// custom minLength
var term = extractLast( this.value );
if ( term.length < 2 ) {
return false;
}
},
focus: function() {
// prevent value inserted on focus
return false;
},
select: function( event, ui ) {
var terms = split( this.value );
// remove the current input
terms.pop();
// add the selected item
terms.push( ui.item.value );
// add placeholder to get the comma-and-space at the end
terms.push( "" );
this.value = terms.join( ", " );
return false;
}
});
});

    }
    function showicpbox()
    {
        $("#icp_table").show();
    }
    
    function loadiccs(icccategory)
    {
      //  var path = "category="+category;
                          //  $('#recipent').load("loadicps.php",path);
                          
                         /* $().ready(function() {
    var icc_category = $("#icc_category").val();
    alert(icc_category);
$("#icc_id").autocomplete( {
    source:'loadiccs.php?icc_category='+icc_category,
    width: 260,
    matchContains: true,
    mustMatch: true,
    minChars: 0,
    multiple: true,
    highlight: true,
    multipleSeparator: ",",
    selectFirst: true
});
});*/
        
        var icc_category = $("#icc_category").val();
        var icc_id = $("#icc_id").val();
         $().ready(function() {
         function split( val ) {
return val.split( /,\s*/ );
}
function extractLast( term ) {
return split( term ).pop();
}
$( "#icc_id" )
// don't navigate away from the field on tab when selecting an item
.bind( "keydown", function( event ) {
if ( event.keyCode === $.ui.keyCode.TAB &&
$( this ).data( "ui-autocomplete" ).menu.active ) {
event.preventDefault();
}
})
.autocomplete({
source: function( request, response ) {
$.getJSON( 'loadiccs.php?icc_category='+icc_category+"&icc_id="+icc_id, {
term: extractLast( request.term )
}, response );
},
search: function() {
// custom minLength
var term = extractLast( this.value );
if ( term.length < 2 ) {
return false;
}
},
focus: function() {
// prevent value inserted on focus
return false;
},
select: function( event, ui ) {
var terms = split( this.value );
// remove the current input
terms.pop();
// add the selected item
terms.push( ui.item.value );
// add placeholder to get the comma-and-space at the end
terms.push( "" );
this.value = terms.join( ", " );
return false;
}
});
});
        
    }
function custommsghistory()
{
    var url = "custommsghistory.php";
                      var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                       $objects = "CUSTOM MSG";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    
}
function showicccustommsgs()
{
    var url = "custicc.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "CUSTOM MSG";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
     //$("#icc_msg_history").show();
    // $("#icp_msg_history").hide();
    // $("#all_msg_history").hide();
     $('#radICC').attr("checked", "checked");
     
}
function showicpcustommsgs()
{
    var url = "custicp.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "CUSTOM MSG";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    //$("#icp_msg_history").show();
     //$("#icc_msg_history").hide();
    // $("#all_msg_history").hide();
     
    $('#radICP').attr("checked", "checked");
     
   // alert(5);
}
function showallcustommsgs()
{
    
    var url = "custall.php";
    //alert(urlshowallcustommsgs);return false;
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "CUSTOM MSG";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    //$("#all_msg_history").show();
    //$("#icp_msg_history").hide();
    // $("#icc_msg_history").hide();
     $('#radALL').attr("checked", "checked");
     
}
function addpiggiback()
{
    var url = "addpiggyback.php";
                    var path = "";
                     var divid = "#alter";
                  <?php   
                   $access = "create";
                   $objects = "PIGGYBACK";

                   $rolls =  check_rolls($usertype,$access,$objects); 
                  ?>
                   checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    
}

function loadfields(perc_type)
{
    if(perc_type == "Fixed")
        {
            $("#fixed").show();
            $("#percentage").hide();
        }
        else if(perc_type == "Percentage")
            {
                $("#percentage").show();
                $("#fixed").hide();
            }
        
        else if(perc_type == "Both")
            {
                $("#percentage").show();
                $("#fixed").show();
            }
                 
            }
            
            function loadsubservice(service_name)
                {
                    
                            $('#sub_service_piggy').load("loadbenifitedsubservices.php?service_name="+service_name); 
                          
                   
                }
    function removedisabled(id)
    {
        <?php   
          $access = "edit";
          $objects = "CUSTOM MSG";
          
           $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
                 var rolls = "<?php echo  $rolls; ?>";
       <?php
       if($_SESSION["usertype"] == "Admin"){ ?>
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      $("#status"+id).removeAttr("disabled");
            
             $("#editsts"+id).css("display", "none");
             $("#savemsg"+id).css("display", "block");
                    }

                });
       <?php  }
        else{ ?>
        if(trim(rolls) == "yes") {
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";    
                $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                       
         
     $("#status"+id).removeAttr("disabled");
            
             $("#editsts"+id).css("display", "none");
             $("#savemsg"+id).css("display", "block");
                    }

                });
                
                 }
        else {
         alert("You Dont Have Access Towards This Page");
        }
        
        <?php } ?>  
            
        
    }
    function removedisabledicp(id)
    {
       <?php   
          $access = "edit";
          $objects = "CUSTOM MSG";
          
           $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
              var rolls = "<?php echo  $rolls; ?>";
          <?php 
          if($_SESSION["usertype"] == "Admin"){ ?>
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      $("#statusicp"+id).removeAttr("disabled");
            
             $("#editstsicp"+id).css("display", "none");
             $("#savemsgicp"+id).css("display", "block");
                    }

                });
       <?php  }
        else{?>
           if(trim(rolls) == "yes") {
                
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      
                $("#statusicp"+id).removeAttr("disabled");
            
             $("#editstsicp"+id).css("display", "none");
             $("#savemsgicp"+id).css("display", "block");
                    }

                });
                
                
                 }
        else {
         alert("You Dont Have Access Towards This Page");
        }
        
        <?php } ?>  
            
        
    }
    function updatecstmsg(id,type)
    {
        var status = $("#status"+id).val();
        
        $("#update_msg").load("updatecstmsg.php?msgid="+id+"&msgtype="+type+"&status="+status);
    }
    function removedisabledall(id)
    {
       <?php   
          $access = "edit";
          $objects = "CUSTOM MSG";
          
           $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
                 var rolls = "<?php echo  $rolls; ?>";
       <?php
       if($_SESSION["usertype"] == "Admin"){ ?>
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                       $("#statusall"+id).removeAttr("disabled");
            
             $("#editstsall"+id).css("display", "none");
             $("#savemsgall"+id).css("display", "block");
                    }

                });
       <?php  }
        else{ ?>
        if(trim(rolls) == "yes") {
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";    
                $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                       
         
      $("#statusall"+id).removeAttr("disabled");
            
             $("#editstsall"+id).css("display", "none");
             $("#savemsgall"+id).css("display", "block");
                    }

                });
                
                 }
        else {
         alert("You Dont Have Access Towards This Page");
        }
        
        <?php } ?>  
           
        
    }
    function updatecstmsgicp(id,type)
    {
       
        var status = $("#statusicp"+id).val();
         //alert(id+'--'+type+'--'+status);return false;
        $("#update_msg").load("updatecstmsg.php?msgid="+id+"&msgtype="+type+"&status="+status);
    }
    function updatecstmsgall(id,type)
    {
        var status = $("#statusall"+id).val();
        
        $("#update_msg").load("updatecstmsg.php?msgid="+id+"&msgtype="+type+"&status="+status);
    }
    
    function savepiggybackdetails()
    {
         var piggyback_name = $("#piggyback_name").val();
         var payout_type =$("#payout_type").val();
          var start_date = $("#start_date").val();
         var end_date =$("#end_date").val();
         var service = $("#service").val();
         var sub_service =$("#sub_service").val();
         var target =$("#target").val();
         var benif_service =$("#benif_service").val();
         var benifited_sub__service =$("#benifited_sub__service").val();
         var benefits_amt =$("#benefits_amt").val();
         var pay_type =$("#pay_type").val();
          var benfitamt =$("#benfitamt").val();
           var benfitpercent =$("#benfitpercent").val();
           var target_type =$("#target_type").val();
          var  error_code=0;
           var tot_percpattern = /^[0-9 .]+$/;     
           
           if(trim(piggyback_name).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Enter Piggyback Name";
                    document.getElementById("piggyback_name").focus();
                    error_code=1;
                    return false;
            }
            if(trim(payout_type).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Payout Type";
                    document.getElementById("payout_type").focus();
                    error_code=1;
                    return false;
            }
           
            
            if(trim(start_date) == "0000-00-00")
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Start date";
                    document.getElementById("start_date").focus();
                    error_code=1;
                    return false;
            }
            if(end_date== "0000-00-00")
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select End date";
                    document.getElementById("end_date").focus();
                    error_code=1;
                    return false;
            }
            if(trim(service).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Service";
                    document.getElementById("service").focus();
                    error_code=1;
                    return false;
            }
            if(trim(target_type).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Target Type";
                    document.getElementById("target_type").focus();
                    error_code=1;
                    return false;
            }
            if(trim(target).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Enter Valid target Amount";
                    document.getElementById("target").focus();
                    error_code=1;
                    return false;
            }
            if(!target.match(tot_percpattern))
                        {
                                document.getElementById("error_piggyback").innerHTML = "Please Enter Valid target Amount";
                                document.getElementById("target").focus();
                                error_code=1;
                                return false;
                        }
            if(trim(benif_service).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Benifited Service";
                    document.getElementById("benif_service").focus();
                    error_code=1;
                    return false;
            }
           /* if(benif_service == service)
                {
                    document.getElementById("error_piggyback").innerHTML = "Both Benifited and Target servive are Can't Be Same";
                    document.getElementById("benif_service").focus();
                    error_code=1;
                    return false;
                }*/
            if(trim(benif_service).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Benifited Service";
                    document.getElementById("benif_service").focus();
                    error_code=1;
                    return false;
            }
            if(trim(benefits_amt).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Ented Benifited Upto Amount";
                    document.getElementById("benefits_amt").focus();
                    error_code=1;
                    return false;
            }
            if(!benefits_amt.match(tot_percpattern))
                        {
                                document.getElementById("error_piggyback").innerHTML = "Please Ented Benifited Upto Amount";
                                document.getElementById("benefits_amt").focus();
                                error_code=1;
                                return false;
                        }
            if(trim(pay_type).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Pay Type";
                    document.getElementById("pay_type").focus();
                    error_code=1;
                    return false;
            }
            if(trim(pay_type).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Pay Type";
                    document.getElementById("pay_type").focus();
                    error_code=1;
                    return false;
            }
            if(pay_type == "Percentage")
                {
                    if(trim(benfitpercent).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Percentage";
                    document.getElementById("benfitpercent").focus();
                    error_code=1;
                    return false;
            }
            if(!benfitpercent.match(tot_percpattern))
                        {
                                document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Percentage";
                                document.getElementById("benfitpercent").focus();
                                error_code=1;
                                return false;
                        }
                }
                
                
                if(pay_type == "Fixed")
                {
                    if(trim(benfitamt).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Fixed Amount";
                    document.getElementById("benfitamt").focus();
                    error_code=1;
                    return false;
            }
             if(!benfitamt.match(tot_percpattern))
                        {
                                document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Fixed Amount";
                                document.getElementById("benfitamt").focus();
                                error_code=1;
                                return false;
                        }
                }
                
                if(pay_type == "Both")
                {
                    if(trim(benfitpercent).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Percentage";
                    document.getElementById("benfitpercent").focus();
                    error_code=1;
                    return false;
            }
            if(!benfitpercent.match(tot_percpattern))
                        {
                                document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Percentage";
                                document.getElementById("benfitpercent").focus();
                                error_code=1;
                                return false;
                        }
            if(trim(benfitamt).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Fixed Amount";
                    document.getElementById("benfitamt").focus();
                    error_code=1;
                    return false;
            }
            if(!benfitamt.match(tot_percpattern))
                        {
                                document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Fixed Amount";
                                document.getElementById("benfitamt").focus();
                                error_code=1;
                                return false;
                        }
                }
                 
                if(error_code != 1)
                {
                   var add_piggyback = $('#add_piggyback').serialize();
                  // alert(add_piggyback);
                document.getElementById("error_piggyback").innerHTML = "";
                 
                         $('#insert_piggyback').load("insertpiggyback.php",add_piggyback);
                return true;
                }
                
         
    }
    function searchpiggyback()
    {
        var url = "searchpiggyback.php";
                    var path = "";
                     var divid = "#alter";
                  <?php   
                   $access = "search";
                   $objects = "PIGGYBACK";

                   $rolls =  check_rolls($usertype,$access,$objects); 
                  ?>
                   checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        
    }
    function searchpiggybackdetails()
    {
        var piggyback_name = escape($("#piggyback_name").val());
        var payout_type = $("#payout_type").val();
        var tart_service = $("#tart_service").val();
        var be_service = $("#be_service").val();
        var start_date = $("#start_date").val();
        var end_date = $("#end_date").val();
        
        $("#alter").load("searchpiggybackdetails.php?piggyback_name="+piggyback_name+
                "&payout_type="+payout_type+"&tart_service="+tart_service+"&be_service="+be_service+"&start_date="+start_date+"&end_date="+end_date);
        
    }
    function viewPiggyback(piggyback_id,pbname,potype,tservice,bservice,startdt,enddt)
    {
        pbname = escape(pbname);
        var url = "viewPiggyback.php";
                    var path = "piggyback_id="+piggyback_id+"&pbname="+pbname
     +"&potype="+potype+"&tservice="+tservice+"&bservice="+bservice+"&startdt="+startdt+"&enddt="+enddt;
                     var divid = "#alter";
                  <?php   
                   $access = "view";
                   $objects = "PIGGYBACK";

                   $rolls =  check_rolls($usertype,$access,$objects); 
                  ?>
                   checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
         
    }
    function editpiggybackdetails(piggyback_id,pbname,potype,tservice,bservice,startdt,enddt)
    {
        var url = "editpiggyback.php";
                    var path = "piggyback_id="+piggyback_id+"&pbname="+pbname
     +"&potype="+potype+"&tservice="+tservice+"&bservice="+bservice+"&startdt="+startdt+"&enddt="+enddt;
                     var divid = "#alter";
                  <?php   
                   $access = "edit";
                   $objects = "PIGGYBACK";

                   $rolls =  check_rolls($usertype,$access,$objects); 
                  ?>
                   checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
       
    }
    function updatepiggybackdetails(piggyback_id,crntstatus,pbname,potype,tservice,bservice,startdt,enddt)
    {
        pbname = escape(pbname);
        if(crntstatus == "proceessed")
            {
                var end_date = $("#end_date").val();
                
                $("#update_piggyback").load("updatepiggyback.php?end_date="+end_date+"&piggyback_id="+piggyback_id+
                        "&crntstatus="+crntstatus+"&pbname="+pbname+
                "&potype="+potype+"&tservice="+tservice+"&bservice="+bservice+"&startdt="+startdt+"&enddt="+enddt);
            }
            else if(crntstatus == "unproceessed")
                {
                   
                     var piggyback_name = $("#piggyback_name").val();
         var payout_type =$("#payout_type").val();
          var start_date = $("#start_date").val();
         var end_date =$("#end_date").val();
         var service = $("#service").val();
         var sub_service =$("#sub_service").val();
         var target =$("#target").val();
         var benif_service =$("#benif_service").val();
         var benifited_sub__service =$("#benifited_sub__service").val();
         var benefits_amt =$("#benefits_amt").val();
         var pay_type =$("#pay_type").val();
          var benfitamt =$("#benfitamt").val();
           var benfitpercent =$("#benfitpercent").val();
            var target_type =$("#target_type").val();
           var end_date1 =$("#end_date1").val();
          var  error_code=0;
           var tot_percpattern = /^[0-9 .]+$/;           
           if(trim(piggyback_name).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Enter Piggyback Name";
                    document.getElementById("piggyback_name").focus();
                    error_code=1;
                    return false;
            }
            if(trim(payout_type).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Payout Type";
                    document.getElementById("payout_type").focus();
                    error_code=1;
                    return false;
            }
            if(trim(start_date) == "0000-00-00")
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Start date";
                    document.getElementById("start_date").focus();
                    error_code=1;
                    return false;
            }
            if(end_date == "0000-00-00")
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select End date";
                    document.getElementById("end_date").focus();
                    error_code=1;
                    return false;
            }
            if(trim(service).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Service";
                    document.getElementById("service").focus();
                    error_code=1;
                    return false;
            }
            if(trim(target_type).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Target Type";
                    document.getElementById("service").focus();
                    error_code=1;
                    return false;
            }
            
            if(trim(target).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Enter Valid target Amount";
                    document.getElementById("target").focus();
                    error_code=1;
                    return false;
            }
            if(!target.match(tot_percpattern))
                        {
                                document.getElementById("error_piggyback").innerHTML = "Please Enter Valid target Amount";
                                document.getElementById("target").focus();
                                error_code=1;
                                return false;
                        }
            if(trim(benif_service).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Benifited Service";
                    document.getElementById("benif_service").focus();
                    error_code=1;
                    return false;
            }
            if(benif_service == service)
                {
                    document.getElementById("error_piggyback").innerHTML = "Both Benifited and Target servive are Can't Be Same";
                    document.getElementById("benif_service").focus();
                    error_code=1;
                    return false;
                }
            if(trim(benif_service).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Benifited Service";
                    document.getElementById("benif_service").focus();
                    error_code=1;
                    return false;
            }
            if(trim(benefits_amt).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Ented Benifited Upto Amount";
                    document.getElementById("benefits_amt").focus();
                    error_code=1;
                    return false;
            }
            if(!benefits_amt.match(tot_percpattern))
                        {
                                document.getElementById("error_piggyback").innerHTML = "Please Ented Benifited Upto Amount";
                                document.getElementById("benefits_amt").focus();
                                error_code=1;
                                return false;
                        }
            if(trim(pay_type).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Pay Type";
                    document.getElementById("pay_type").focus();
                    error_code=1;
                    return false;
            }
            if(trim(pay_type).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Select Pay Type";
                    document.getElementById("pay_type").focus();
                    error_code=1;
                    return false;
            }
            if(pay_type == "Percentage")
                {
                    if(trim(benfitpercent).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Percentage";
                    document.getElementById("benfitpercent").focus();
                    error_code=1;
                    return false;
            }
            if(!benfitpercent.match(tot_percpattern))
                        {
                                document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Percentage";
                                document.getElementById("benfitpercent").focus();
                                error_code=1;
                                return false;
                        }
                }
                
                
                if(pay_type == "Fixed")
                {
                    if(trim(benfitamt).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Fixed Amount";
                    document.getElementById("benfitamt").focus();
                    error_code=1;
                    return false;
            }
             if(!benfitamt.match(tot_percpattern))
                        {
                                document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Fixed Amount";
                                document.getElementById("benfitamt").focus();
                                error_code=1;
                                return false;
                        }
                }
                
                if(pay_type == "Both")
                {
                    if(trim(benfitpercent).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Percentage";
                    document.getElementById("benfitpercent").focus();
                    error_code=1;
                    return false;
            }
            if(!benfitpercent.match(tot_percpattern))
                        {
                                document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Percentage";
                                document.getElementById("benfitpercent").focus();
                                error_code=1;
                                return false;
                        }
            if(trim(benfitamt).length == 0)
            {
                    document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Fixed Amount";
                    document.getElementById("benfitamt").focus();
                    error_code=1;
                    return false;
            }
            if(!benfitamt.match(tot_percpattern))
                        {
                                document.getElementById("error_piggyback").innerHTML = "Please Enter Valid Fixed Amount";
                                document.getElementById("benfitamt").focus();
                                error_code=1;
                                return false;
                        }
                }
                
                if(error_code != 1)
                {
                   var add_piggyback = $('#add_piggyback').serialize();
                //alert(add_piggyback);
                document.getElementById("error_piggyback").innerHTML = "";
                 
                    $("#update_piggyback").load("updatepiggyback.php?piggyback_id="+piggyback_id
                            +"&crntstatus="+crntstatus+"&pbname="+pbname+
                "&potype="+potype+"&tservice="+tservice+"&bservice="+bservice+"&startdt="+startdt+"&enddt="+enddt,add_piggyback)
                 return true;
                }
                }
    }
    function searchpbdetails(pbname,potype,tservice,bservice,startdt,enddt)
    {
        pbname = escape(pbname);
        $("#alter").load("searchpiggybackdetails.php?piggyback_name="+pbname+
                "&payout_type="+potype+"&tart_service="+tservice+"&be_service="+bservice+"&start_date="+startdt+"&end_date="+enddt);
    }
    function checkicpcatgry(icp_category){
         if(icp_category == "All")
                             {
                               //  icp_category = "ALL";
                                //  $('.recipent').attr('disabled', 'disabled');
                                        $('#radall').attr('checked', 'checked');
                                        $('.recipent').attr('disabled', 'disabled');
 $("#icp_table").hide(); 
                                 
                             }
                             else{
                                 
                                 $(".recipent").removeAttr("disabled");
                             }
    }
    function checkicccatgry(icc_category){
         if(icc_category == "All")
                             {
                               //  icp_category = "ALL";
                               $('#radall').attr('checked', 'checked');
                               $('.recipent').attr('disabled', 'disabled');
                                $("#icp_table").hide(); 
                             }
                             else{
                                 
                                 $(".recipent").removeAttr("disabled");
                             }
    }
   function icpinfosalesearnings(from_date,retailerid)
   {
       var path = "retailerid="+retailerid+"&from_date="+from_date;
                                  
                                        $("#popup_billprocess").dialog({
                                    width: 900,
                                    title: 'Sales Earnings Orders Information',
                                    height: 500,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_billprocess").load("salesearningsinfo.php", path);

                                    }

                                });
   }
   function icpinfotargetearnings(from_date,retailerid)
   {
         var path = "retailerid="+retailerid+"&from_date="+from_date;
                                  
                                        $("#popup_billprocess").dialog({
                                    width: 900,
                                    title: 'Target Earnings Orders Information',
                                    height: 500,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_billprocess").load("targetearningsinfo.php", path);

                                    }

                                });
   }
   
   function icpinfopbearnings(offertype,offerservice,offertarget,actualsale,benifitedservice,offerearnings)
   {
         var path = "offertype="+offertype+"&offerservice="+offerservice+"&offertarget="+offertarget+"&actualsale="+actualsale+"&benifitedservice="+benifitedservice+"&offerearnings="+offerearnings;
                                  
                                        $("#popup_billprocess").dialog({
                                    width: 500,
                                    title: 'Earnings From Offers Orders  Information',
                                    height: 300,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_billprocess").load("pbearningsinfo.php", path);

                                    }

                                });
   }
   function icpinfoinstantearnings(statement_id,from_date,retailerid)
   {
       var path = "retailerid="+retailerid+"&from_date="+from_date+"&statement_id="+statement_id;
                                  
                                        $("#popup_billprocess").dialog({
                                    width: 900,
                                    title: 'Instant Earnings Orders  Information',
                                    height: 500,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_billprocess").load("instantearningsinfo.php", path);

                                    }

                                });
   }
   function addicpdeposit()
{
    var url = "addicpdeposit.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "create";
          $objects = "ICPDEPOSIT";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    
    
}
function saveicpdepositops()
{
   var icp_store_name = $("#icp_store_name").val();
   var payment_mode = $("#payment_mode").val();
   var payment_date = $("#payment_date").val();
   var payment_amount = $("#payment_amount").val();
    var security_deposit = $("#security_deposit").val();
    var bank_name = $("#bank_name").val();
    var chdd_no = $("#chdd_no").val();
    var issue_date = $("#issue_date").val();
     var depos_cat = $("#depos_cat").val();
     var first_name = $("#first_name").val();
     var last_name = $("#last_name").val();
      var mobile_no = $("#mobile_no").val();
   var error_code = 0;
   var tot_percpattern = /^[0-9 .]+$/; 
   var mob_pattern = /^[0-9]+$/; 
           if(trim(icp_store_name).length == 0)
            {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter Store Name";
                    document.getElementById("icp_store_name").focus();
                    error_code=1;
                    return false;
            }
            if(trim(payment_mode).length == 0)
            {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Select Payment Mode";
                    document.getElementById("payment_mode").focus();
                    error_code=1;
                    return false;
            }
            if(trim(depos_cat).length == 0)
            {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Select Deposit Category";
                    document.getElementById("depos_cat").focus();
                    error_code=1;
                    return false;
            }
            if(trim(payment_date) == "0000-00-00")
            {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Select Payment date";
                    document.getElementById("payment_date").focus();
                    error_code=1;
                    return false;
            }
            if(trim(payment_amount).length == 0)
            {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter Valid Amount";
                    document.getElementById("payment_amount").focus();
                    error_code=1;
                    return false;
            }
            if(!payment_amount.match(tot_percpattern))
                        {
                                document.getElementById("error_icpdeposits").innerHTML = "Please Enter Valid Amount";
                                document.getElementById("payment_amount").focus();
                                error_code=1;
                                return false;
                        }
                        
                        if(payment_mode == "Cheque" || payment_mode == "DD")
                            {
                                
                                if(trim(bank_name).length == 0)
                                {
                                        document.getElementById("error_icpdeposits").innerHTML = "Please Bank Name";
                                        document.getElementById("bank_name").focus();
                                        error_code=1;
                                        return false;
                                }
                                if(trim(chdd_no).length == 0)
                                {
                                        document.getElementById("error_icpdeposits").innerHTML = "Please Cheque/DD number";
                                        document.getElementById("chdd_no").focus();
                                        error_code=1;
                                        return false;
                                }
                               if(trim(issue_date) == "0000-00-00")
                                {
                                        document.getElementById("error_icpdeposits").innerHTML = "Please Select Issue date";
                                        document.getElementById("issue_date").focus();
                                        error_code=1;
                                        return false;
                                }
                            }
                              if(trim(first_name).length == 0)
                            {
                                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter First Name";
                                    document.getElementById("first_name").focus();
                                    error_code=1;
                                    return false;
                            }
                             if(trim(last_name).length == 0)
                            {
                                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter Last Name";
                                    document.getElementById("last_name").focus();
                                    error_code=1;
                                    return false;
                            }
                            if(trim(mobile_no).length == 0)
                            {
                                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter Valid Phone Number";
                                    document.getElementById("mobile_no").focus();
                                    error_code=1;
                                    return false;
                            }
                            if(!mobile_no.match(mob_pattern))
                            {
                                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter Valid Phone Number";
                                    document.getElementById("mobile_no").focus();
                                    error_code=1;
                                    return false;
                            }
                        
                         if(error_code != 1)
                {
                  
                document.getElementById("error_icpdeposits").innerHTML = "";
                var icp_store_name = escape(icp_store_name);
                
                  var path = "icp_store_name="+icp_store_name
                            +"&payment_mode="+payment_mode+"&payment_date="+payment_date+
                "&payment_amount="+payment_amount+"&security_deposit="+security_deposit+"&bank_name="+bank_name
        +"&chdd_no="+chdd_no+"&issue_date="+issue_date+"&depos_cat="+depos_cat+"&mobile_no="+mobile_no+"&last_name="+last_name
+"&first_name="+first_name;
        
                    $("#insert_dep_new").load("inserticpdepositnew.php",path);
        
        
                 return true;
                }
}

function searchicpdeposit()
    {
        var url = "searchicpdeposit.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICPDEPOSIT";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
         
    }
    function showpmfields(payment_type)
    { 
        if(payment_type == "DD" || payment_type == "Cheque" || payment_type == "NEFT" || payment_type == "RTGS" || payment_type == "IMPS" || payment_type == "ONLINE")
            {
                $('#chqordd').show();
                $('#chqordd1').show();
                $(".bankdd").show();
            }
            
                else if(payment_type == "Cash")
                    {
                     
                        $('#chqordd').hide(); 
                        $('#chqordd1').hide();
                        $(".bankdd").hide();
                    }
        
        
    }
    
    function searchdepdetails()
    {
        var store_name = $("#store_name").val();
        var payment_date = $("#search_payment_date").val();
        var payment_mode = $("#payment_mode").val();
        var status = $("#status").val();
        
        var first_name = $("#first_name").val();
        var last_name = $("#last_name").val();
        var mobile_no = $("#mobile_no").val();
        
        
        var path = "store_name="+store_name
                            +"&payment_date="+payment_date+"&payment_mode="+payment_mode+
                "&status="+status+"&first_name="+first_name+"&last_name="+last_name+
                "&mobile_no="+mobile_no;
        
                    $("#alter").load("searchdepdetails.php",path);
        
    }
    function editicpdeposit(deposit_id,status)
    {
         var url = "editicpdeposit.php";
            var path = "deposit_id="+deposit_id+"&status="+status;
            var divid = "#popup_billprocess";
            var width = 1000;
            var height = 600;
            var title = "Edit KCP Deposits";
         <?php   
          $access = "edit";
          $objects = "ICPDEPOSIT";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
         
    }
    function showcmnts(deposit_bank)
    {
        if(deposit_bank == "Yes")
        {
         $("#deposit_det").show();
        }
        else
        {
           $("#deposit_det").hide();  
        }
    }
    function generateoid(clearence_status)
    {
       if(clearence_status == "Cleared")
        {
         $("#gener_p_id").show();
        }
        else
        {
           $("#gener_p_id").hide();  
        } 
    }
    function updateicp_ops_deposit(deposit_id)
    {
       var icp_store_name = $("#icp_store_name").val();
        var payment_mode = $("#payment_mode1").val();
        
        var payment_date = $("#payment_date").val();
        var payment_amount = $("#payment_amount").val();
         var security_deposit = $("#security_deposit").val();
         
         var bank_name = $("#bank_name").val();
         var chdd_no = $("#chdd_no").val();
         var issue_date = $("#issue_date").val(); 
         var depos_cat = $("#depos_cat").val(); 
           var first_name = $("#first_name1").val();
     var last_name = $("#last_name1").val();
      var mobile_no = $("#mobile_no1").val();
        
         var error_code = 0;
   var tot_percpattern = /^[0-9 .]+$/;   
    var mob_pattern = /^[0-9]+$/;   
           if(trim(icp_store_name).length == 0)
            {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter Store Name";
                    document.getElementById("icp_store_name").focus();
                    error_code=1;
                    return false;
            }
            if(trim(payment_mode).length == 0)
            {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Select Payment Mode";
                    document.getElementById("payment_mode").focus();
                    error_code=1;
                    return false;
            }
            if(trim(depos_cat).length == 0)
            {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Select Deposit Category";
                    document.getElementById("depos_cat").focus();
                    error_code=1;
                    return false;
            }
            if(trim(payment_date) == "0000-00-00")
            {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Select Payment date";
                    document.getElementById("payment_date").focus();
                    error_code=1;
                    return false;
            }
            if(trim(payment_amount).length == 0)
            {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter Valid Amount";
                    document.getElementById("payment_amount").focus();
                    error_code=1;
                    return false;
            }
            if(!payment_amount.match(tot_percpattern))
                        {
                                document.getElementById("error_icpdeposits").innerHTML = "Please Enter Valid Amount";
                                document.getElementById("payment_amount").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(first_name).length == 0)
                            {
                                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter First Name";
                                    document.getElementById("first_name").focus();
                                    error_code=1;
                                    return false;
                            }
                             if(trim(last_name).length == 0)
                            {
                                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter Last Name";
                                    document.getElementById("last_name").focus();
                                    error_code=1;
                                    return false;
                            }
                            if(trim(mobile_no).length == 0)
                            {
                                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter Valid Phone Number";
                                    document.getElementById("mobile_no").focus();
                                    error_code=1;
                                    return false;
                            }
                            if(!mobile_no.match(mob_pattern))
                            {
                                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter Valid Phone Number";
                                    document.getElementById("mobile_no").focus();
                                    error_code=1;
                                    return false;
                            }
                        
                        if(error_code != 1)
                {
                  
                document.getElementById("error_icpdeposits").innerHTML = "";
                var icp_store_name = escape(icp_store_name);
                
                  var path = "icp_store_name="+icp_store_name
                            +"&payment_mode="+payment_mode+"&payment_date="+payment_date+
                "&payment_amount="+payment_amount+"&security_deposit="+security_deposit+"&bank_name="+bank_name
        +"&chdd_no="+chdd_no+"&issue_date="+issue_date+"&deposit_id="+deposit_id+"&depos_cat="+depos_cat
+"&mobile_no="+mobile_no+"&last_name="+last_name
+"&first_name="+first_name;
        
                    $("#update_dep_new").load("updateicp_ops_deposit.php",path);
        
        
                 return true;
                }
    }
    
    function updateicp_dep_deposit(deposit_id)
    {
        var acc_status = $("#acc_status").val();
        var crsverf_status = $("#crsverf_status").val();
        var crsverf_status_cmnts = $("#crsverf_status_cmnts").val();
         var accst_comments = $("#accst_comments").val();
        var deposit_bank = $("#deposit_bank").val();
        var deposit_date = $("#deposit_date").val();
         var bank_name = $("#deposit_bank_name").val();
       
         
          var error_code = 0;
   var tot_percpattern = /^[0-9 .]+$/;           
           if(trim(deposit_bank).length == 0)
            {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Select  Deposited To Bank Or Not";
                    document.getElementById("deposit_bank").focus();
                    error_code=1;
                    return false;
            }
            if(deposit_bank == "Yes")
                {
                   if(trim(deposit_date) == "0000-00-00")
                    {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter Deposit date";
                    document.getElementById("deposit_date").focus();
                    error_code=1;
                    return false;
                 }
                 if(trim(bank_name).length == 0)
                {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Enter Bank Name";
                    document.getElementById("deposit_bank_name").focus();
                    error_code=1;
                    return false;
                }
                }
                
                if(error_code != 1)
                {
                 
         var bank_name = escape(bank_name);
         var crsverf_status_cmnts = escape(crsverf_status_cmnts);
         var accst_comments = escape(accst_comments);
                document.getElementById("error_icpdeposits").innerHTML = "";
               
                
                  var path = "acc_status="+acc_status
                            +"&crsverf_status="+crsverf_status+"&deposit_bank="+deposit_bank+
                "&deposit_date="+deposit_date+"&bank_name="+bank_name+"&deposit_id="+deposit_id
                +"&crsverf_status_cmnts="+crsverf_status_cmnts+"&accst_comments="+accst_comments;
        
                    $("#update_dep_new").load("updateicp_dep_deposit.php",path);
        
        
                 return true;
                }
         
    }
    function generatepaymentid()
    {
        $("#update_dep_new").load("generatepaymentid.php");
    }
    function updateicp_clr_deposit(deposit_id)
    {
         var clearence_status = $("#clearence_status").val();
        var clearence_cmnts = $("#clearence_cmnts").val();
       var  error_code=0;
        var payment_id = $("#payment_id").val();
        if(trim(clearence_status).length == 0)
            {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Select  Clearence Status";
                    document.getElementById("clearence_status").focus();
                    error_code=1;
                    return false;
            }
            if(clearence_status == "Cleared")
                {
                    if(trim(payment_id).length == 0)
            {
                    document.getElementById("error_icpdeposits").innerHTML = "Please Click On Generate Payment Id";
                    document.getElementById("payment_id").focus();
                    error_code=1;
                    return false;
            }
                }
                
                if(error_code != 1)
                {
                 
         var clearence_status = $("#clearence_status").val();
        var clearence_cmnts = $("#clearence_cmnts").val();
       var  error_code=0;
        var payment_id = $("#payment_id").val();
        
        
         var clearence_cmnts = escape(clearence_cmnts);
                document.getElementById("error_icpdeposits").innerHTML = "";
                
                
                  var path = "clearence_status="+clearence_status
                            +"&clearence_cmnts="+clearence_cmnts+"&payment_id="+payment_id+"&deposit_id="+deposit_id;
        
                    $("#update_dep_new").load("updateicp_clr_deposit.php",path);
        
        
                 return true;
                }
         
    }
    function getpaymentid()
    {
        
                                  
                                        $("#popup_billprocess").dialog({
                                    width: 1100,
                                    title: 'ICP Payment Ids',
                                    height: 600,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_billprocess").load("getpaymentids.php");

                                    }

                                });
    }
    function getreferenceid()
    {
        
                                  
                                        $("#popup_billprocess").dialog({
                                    width: 1100,
                                    title: 'ICP Payment Ids',
                                    height: 600,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_billprocess").load("getreferenceids.php");

                                    }

                                });
    }
    function throughpayid(payid,deposit_id)
    {
        
        $('#hidpaym_id').attr('value',payid);
        $('#hiddepos_id').attr('value',deposit_id);
    }
    function throughreferid(payid,deposit_id)
    {
         $('#hidpaym_id1').attr('value',payid);
        $('#hiddepos_id1').attr('value',deposit_id);
    }
    function selectpaymentid()
    {
        var paym_id = $("#hidpaym_id").val();
        var hiddepos_id = $("#hiddepos_id").val();
        
        $('#payment_id').attr('value',paym_id);
        $('#hiddeposit_id').attr('value',hiddepos_id);
        $("#popup_billprocess").dialog('close');    
        
    }
    function selectreferid()
    {
        var paym_id = $("#hidpaym_id1").val();
        var hiddepos_id = $("#hiddepos_id1").val();
       
       $("#remarks_crdlimt").val($("#remarks_crdlimt").val() + paym_id);
   
        $('#refr_id').attr('value',hiddepos_id);
        $("#popup_billprocess").dialog('close');    
    }
    function flightorderdet(trans_id,order_id)
    {
         var url = "flightorderdetails.php?trans_id="+trans_id+"&order_id="+order_id;
                var win=window.open(url, '_blank');
                win.focus();
    }
    function ipexflightorderdet(trans_id,order_id)
    {
         var url = "ipexflightorderdetails.php?trans_id="+trans_id+"&order_id="+order_id;
                var win=window.open(url, '_blank');
                win.focus();
    }
    function loadsecuritydeposit(category,security_deposit)
    {
        if(category == "NewICP" ){
            $('#security_deposit').attr('value',security_deposit);
        }
        else {
            $('#security_deposit').attr('value',0);
        }
    }
    
    function showslabs(lcrid){
         $("#popup_billprocess").dialog({
                                    width: 1200,
                                    title: 'Bill Payment Slabs',
                                    height: 600,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_billprocess").load("getbillslabs.php?lcrid="+lcrid);

                                    }

                                });
    }
    function editslabs(slabid)
        { 
            var slabid;
             $("#edit_slabs"+slabid).hide();
            $("#update_slabs"+slabid).show();
            $("#start_slab"+slabid).removeAttr("disabled");
            $("#end_slab"+slabid).removeAttr("disabled");
            $("#fixed_fee"+slabid).removeAttr("disabled");
            $("#perc_fee"+slabid).removeAttr("disabled");
            $("#discount_fixed_fee"+slabid).removeAttr("disabled");
            $("#discount_perc_fee"+slabid).removeAttr("disabled");
            
        
        }
        function updateslabs(slabid)
        { 
            var slabid;
              var  start_slab= $("#start_slab"+slabid).val();
           var  end_slab= $("#end_slab"+slabid).val();
          var  fixed_fee=$("#fixed_fee"+slabid).val();
           var  perc_fee=$("#perc_fee"+slabid).val();
            var  discount_fixed_fee=$("#discount_fixed_fee"+slabid).val();
           var  discount_perc_fee=$("#discount_perc_fee"+slabid).val();
          
       //alert(vendorname);
          //alert(operator);
         //var path = "savebillslabs.php?slabid="+slabid+"&start_slab="+start_slab+"&end_slab="+end_slab+"&fixed_fee="+fixed_fee+"&perc_fee="+perc_fee;
         $("#save_slabs").load("savebillslabs.php?slabid="+slabid+"&start_slab="+start_slab+"&end_slab="+end_slab+"&fixed_fee="+fixed_fee+"&perc_fee="+perc_fee+"&discount_fixed_fee="+discount_fixed_fee+"&discount_perc_fee="+discount_perc_fee)
        }
                  function ARreport()
    {
 var url = "searchARreport.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "AC RECEIVABLES";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        

    }
      function ARreportresult()
    {

        var trans_date =$("#trans_date").val();
        var icp_id = $("#icp_id").val();
         var icc_id =$("#ICC_id").val();
        var bg_id = $("#BG_id").val();
        var icp_status =$("#icp_status").val();
           $('#bus_rec').attr('value', 'Searching');
        var path = "trans_date="+trans_date+"&icp_id="+icp_id+"&icc_id="+icc_id+"&bg_id="+bg_id+"&icp_status="+icp_status;
        $('#alter').load("searchARreportresult.php",path);
        
            
    } 
                     function APreport()
    {
var url = "searchAPreport.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "AC PAYABLES";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
         }
      function APreportresult()
    {

        var trans_date =$("#trans_date").val();
        var icp_id = $("#icp_id").val();
         var icc_id =$("#ICC_id").val();
      
        var icp_status =$("#icp_status").val();
           $('#bus_rec').attr('value', 'Searching');
        var path = "trans_date="+trans_date+"&icp_id="+icp_id+"&icc_id="+icc_id+"&icp_status="+icp_status;
        $('#alter').load("searchAPreportresult.php",path);
        
            
    } 
    

function myChanged(){
	var start_date = document.getElementById("start_date").value;
        var pay_type = document.getElementById("payout_type").value;
        var hid_end_date = document.getElementById("hid_end_date").value;
        
         
        
        
        
       
        if(pay_type == "Monthly")
            {
                                                           
                 var no_mnths = $("#no_mnths").val();
                    $(".mnthly_cycles").show();
                 var path = "start_date="+start_date+"&pay_type="+pay_type+"&no_mnths="+no_mnths;
                 
                 $.ajax({
                    type: 'post',
                    url: 'changepbenddate.php',
                    data: path,
                    async:true,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                       $('#end_date_slect').html(result);
                       
                     
                    }

                });
        
                 
                //$('#end_date_slect').load("changepbenddate.php",path);
                
            }
            else
                {
                        $(".mnthly_cycles").hide();
                    var path = "hid_end_date="+hid_end_date;
                    $.ajax({
                    type: 'post',
                    url: 'loadpbenddate.php',
                    data: path,
                    async:true,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      $('#end_date_slect').load("loadpbenddate.php", path);
                 
                    }

                });
                   
                }
            
}
function myChanged_add(){
	var start_date = document.getElementById("start_date").value;
        var pay_type = document.getElementById("payout_type").value;
        
        if(pay_type == "Monthly")
            {
                var no_mnths = $("#no_mnths").val();
                $(".mnthly_cycles").show();
                 var path = "start_date="+start_date+"&pay_type="+pay_type+"&no_mnths="+no_mnths;
                 
                 $.ajax({
                    type: 'post',
                    url: 'changepbenddate.php',
                    data: path,
                    async:true,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                    $('#end_ch_date').load("changepbenddate.php",path);
                   
                    }

                });
                
              
                
            }
            else
                {
                       $(".mnthly_cycles").hide();
                    
                      $.ajax({
                    type: 'post',
                    url: 'loadpbenddate.php',
                    data: path,
                    async:true,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      $('#end_date_slect').load("loadpbenddate.php");
                      
                    }

                });
                }
            
}
function creditlimitrevisions(retailerid){
         $("#popup_billprocess").dialog({
                                    width: 1200,
                                    title: 'Credit Limit Details',
                                    height: 600,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_billprocess").load("retailercreditlimitdetails.php?retailerid="+retailerid);

                                    }

                                });
    }
    function updateclientwallet(id,clientid)
    {
            $("#update_wallet1").dialog({
                                    width: 600,
                                    title: 'Wallet Updation Processing',
                                    height: 350,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {
                                         
                         
                         

                                        $("#update_wallet1").load("updateclientwallet.php?id="+id+"&clientid="+clientid);

                                    }

                                });
    }
    function updateclient_wallet_status(id,clientid)
    {
         var status = $("#change_status").val();
         var remarks = $("#remarks").val();
         var approved_by = $("#approved_by").val();
         var error_code = 0;
         if(trim(status).length == 0)
                        {
                                document.getElementById("error_wallet_status").innerHTML = "Please Select Status";
                                document.getElementById("change_status").focus();
                                error_code=1;
                                return false;
                        }
                        if(trim(remarks).length == 0)
                        {
                                document.getElementById("error_wallet_status").innerHTML = "Please Enter Remarks";
                                document.getElementById("remarks").focus();
                                error_code=1;
                                return false;
                        }
                        
            
            if(error_code != 1)
                {
                     $('#btn_wallet_status').attr('disabled','disabled');
                             $('#btn_wallet_status').attr('value','Submitted');
                             
                document.getElementById("error_wallet").innerHTML = "";
                
                remarks = escape(remarks);
               $("#updatewallet").load("updateclientwalletstatus.php?id="+id+"&clientid="+clientid+"&status="+status+"&remarks="+remarks+"&approved_by="+approved_by);
                return true;
                }
       
    }
    function paymenthistory(wallettype,id,nameofvc,selected){
         
         $("#vendor_history").load("paymenthistory.php?wallettype="+wallettype+"&id="+id+"&nameofvc="+nameofvc+"&selected="+selected);
    }
    function loadenqdetails(salesenqoption)
    {
        if(salesenqoption == "new")
            {
                $("#salesenq_serch_dets").load("salesenqsearchdetails.php?salesenqoption="+salesenqoption); 
            }
            else if(salesenqoption == "Assigned"){
                 $("#salesenq_serch_dets").load("searchsalesenqdetails.php"); 
            }
       
    }
    function assignenquiry(id){
         //$("#enq_icc_id"+id).removeAttr("disabled");
       
        //$("#btnenq_assign"+id).hide();
        //$("#btnenq_save"+id).show();
        
         var path = "id="+id;
                              $("#assignenq_icc_popup").dialog({
                                    width: 600,
                                    title: 'Assign Enquiry to ICC',
                                    height: 350,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#assignenq_icc_popup").load("assignsalesenq.php", path);

                                    }

                                });
    }
    function assignenqtoicc(id){
    
       var icc_id = $("#enq_icc_id").val();
       
       var enq_comments =$("#enq_comments").val();
       var enq_comments = escape(enq_comments);
       var error_code = 0;
       if(trim(icc_id).length == 0)
                        {
                                alert("Please Selece ICC ID");
                                error_code=1;
                        }
                        if(trim(enq_comments).length == 0)
                            {
                                alert("Please Enter Comments");
                                error_code=1;
                            }
                            if(error_code != 1)
                {
                 $("#assigned_icc").load("assignenqtoicc.php?icc_id="+icc_id+"&id="+id+"&comments="+enq_comments);
                }
    }
    function searchassignedenqdetails()
    {
        var enq_search_icc_id = $("#enq_search_icc_id").val(); 
        var enq_search_icc_name = $("#enq_search_icc_name").val();
        $("#salesenq_serch_dets").load("searchassignedenqdetails.php?enq_search_icc_id="+enq_search_icc_id+"&enq_search_icc_name="+enq_search_icc_name);
    }
    function editenquiry(id)
    { 
         var path = "id="+id;
                              $("#popup_cmns").dialog({
                                    width: 1100,
                                    title: 'Edit Sales Enquiry',
                                    height: 700,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_cmns").load("editenquiry.php", path);

                                    }

                                });
    }
    function updateenquirydetails(id)
    {
        var a = $('#sales_enq_form_update').serialize();
       
                var enq_ph_no = $("#enq_ph_no").val();
                var uptenq_comments =$("#uptenq_comments").val();
                 var uptenq_comments =escape(uptenq_comments);
                var enq_daily_turnover = $("#enq_daily_turnover").val();
                var enq_shop_establishment = $("#enq_shop_establishment").val();
                var enq_status = $("#enq_status").val();
                var error_code = 0;
                var tot_percpattern = /^[0-9]+$/;
                var double_pattern = /^[0-9 .]+$/;
                
                 if(trim(enq_daily_turnover).length != 0)
                {
                        if(!enq_daily_turnover.match(double_pattern))
                        {
                                document.getElementById("errormessageenquiry").innerHTML = "Please Enter Valid Amount";
                                document.getElementById("enq_daily_turnover").focus();
                                error_code=1;
                                return false;
                        }
                }
                if(trim(enq_shop_establishment).length != 0)
                {
                        if(!enq_shop_establishment.match(double_pattern))
                        {
                                document.getElementById("errormessageenquiry").innerHTML = "Please Enter Valid no Of years";
                                document.getElementById("enq_shop_establishment").focus();
                                error_code=1;
                                return false;
                        }
                }
                 if(trim(enq_ph_no).length == 0)
                {
                        document.getElementById("errormessageenquiry").innerHTML = "Please Enter Phone Number";
                        document.getElementById("enq_ph_no").focus();
                        error_code=1;
                        return false;
                }
                if(!enq_ph_no.match(tot_percpattern))
                        {
                                document.getElementById("errormessageenquiry").innerHTML = "Please Enter Valid Phone Number";
                                document.getElementById("enq_ph_no").focus();
                                error_code=1;
                                return false;
                        }
                        
                if(trim(uptenq_comments).length == 0)
                {
                        document.getElementById("errormessageenquiry").innerHTML = "Please Enter Comments";
                        document.getElementById("uptenq_comments").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(enq_status).length == 0)
                {
                        document.getElementById("errormessageenquiry").innerHTML = "Please Select Status";
                        document.getElementById("enq_status").focus();
                        error_code=1;
                        return false;
                }
                  if(error_code != 1)
                             {
                               $('#button_sales_enq').attr('disabled','disabled');
                                $('#button_sales_enq').attr('value', 'Updated');
                                     document.getElementById("errormessageenquiry").innerHTML = "";
                                    
                                        $('#update_enq_details').load("updateenquirydetails.php?id="+id,a);
                                    return true;
                                 
                                    }
                                    else{
                                        $("#button_sales_enq").removeAttr("disabled");
                                     $('#button_sales_enq').attr('value', 'Update');
                                    }
    }
    function searchacclosure()
    {
         var url = "searchicpforclosure.php";
                    var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                       $objects = "ICP CLOSURE";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
    }
    function loadicpsforclosure()
    {
                    $().ready(function() {
   
    $('#search_icp_id_closure').autocomplete({source:'loadicpsforclosure.php',
        minLength:2,
       
       
    });
});
    } 
    function loadicpsforAssets(asset_type){
        if(asset_type == "Sim"){
            $().ready(function() {
   
    $('#assigned_to').autocomplete({source:'loadicpsforassets.php?asset_type='+asset_type,
        minLength:2,
       
       
    });
});
        }
        else if(asset_type == "SimSearch"){
             $().ready(function() {
   
    $('#search_icp_id').autocomplete({source:'loadicpsforassets.php?asset_type='+asset_type,
        minLength:2,
       
       
    });
});
        }
        else if(asset_type == "Printer"){
             $().ready(function() {
   
    $('#printer_assigned_to').autocomplete({source:'loadicpsforassets.php?asset_type='+asset_type,
        minLength:2,
       
       
    });
});
        }
        else if(asset_type == "PrinterSearch"){
             $().ready(function() {
   
    $('#search_icp_id_printer').autocomplete({source:'loadicpsforassets.php?asset_type='+asset_type,
        minLength:2,
       
       
    });
});
        }
        else if(asset_type == "Stands"){
             $().ready(function() {
   
    $('#stand_assigned_to').autocomplete({source:'loadicpsforassets.php?asset_type='+asset_type,
        minLength:2,
       
       
    });
});
        }
        else if(asset_type == "standSearch"){
             $().ready(function() {
   
    $('#search_icp_id_stand').autocomplete({source:'loadicpsforassets.php?asset_type='+asset_type,
        minLength:2,
       
       
    });
});
        }
        
        else if(asset_type == "rolls"){
             $().ready(function() {
   
    $('#rolls_assigned_to').autocomplete({source:'loadicpsforassets.php?asset_type='+asset_type,
        minLength:2,
       
       
    });
});
        }
        else if(asset_type == "rollsearch"){
             $().ready(function() {
   
    $('#search_icp_id_rolls').autocomplete({source:'loadicpsforassets.php?asset_type='+asset_type,
        minLength:2,
       
       
    });
});
        }
        else if(asset_type == "DeviceSearch"){
             $().ready(function() {
   
    $('#search_icp_id_device').autocomplete({source:'loadicpsforassets.php?asset_type='+asset_type,
        minLength:2,
       
       
    });
});
        }
        else if(asset_type == "ICPDevice"){
             if(document.getElementById('user_icc').checked) {
               var user1 = "ICC";
               asset_type = "ICCDevice";
             }else if(document.getElementById('user_icp').checked) {
                   var user1 = "ICP";
                   asset_type = "ICPDevice";
                   var device_type = $("#device_type").val();
             }
             else if(document.getElementById('user_SalesAgent').checked) 
                 {
                      var user1 = "SalesDevice";
                 }
                 
             $().ready(function() {
   
    $('#texid').autocomplete({source:'loadicpsforassets.php?asset_type='+asset_type+'&device_type='+device_type,
        minLength:2,
       
       
    });
});
        }
         else if(asset_type == "Miniatm"){
             $().ready(function() {
  
    $('#miniatm_assigned_to').autocomplete({source:'loadicpsforassets.php?asset_type='+asset_type,
        minLength:2,
      
      
    });
});
        }
       
         else if(asset_type == "MiniatmSearch"){
             $().ready(function() {
  
    $('#search_miniatm_assg').autocomplete({source:'loadicpsforassets.php?asset_type='+asset_type,
        minLength:2,
      
      
    });
});
        }
         
    }
    function searchicpdetsforclosure(){
        var error_code=0;
        
        var search_icp_id_closure = $("#search_icp_id_closure").val();
        if(trim(search_icp_id_closure).length == 0)
                {
                        document.getElementById("error_message_icpclosure").innerHTML = "Please Enter ICP ID to Search";
                        document.getElementById("search_icp_id_closure").focus();
                        error_code=1;
                        return false;
                }
          if(error_code != 1)
                             {
                               
                                     document.getElementById("error_message_icpclosure").innerHTML = "";
                                    
                                        $('#alter').load("searchclosuredetails.php?search_icp_id_closure="+search_icp_id_closure);
                                    return true;
                                 
                                    }
        
    }
    function updateclosericp(icp_id)
    {
         var chequeno_icp_closer = $("#chequeno_icp_closer").val();
                var cheque_date =$("#cheque_date").val();
                 
                var amount_icp_closer = $("#amount_icp_closer").val();
                var bank_icp_closer = $("#bank_icp_closer").val();
                var payment_clearence = $("#payment_clearence").val();
                var error_code = 0;
                
                
                var double_pattern = /^[0-9 .]+$/;
                
                
                
                if(trim(chequeno_icp_closer).length == 0)
                {
                        document.getElementById("error_msg_icp_closr_updat").innerHTML = "Please Enter Cheque Number";
                        document.getElementById("chequeno_icp_closer").focus();
                        error_code=1;
                        return false;
                }
                if(trim(cheque_date) == "0000-00-00")
                {
                        document.getElementById("error_msg_icp_closr_updat").innerHTML = "Please Select Cheque Date";
                        document.getElementById("cheque_date").focus();
                        error_code=1;
                        return false;
                }
                if(trim(amount_icp_closer).length == 0)
                {
                        document.getElementById("error_msg_icp_closr_updat").innerHTML = "Please Enter Amount";
                        document.getElementById("amount_icp_closer").focus();
                        error_code=1;
                        return false;
                }
                if(!amount_icp_closer.match(double_pattern))
                        {
                                document.getElementById("error_msg_icp_closr_updat").innerHTML = "Please Enter Valid Amount";
                                document.getElementById("amount_icp_closer").focus();
                                error_code=1;
                                return false;
                        }
                if(trim(bank_icp_closer).length == 0)
                {
                        document.getElementById("error_msg_icp_closr_updat").innerHTML = "Please Enter Bank Name";
                        document.getElementById("bank_icp_closer").focus();
                        error_code=1;
                        return false;
                }
                 if(document.getElementById('noc_filled_yes').checked) {
               var noc_filled = "Yes";
             }else if(document.getElementById('noc_filled_no').checked) {
                   var noc_filled = "No";
             }
             else{
                 document.getElementById("error_msg_icp_closr_updat").innerHTML = "Please Select NOC Filled Status";
                        document.getElementById("noc_filled_yes").focus();
                        error_code=1;
                        return false;
             }
             
               if(error_code != 1)
                             {
                             
                           
                             
                             var url = "updateicpclosurestatus.php";
                    var path = "chequeno_icp_closer="+chequeno_icp_closer
                                                +"&cheque_date="+cheque_date+"&amount_icp_closer="+amount_icp_closer
                                    +"&bank_icp_closer="+bank_icp_closer+"&noc_filled="+noc_filled+"&payment_clearence="+payment_clearence+"&icp_id="+icp_id;
                        var divid = "#update_icp_closure_dets";
                      <?php   
                       $access = "edit";
                       $objects = "ICP CLOSURE";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                             
                                     document.getElementById("error_msg_icp_closr_updat").innerHTML = "";
                                    
                                       
                                    return true;
                                 
                                    }
    }
     function loadSimRegistration()
    {
                    var url = "addsimdetails.php";
                           var path= "";
                             var divid = "#alter";
                          <?php   
                           $access = "create";
                           $objects = "SIMS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        

    }
    function shownewsimdetails(){
         
    
                      
    var operator_sim1 =  $("#operator_sim").val();
       var operator_plan1 =  $("#operator_plan").val();
       var plan_description =  $("#plan_description").val();
       var error_code = 0;
        if(trim(operator_sim1).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Select Operator";
                        document.getElementById("operator_sim").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(operator_plan1).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Select Plan";
                        document.getElementById("operator_plan").focus();
                        error_code=1;
                        return false;
                }
                if(trim(plan_description).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Enter Plan Description";
                        document.getElementById("plan_description").focus();
                        error_code=1;
                        return false;
                }
                if(operator_sim1 == "OTHERS"){
                   var operator_sim_name = $("#operator_sim_name").val();
                   if(trim(operator_sim_name).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Enter Operator Name";
                        document.getElementById("operator_sim_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(operator_plan1 == "OTHERS"){
                   var operator_plan_name = $("#operator_plan_name").val();
                   if(trim(operator_plan_name).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Enter Operator Name";
                        document.getElementById("operator_plan_name").focus();
                        error_code=1;
                        return false;
                }
                }
                 if(operator_sim1 == "OTHERS"){
                    var operator_sim = $("#operator_sim_name").val();
                }
                else{
                    var operator_sim = operator_sim1;
                }
                if(operator_plan1 == "OTHERS"){
                    var operator_plan = $("#operator_plan_name").val();
                }
                else{
                    var operator_plan = operator_plan1;
                }
                if(error_code != 1)
                             {
                                 if(operator_sim1 == "OTHERS" || operator_plan1 == "OTHERS"){
                                    
                                 
                                  $('#add_sim_operator_btn').attr('disabled','disabled');
                                $('#add_sim_operator_btn').attr('value','Added');
                                  plan_description = escape(plan_description);
                                  operator_sim = escape(operator_sim);
                                 operator_plan = escape(operator_plan);
                                      document.getElementById("error_sim_details_add").innerHTML = "";
                                  $("#add_sim_details1").show();
                                   $('#insert_sim_details').load("insertsimoperatordetails.php?operator_sim="+operator_sim
                                                  +"&operator_plan="+operator_plan +"&plan_description="+plan_description  );
                                          }
                                          else{
                                               document.getElementById("error_sim_details_add").innerHTML = "";
                                         $("#add_sim_details1").show();
                                          }
                             }
                    }

    function loadsimothers(operator_sim){
         operator_sim = escape(operator_sim);
        if(operator_sim == "OTHERS"){
                    $("#operator_sim_name").show();
                    $('#loadsimpoperatorplans').load("loadsimpoperatorplans.php?operator_name="+operator_sim);
                }
                else{
                    $("#operator_sim_name").hide();
                    $("#operator_plan").removeAttr("disabled");
                    $('#loadsimpoperatorplans').load("loadsimpoperatorplans.php?operator_name="+operator_sim);
                }
    }
    function loadplanothers(operator_plan){
        var operator_sim =  $("#operator_sim").val();
        operator_sim = escape(operator_sim);
        operator_plan = escape(operator_plan);
        
        if(operator_plan == "OTHERS"){
                    $("#operator_plan_name").show();
                    $('#load_plan_desc').load("loadplandesc.php?operator_name="+operator_plan+"&operator_sim="+operator_sim);
                }
                else{
                    $("#operator_plan_name").hide();
                    $('#load_plan_desc').load("loadplandesc.php?operator_name="+operator_plan+"&operator_sim="+operator_sim);
                }
                
    }
    function savesimdetails(){
         var operator_sim =  $("#operator_sim").val();
       var operator_plan =  $("#operator_plan").val();
       var plan_description =  $("#plan_description").val();
       
                
                var sim_no =$("#sim_no").val();
                 
                var sim_mobile_no = $("#sim_mobile_no").val();
                var assigned_to = $("#assigned_to").val();
                var sim_status = $("#sim_status").val();
                var error_code = 0;
                
                var double_pattern = /^[0-9 .]+$/;
                $('#addsim_color_scss').attr('color','red');
                
                if(trim(sim_no).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Enter Sim Number";
                        document.getElementById("sim_no").focus();
                        error_code=1;
                        return false;
                }
                if(trim(sim_mobile_no).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Enter Mobile Number";
                        document.getElementById("sim_mobile_no").focus();
                        error_code=1;
                        return false;
                }
                if(!sim_mobile_no.match(double_pattern))
                        {
                                document.getElementById("error_sim_details_add").innerHTML = "Please Enter Valid Mobile Number";
                                document.getElementById("sim_mobile_no").focus();
                                error_code=1;
                                return false;
                        }
                if(trim(sim_status).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Select Status";
                        document.getElementById("sim_status").focus();
                        error_code=1;
                        return false;
                }
                if(sim_status == "ICP"){
                    if(trim(assigned_to).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Enter Assigned To";
                        document.getElementById("assigned_to").focus();
                        error_code=1;
                        return false;
                }
                }
                if(operator_sim == "OTHERS"){
                    var operator_sim = $("#operator_sim_name").val();
                }
                if(operator_plan == "OTHERS"){
                    var operator_plan = $("#operator_plan_name").val();
                }
                if(error_code != 1)
                             {
                             
                             $('#btn_save_sim_dets').attr('disabled','disabled');
                             $('#btn_save_sim_dets').attr('value','Submitted');
                             plan_description = escape(plan_description);
                              operator_plan = escape(operator_plan);
                               operator_sim = escape(operator_sim);
                                     document.getElementById("error_sim_details_add").innerHTML = "";
                                    
                                        $('#insert_sim_details').load("insertsimdetails.php?operator_sim="+operator_sim
                                                +"&sim_no="+sim_no+"&sim_mobile_no="+sim_mobile_no
                                    +"&sim_status="+sim_status+"&assigned_to="+assigned_to+"&operator_sim="+operator_sim
                      +"&operator_plan="+operator_plan +"&plan_description="+plan_description  );
                                    return true;
                                 
                                    }
    }
    function searchreversalorders(){
         var url = "searchreversalorders.php";
                    var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                       $objects = "REVERSAL ORDERS";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
          
    }
    function searchreversalorderdetails()
    {
         var reversal_type = $("#reversal_type").val();
                var date_type =$("#date_type").val();
                 
                var from_date = $("#from_date").val();
                var to_date = $("#to_date").val();
                var order_search_id = $("#order_search_id").val();
                var  order_search_id = escape(order_search_id);
                 $('#alter').load("searchreversalorderdetails.php?reversal_type="+reversal_type
                                                +"&date_type="+date_type+"&from_date="+from_date
                                    +"&to_date="+to_date+"&order_search_id="+order_search_id);
    }
    function searchSim()
    {
 var url = "searchsim.php";
                           var path= "";
                             var divid = "#alter";
                          <?php   
                           $access = "search";
                           $objects = "SIMS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        
      

    }
    function searchsimdetails(){
        var search_operator_sim = escape($("#search_operator_sim").val());
                var search_sim_no =$("#search_sim_no").val();
                 
                var search_mobile_no = $("#search_mobile_no").val();
                var search_icp_id = $("#search_icp_id").val();
                var search_sim_status = $("#search_sim_status").val();
                
         $('#alter').load("searchsimdetails.php?search_sim_no="+search_sim_no+"&search_mobile_no="+search_mobile_no
                                    +"&search_icp_id="+search_icp_id+"&search_sim_status="+search_sim_status);
    }
    function editSimdetails(sim_id){
        
                            var url = "editSimdetails.php";
                       var path = "sim_id="+sim_id;
                             var divid = "#popup_billprocess";
                             var width = 1100;
                             var height = 600;
                             var title = 'Edit Sim Details';
                          <?php   
                           $access = "edit";
                           $objects = "SIMS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
       
        
        
    }
    function updatesimdetails(sim_id){
         var operator_sim1 =  $("#operator_sim").val();
       var operator_plan1 =  $("#operator_plan").val();
       var plan_description =  $("#plan_description").val();
       
                
                var sim_no =$("#sim_no").val();
                 
                var sim_mobile_no = $("#sim_mobile_no").val();
                var assigned_to = $("#assigned_to").val();
                var sim_status = $("#sim_status").val();
                var error_code = 0;
                
                var double_pattern = /^[0-9 .]+$/;
                 $('#addsim_color_scss').attr('color','red');
                if(trim(operator_sim1).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Select Operator";
                        document.getElementById("operator_sim").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(operator_plan1).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Select Plan";
                        document.getElementById("operator_plan").focus();
                        error_code=1;
                        return false;
                }
                if(trim(plan_description).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Enter Plan Description";
                        document.getElementById("plan_description").focus();
                        error_code=1;
                        return false;
                }
                if(operator_plan1 == "OTHERS"){
                   var operator_sim_name = $("#operator_sim_name").val();
                   if(trim(operator_sim_name).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Enter Operator Name";
                        document.getElementById("operator_sim_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(operator_plan1 == "OTHERS"){
                   var operator_plan_name = $("#operator_plan_name").val();
                   if(trim(operator_plan_name).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Enter Operator Name";
                        document.getElementById("operator_plan_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(trim(sim_no).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Enter Sim Number";
                        document.getElementById("sim_no").focus();
                        error_code=1;
                        return false;
                }
                if(trim(sim_mobile_no).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Enter Mobile Number";
                        document.getElementById("sim_mobile_no").focus();
                        error_code=1;
                        return false;
                }
                if(!sim_mobile_no.match(double_pattern))
                        {
                                document.getElementById("error_sim_details_add").innerHTML = "Please Enter Valid Mobile Number";
                                document.getElementById("sim_mobile_no").focus();
                                error_code=1;
                                return false;
                        }
                if(trim(sim_status).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Select Status";
                        document.getElementById("sim_status").focus();
                        error_code=1;
                        return false;
                }
                if(sim_status == "ICP"){
                    if(trim(assigned_to).length == 0)
                {
                        document.getElementById("error_sim_details_add").innerHTML = "Please Enter Assigned To";
                        document.getElementById("assigned_to").focus();
                        error_code=1;
                        return false;
                }
                }
                if(operator_sim1 == "OTHERS"){
                    var operator_sim = $("#operator_sim_name").val();
                }
                else{
                    var operator_sim = operator_sim1;
                }
                if(operator_plan1 == "OTHERS"){
                    var operator_plan = $("#operator_plan_name").val();
                }
                else{
                    var operator_plan = operator_plan1;
                }
               
                if(error_code != 1)
                             {
                                  plan_description = escape(plan_description);
                             operator_plan = escape(operator_plan);
                             operator_sim = escape(operator_sim);
                                
                               if(operator_sim1 == "OTHERS" || operator_plan1 == "OTHERS"){
                                 
                               
                $('#update_sim_operator_details').load("insertsimoperatordetails.php?operator_sim="+operator_sim
                                                  +"&operator_plan="+operator_plan +"&plan_description="+plan_description  );
                                          }
                             $('#btn_update_sim_dets').attr('disabled','disabled');
                             $('#btn_update_sim_dets').attr('value','Updated');
                            
                                     document.getElementById("error_sim_details_add").innerHTML = "";
                                    
                                        $('#update_sim_details').load("updatesimdetails.php?operator_sim="+operator_sim
                                                +"&sim_no="+sim_no+"&sim_mobile_no="+sim_mobile_no
                                    +"&sim_status="+sim_status+"&assigned_to="+assigned_to
                      +"&operator_plan="+operator_plan +"&plan_description="+plan_description+"&sim_id="+sim_id  );
                                    return true;
                                 
                                    }
    }
      function loadPrinterRegistration()
    {
 var url = "addprinterdetails.php";
                           var path= "";
                             var divid = "#alter";
                          <?php   
                           $access = "create";
                           $objects = "PRINTERS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       

    }
    function shownewprinterdetails(){
       
                      
    var maker_printer1 =  $("#maker_printer").val();
       var model_printer1 =  $("#model_printer").val();
       
       var error_code = 0;
        if(trim(maker_printer1).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Select Maker";
                        document.getElementById("maker_printer").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(model_printer1).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Select Model";
                        document.getElementById("model_printer").focus();
                        error_code=1;
                        return false;
                }
                
                if(maker_printer1 == "OTHERS"){
                   var maker_printer_name = $("#maker_printer_name").val();
                   if(trim(maker_printer_name).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Enter Maker Name";
                        document.getElementById("maker_printer_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(model_printer1 == "OTHERS"){
                   var model_printer_name = $("#model_printer_name").val();
                   if(trim(model_printer_name).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Enter Printer Name";
                        document.getElementById("model_printer_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(maker_printer1 == "OTHERS"){
                    var maker_printer = $("#maker_printer_name").val();
                }
                else{
                    var maker_printer = maker_printer1;
                }
                if(model_printer1 == "OTHERS"){
                    var model_printer = $("#model_printer_name").val();
                }
                else{
                    var model_printer = model_printer1;
                }
               
                if(error_code != 1)
                             {
                                 if(maker_printer1 == "OTHERS" || model_printer1 == "OTHERS"){
                                    
                                 
                                  $('#printer_maker_btn').attr('disabled','disabled');
                                $('#printer_maker_btn').attr('value','Added');
                                maker_printer = escape(maker_printer);
                              model_printer = escape(model_printer);
                                  document.getElementById("error_print_details_add").innerHTML = "";
                                  $("#add_printer_details_fldset1").show();
                                   $('#insert_printer_details').load("insertprintermakerdetails.php?maker_printer="+maker_printer
                                                +"&model_printer="+model_printer );
                                          }
                                          else{
                                              document.getElementById("error_print_details_add").innerHTML = "";
                                  $("#add_printer_details_fldset1").show();
                                          }
                                  
                             }
                    
       
       
    }
    function loadmakerothers(maker_printer){
        maker_printer = escape(maker_printer);
        if(maker_printer == "OTHERS"){
                    $("#maker_printer_name").show();
                     $('#loadmodelsofmaker').load("loadmodelsofmaker.php?model_printer="+maker_printer);
                }
                else{
                    $("#maker_printer_name").hide();
                    $('#loadmodelsofmaker').load("loadmodelsofmaker.php?model_printer="+maker_printer);
                }
    }
    function loadmodelothers(model_printer){
         
        if(model_printer == "OTHERS"){
                    $("#model_printer_name").show();
                    
                }
                else{
                    $("#model_printer_name").hide();
                    
                }
    }
     function saveprinterdetails(){
        var maker_printer =  $("#maker_printer").val();
       var model_printer =  $("#model_printer").val();
      
                
                var serial_no =$("#serial_no").val();
                 
                var assigned_to = $("#printer_assigned_to").val();
                var printer_status = $("#printer_status").val();
                
                var error_code = 0;
                
                var double_pattern = /^[0-9 .]+$/;
                $('#addprinter_color_scss').attr('color','red');
                if(trim(maker_printer).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Select Maker";
                        document.getElementById("maker_printer").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(model_printer).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Select Model";
                        document.getElementById("model_printer").focus();
                        error_code=1;
                        return false;
                }
                
                if(maker_printer == "OTHERS"){
                   var maker_printer_name = $("#maker_printer_name").val();
                   if(trim(maker_printer_name).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Enter Maker Name";
                        document.getElementById("maker_printer_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(model_printer == "OTHERS"){
                   var model_printer_name = $("#model_printer_name").val();
                   if(trim(model_printer_name).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Enter Printer Name";
                        document.getElementById("model_printer_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(trim(serial_no).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Enter Serial Number";
                        document.getElementById("serial_no").focus();
                        error_code=1;
                        return false;
                }
                
                
                if(trim(printer_status).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Select Status";
                        document.getElementById("printer_status").focus();
                        error_code=1;
                        return false;
                }
                if(printer_status == "ICP"){
                    if(trim(assigned_to).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Enter Assigned To";
                        document.getElementById("printer_assigned_to").focus();
                        error_code=1;
                        return false;
                }
                }
                if(maker_printer == "OTHERS"){
                  var maker_printer=  $("#maker_printer_name").val();
                   
                }
                if(model_printer == "OTHERS"){
                    var model_printer = $("#model_printer_name").val();
                }
                if(error_code != 1)
                             {
                            
                             $('#btn_save_printer_dets').attr('disabled','disabled');
                             $('#btn_save_printer_dets').attr('value','Submitted');
                             serial_no = escape(serial_no);
                               maker_printer = escape(maker_printer);
                               model_printer = escape(model_printer);
                                     document.getElementById("error_print_details_add").innerHTML = "";
                                    
                                        $('#insert_printer_details').load("insertprinterdetails.php?maker_printer="+maker_printer
                                                +"&model_printer="+model_printer+"&serial_no="+serial_no
                                    +"&assigned_to="+assigned_to+"&printer_status="+printer_status  );
                                    return true;
                                 
                                    }
    }
    function searchPrinter()
    {
var url = "searchprinter.php";
                           var path= "";
                             var divid = "#alter";
                          <?php   
                           $access = "search";
                           $objects = "PRINTERS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        

    }
    function searchprinterdetails(){
        var search_serial_no = $("#search_serial_no").val();
                var search_maker_name =escape($("#search_maker_name").val());
                 
                var search_icp_id_printer = $("#search_icp_id_printer").val();
                
                var search_printer_status = $("#search_printer_status").val();
                
         $('#alter').load("searchprinterdetails.php?search_serial_no="+search_serial_no+"&search_maker_name="+search_maker_name
                                    +"&search_icp_id_printer="+search_icp_id_printer+"&search_printer_status="+search_printer_status);
    }
     function editPrinterdetails(printer_id){
          var url = "editPrinterdetails.php";
                        var path = "printer_id="+printer_id;
                             var divid = "#popup_billprocess";
                             var width = 1100;
                             var height = 600;
                             var title = 'Edit Printer Details';
                          <?php   
                           $access = "edit";
                           $objects = "PRINTERS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
         
        
    }
    function updateprinterdetails(printer_id){
          var maker_printer1 =  $("#maker_printer").val();
       var model_printer1 =  $("#model_printer").val();
      $('#addprinter_color_scss').attr('color','red');
                if(trim(maker_printer1).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Select Maker";
                        document.getElementById("maker_printer").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(model_printer1).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Select Model";
                        document.getElementById("model_printer").focus();
                        error_code=1;
                        return false;
                }
                
                if(maker_printer1 == "OTHERS"){
                   var maker_printer_name = $("#maker_printer_name").val();
                   if(trim(maker_printer_name).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Enter Maker Name";
                        document.getElementById("maker_printer_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(model_printer1 == "OTHERS"){
                   var model_printer_name = $("#model_printer_name").val();
                   if(trim(model_printer_name).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Enter Printer Name";
                        document.getElementById("model_printer_name").focus();
                        error_code=1;
                        return false;
                }
                }
                var serial_no =$("#serial_no").val();
                 
                var assigned_to = $("#printer_assigned_to").val();
                var printer_status = $("#printer_status").val();
                
                var error_code = 0;
                
                var double_pattern = /^[0-9 .]+$/;
                
                if(trim(serial_no).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Enter Serial Number";
                        document.getElementById("serial_no").focus();
                        error_code=1;
                        return false;
                }
                
                
                if(trim(printer_status).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Select Status";
                        document.getElementById("printer_status").focus();
                        error_code=1;
                        return false;
                }
                if(printer_status == "ICP"){
                    if(trim(assigned_to).length == 0)
                {
                        document.getElementById("error_print_details_add").innerHTML = "Please Enter Assigned To";
                        document.getElementById("printer_assigned_to").focus();
                        error_code=1;
                        return false;
                }
                }
               
                 if(maker_printer1 == "OTHERS"){
                  var maker_printer=  $("#maker_printer_name").val();
                   
                }
                else{
                    var maker_printer = maker_printer1;
                }
                if(model_printer1 == "OTHERS"){
                    var model_printer = $("#model_printer_name").val();
                }
                else{
                    var model_printer = model_printer1;
                }
                if(error_code != 1)
                             {
                            
                             $('#btn_update_printer_dets').attr('disabled','disabled');
                             $('#btn_update_printer_dets').attr('value','Updated');
                             serial_no = escape(serial_no);
                               maker_printer = escape(maker_printer);
                               model_printer = escape(model_printer);
                               if(maker_printer1 == "OTHERS" || model_printer1 == "OTHERS"){
                                 
                               
               $('#update_printer_maker_details').load("insertprintermakerdetails.php?maker_printer="+maker_printer
                                                +"&model_printer="+model_printer );
                                          }
                                     document.getElementById("error_print_details_add").innerHTML = "";
                                    
                                        $('#update_printer_details').load("updateprinterdetails.php?maker_printer="+maker_printer
                                                +"&model_printer="+model_printer+"&serial_no="+serial_no
                                    +"&assigned_to="+assigned_to+"&printer_status="+printer_status+"&printer_id="+printer_id  );
                                    return true;
                                 
                                    }
    }
    function loadStandRegistration()
    {
var url = "addstanddetails.php";
                           var path= "";
                             var divid = "#alter";
                          <?php   
                           $access = "create";
                           $objects = "STANDS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       

    }
    function loadstandmakerothers(maker_stand){
        maker_stand = escape(maker_stand);
        if(maker_stand == "OTHERS"){
                    $("#maker_stand_name").show();
                     $('#loadmakersofstand').load("loadmakersofstand.php?maker_stand="+maker_stand);
                }
                else{
                    $("#maker_stand_name").hide();
                     $('#loadmakersofstand').load("loadmakersofstand.php?maker_stand="+maker_stand);
                }
    }
    function loadstandmodelothers(model_stand){
        
        if(model_stand == "OTHERS"){
                    $("#model_stand_name").show();
                }
                else{
                    $("#model_stand_name").hide();
                }
    }
     function shownewstanddetails(){
        
                      
var maker_stand1 =  $("#maker_stand").val();
       var model_stand1 =  $("#model_stand").val();
       
       var error_code = 0;
        if(trim(maker_stand1).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Select Maker";
                        document.getElementById("maker_stand").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(model_stand1).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Select Model";
                        document.getElementById("model_stand").focus();
                        error_code=1;
                        return false;
                }
                
                if(maker_stand1 == "OTHERS"){
                   var maker_stand_name = $("#maker_stand_name").val();
                   if(trim(maker_stand_name).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Enter Maker Name";
                        document.getElementById("maker_stand_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(model_stand1 == "OTHERS"){
                   var model_stand_name = $("#model_stand_name").val();
                   if(trim(model_stand_name).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Enter Model";
                        document.getElementById("model_stand_name").focus();
                        error_code=1;
                        return false;
                }
                }
                 if(maker_stand1 == "OTHERS"){
                    var maker_stand = $("#maker_stand_name").val();
                }
                else{
                    var maker_stand = maker_stand1;
                }
                if(model_stand1 == "OTHERS"){
                    var model_stand = $("#model_stand_name").val();
                }
                else{
                    var model_stand = model_stand1;
                }
               if(error_code != 1)
                             {
               
                                 if(maker_stand1 == "OTHERS" || model_stand1 == "OTHERS"){
                                    
                                
                                  $('#save_stand_maker_btn').attr('disabled','disabled');
                                $('#save_stand_maker_btn').attr('value','Added');
                                    maker_stand = escape(maker_stand);
                                       model_stand = escape(model_stand);
                                  document.getElementById("error_stand_details_add").innerHTML = "";
                                  
                                   $('#insert_stand_details').load("insertstandmakerdetails.php?maker_stand="+maker_stand
                                                +"&model_stand="+model_stand );
                                        $("#add_stands_details_fldset1").show();
                                          }
                else{
                    document.getElementById("error_stand_details_add").innerHTML = "";
                                  $("#add_stands_details_fldset1").show();
                }
                                  
                             }
                    
                
       
       
    }
    function savestanddetails(){
        var maker_stand =  $("#maker_stand").val();
       var model_stand =  $("#model_stand").val();
      
                
                var stand_serial_no =$("#stand_serial_no").val();
                 
                var stand_assigned_to = $("#stand_assigned_to").val();
                var stand_status = $("#stand_status").val();
                
                var error_code = 0;
                
                var double_pattern = /^[0-9 .]+$/;
                $('#addstand_color_scss').attr('color','red');
                if(trim(maker_stand).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Select Maker";
                        document.getElementById("maker_stand").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(model_stand).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Select Model";
                        document.getElementById("model_stand").focus();
                        error_code=1;
                        return false;
                }
                
                if(maker_stand == "OTHERS"){
                   var maker_stand_name = $("#maker_stand_name").val();
                   if(trim(maker_stand_name).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Enter Maker Name";
                        document.getElementById("maker_stand_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(model_stand == "OTHERS"){
                   var model_stand_name = $("#model_stand_name").val();
                   if(trim(model_stand_name).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Enter Model";
                        document.getElementById("model_stand_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(trim(stand_serial_no).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Enter Serial Number";
                        document.getElementById("stand_serial_no").focus();
                        error_code=1;
                        return false;
                }
                
                
                if(trim(stand_status).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Select Status";
                        document.getElementById("stand_status").focus();
                        error_code=1;
                        return false;
                }
                if(stand_status == "ICP"){
                    if(trim(stand_assigned_to).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Enter Assigned To";
                        document.getElementById("stand_assigned_to").focus();
                        error_code=1;
                        return false;
                }
                }
                if(maker_stand == "OTHERS"){
                  var maker_stand=  $("#maker_stand_name").val();
                   
                }
                if(model_stand == "OTHERS"){
                    var model_stand = $("#model_stand_name").val();
                }
                if(error_code != 1)
                             {
                            
                             $('#btn_save_stand_dets').attr('disabled','disabled');
                             $('#btn_save_stand_dets').attr('value','Submitted');
                             stand_serial_no = escape(stand_serial_no);
                               maker_stand = escape(maker_stand);
                               model_stand = escape(model_stand);
                                     document.getElementById("error_stand_details_add").innerHTML = "";
                                    
                                        $('#insert_stand_details').load("insertstandsdetails.php?maker_stand="+maker_stand
                                                +"&model_stand="+model_stand+"&stand_serial_no="+stand_serial_no
                                    +"&stand_assigned_to="+stand_assigned_to+"&stand_status="+stand_status  );
                                    return true;
                                 
                                    }
    }
    function searchStand()
    {
        var url = "searchstand.php";
        var path= "";
          var divid = "#alter";
        <?php   
        $access = "search";
        $objects = "STANDS";

        $rolls =  check_rolls($usertype,$access,$objects); 
        ?>
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");


    }
     function searchRoll()
    {
var url = "searchRoll.php";
        var path= "";
          var divid = "#alter";
        <?php   
        $access = "search";
        $objects = "ROLLS";

        $rolls =  check_rolls($usertype,$access,$objects); 
        ?>
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       

    }
    function searchstanddetails(){
        var search_serial_no_stand = $("#search_serial_no_stand").val();
                var search_stand_maker_name =escape($("#search_stand_maker_name").val());
                 
                var search_icp_id_stand = $("#search_icp_id_stand").val();
                
                var search_stand_status = $("#search_stand_status").val();
                
         $('#alter').load("searchstanddetails.php?search_serial_no_stand="+search_serial_no_stand+"&search_stand_maker_name="+search_stand_maker_name
                                    +"&search_icp_id_stand="+search_icp_id_stand+"&search_stand_status="+search_stand_status);
    }
    function editstanddetails(stand_id){
         var url = "editstanddetails.php";
                       var path = "stand_id="+stand_id;
                             var divid = "#popup_billprocess";
                             var width = 1100;
                             var height = 600;
                             var title = 'Edit Stand Details';
                          <?php   
                           $access = "edit";
                           $objects = "STANDS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
                     
    }
    function updatestanddetails(stand_id){
                var maker_stand1 =  $("#maker_stand").val();
                 var model_stand1 =  $("#model_stand").val();
      
                
                var stand_serial_no =$("#stand_serial_no").val();
                 
                var stand_assigned_to = $("#stand_assigned_to").val();
                var stand_status = $("#stand_status").val();
                
                var error_code = 0;
                
                var double_pattern = /^[0-9 .]+$/;
                $('#editstand_color_scss').attr('color','red');
                if(trim(maker_stand1).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Select Maker";
                        document.getElementById("maker_stand").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(model_stand1).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Select Model";
                        document.getElementById("model_stand").focus();
                        error_code=1;
                        return false;
                }
                
                if(maker_stand1 == "OTHERS"){
                   var maker_stand_name = $("#maker_stand_name").val();
                   if(trim(maker_stand_name).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Enter Maker Name";
                        document.getElementById("maker_stand_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(model_stand1 == "OTHERS"){
                   var model_stand_name = $("#model_stand_name").val();
                   if(trim(model_stand_name).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Enter Model";
                        document.getElementById("model_stand_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(trim(stand_serial_no).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Enter Serial Number";
                        document.getElementById("stand_serial_no").focus();
                        error_code=1;
                        return false;
                }
                
                
                if(trim(stand_status).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Select Status";
                        document.getElementById("stand_status").focus();
                        error_code=1;
                        return false;
                }
                if(stand_status == "ICP"){
                    if(trim(stand_assigned_to).length == 0)
                {
                        document.getElementById("error_stand_details_add").innerHTML = "Please Enter Assigned To";
                        document.getElementById("stand_assigned_to").focus();
                        error_code=1;
                        return false;
                }
                }
                
                if(maker_stand1 == "OTHERS"){
                  var maker_stand=  $("#maker_stand_name").val();
                   
                }
                else{
                    var maker_stand = maker_stand1;
                }
                if(model_stand1 == "OTHERS"){
                    var model_stand = $("#model_stand_name").val();
                }
                else{
                    var model_stand = model_stand1;
                }
                if(error_code != 1)
                             {
                                 stand_serial_no = escape(stand_serial_no);
                               maker_stand = escape(maker_stand);
                               model_stand = escape(model_stand);
                                  if(maker_stand1 == "OTHERS" || model_stand1 == "OTHERS"){
                                
               $('#update_stand_maker_details').load("insertstandmakerdetails.php?maker_stand="+maker_stand
                                                +"&model_stand="+model_stand );
                                          }
                            
                             $('#btn_update_dstandets').attr('disabled','disabled');
                             $('#btn_update_dstandets').attr('value','Updated');
                             
                                     document.getElementById("error_stand_details_add").innerHTML = "";
                                    
                                        $('#update_stand_details').load("updatestandsdetails.php?maker_stand="+maker_stand
                                                +"&model_stand="+model_stand+"&stand_serial_no="+stand_serial_no
                                    +"&stand_assigned_to="+stand_assigned_to+"&stand_status="+stand_status+"&stand_id="+stand_id  );
                                    return true;
                                 
                                    }
    }
    function loadRollsRegistration()
    {
        var url = "addrollsdetails.php";
        var path= "";
          var divid = "#alter";
        <?php   
        $access = "create";
        $objects = "ROLLS";

        $rolls =  check_rolls($usertype,$access,$objects); 
        ?>
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        // $('#alter').load("addrollsdetails.php");

    }
    function loadrollmakerothers(maker_roll){
        maker_roll = escape(maker_roll);
        if(maker_roll == "OTHERS"){
                    $("#maker_roll_name").show();
                    $('#loadmakersofroll').load("loadmakersofroll.php?maker_roll="+maker_roll);
                }
                else{
                    $("#maker_roll_name").hide();
                    $('#loadmakersofroll').load("loadmakersofroll.php?maker_roll="+maker_roll);
                }
    }
    function loadrollmodelothers(model_roll){
        if(model_roll == "OTHERS"){
                    $("#model_roll_name").show();
                }
                else{
                    $("#model_roll_name").hide();
                }
    }
    function shownewrolldetails(){
        <?php 
        if($_SESSION["usertype"] == "Admin"){ ?>
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                          
                               $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                      
   var maker_roll1 =  $("#maker_roll").val();
       var model_roll1 =  $("#model_roll").val();
       
       var error_code = 0;
        if(trim(maker_roll1).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Select Maker";
                        document.getElementById("maker_roll").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(model_roll1).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Select Model";
                        document.getElementById("model_roll").focus();
                        error_code=1;
                        return false;
                }
                
                if(maker_roll1 == "OTHERS"){
                   var maker_roll_name = $("#maker_roll_name").val();
                   if(trim(maker_roll_name).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Enter Maker Name";
                        document.getElementById("maker_roll_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(model_roll1 == "OTHERS"){
                   var model_roll_name = $("#model_roll_name").val();
                   if(trim(model_roll_name).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Enter Model";
                        document.getElementById("model_roll_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(maker_roll1 == "OTHERS"){
                    var maker_roll = $("#maker_roll_name").val();
                }
                else{
                    var maker_roll = maker_roll1;
                }
                if(model_roll1 == "OTHERS"){
                    var model_roll = $("#model_roll_name").val();
                }
                else{
                    var model_roll = model_roll1;
                }
               
                
                if(error_code != 1)
                             {
                                 if(maker_roll1 == "OTHERS" || model_roll1 == "OTHERS"){
                                    
                                 
                                  $('#roll_maker_btn').attr('disabled','disabled');
                                $('#roll_maker_btn').attr('value','Added');
                                maker_roll = escape(maker_roll);
                              model_roll = escape(model_roll);
                                  document.getElementById("error_roll_details_add").innerHTML = "";
                                  $("#add_rolls_details_fldset1").show();
                                   $('#insert_rolls_details').load("insertrollmakerdetails.php?maker_roll="+maker_roll
                                                +"&model_roll="+model_roll );
                                          }
                                          else{
                                              document.getElementById("error_roll_details_add").innerHTML = "";
                                  $("#add_rolls_details_fldset1").show();
                                          }
                                  
                             }
                    }

                });
       <?php  }
        else{
              
          $access = "create";
          $objects = "ROLLS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
      
             var rolls = "<?php echo $rolls; ?>";       
        if(rolls == "yes") {
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                $.ajax({
                      type: 'post',
                     url: 'authinticate.php?s_name='+new_value,
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                       
         
   var maker_roll1 =  $("#maker_roll").val();
       var model_roll1 =  $("#model_roll").val();
       
       var error_code = 0;
        if(trim(maker_roll1).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Select Maker";
                        document.getElementById("maker_roll").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(model_roll1).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Select Model";
                        document.getElementById("model_roll").focus();
                        error_code=1;
                        return false;
                }
                
                if(maker_roll1 == "OTHERS"){
                   var maker_roll_name = $("#maker_roll_name").val();
                   if(trim(maker_roll_name).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Enter Maker Name";
                        document.getElementById("maker_roll_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(model_roll1 == "OTHERS"){
                   var model_roll_name = $("#model_roll_name").val();
                   if(trim(model_roll_name).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Enter Model";
                        document.getElementById("model_roll_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(maker_roll1 == "OTHERS"){
                    var maker_roll = $("#maker_roll_name").val();
                }
                else{
                    var maker_roll = maker_roll1;
                }
                if(model_roll1 == "OTHERS"){
                    var model_roll = $("#model_roll_name").val();
                }
                else{
                    var model_roll = model_roll1;
                }
               
                
                if(error_code != 1)
                             {
                                 if(maker_roll1 == "OTHERS" || model_roll1 == "OTHERS"){
                                    
                                 
                                  $('#roll_maker_btn').attr('disabled','disabled');
                                $('#roll_maker_btn').attr('value','Added');
                                maker_roll = escape(maker_roll);
                              model_roll = escape(model_roll);
                                  document.getElementById("error_roll_details_add").innerHTML = "";
                                  $("#add_rolls_details_fldset1").show();
                                   $('#insert_rolls_details').load("insertrollmakerdetails.php?maker_roll="+maker_roll
                                                +"&model_roll="+model_roll );
                                          }
                                          else{
                                              document.getElementById("error_roll_details_add").innerHTML = "";
                                  $("#add_rolls_details_fldset1").show();
                                          }
                                  
                             }
                    }

                });
                }
                 else {
         alert("You Dont Have Access Towards This Page");
        }
                 <?php 
             
        }
        ?>
       
       
    }
    function saverollsdetails(){
        var maker_roll =  $("#maker_roll").val();
       var model_roll =  $("#model_roll").val();
      var pinpattern = /^[0-9]+$/;
                
               $('#addroll_color_scss').attr('color','red');
                 
                var rolls_assigned_to = $("#rolls_assigned_to").val();
                var no_rolls = $("#no_rolls").val();
                
                var error_code = 0;
                
                var double_pattern = /^[0-9 .]+$/;
                if(trim(maker_roll).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Select Maker";
                        document.getElementById("maker_roll").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(model_roll).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Select Model";
                        document.getElementById("model_roll").focus();
                        error_code=1;
                        return false;
                }
                
                if(maker_roll == "OTHERS"){
                   var maker_roll_name = $("#maker_roll_name").val();
                   if(trim(maker_roll_name).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Enter Maker Name";
                        document.getElementById("maker_roll_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(model_roll == "OTHERS"){
                   var model_roll_name = $("#model_roll_name").val();
                   if(trim(model_roll_name).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Enter Model";
                        document.getElementById("model_roll_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(trim(rolls_assigned_to).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Enter ICP ID";
                        document.getElementById("rolls_assigned_to").focus();
                        error_code=1;
                        return false;
                }
                
                
                if(trim(no_rolls).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Enter No Of Rolls";
                        document.getElementById("no_rolls").focus();
                        error_code=1;
                        return false;
                }
                if(!no_rolls.match(pinpattern))
		{
			document.getElementById("error_roll_details_add").innerHTML = "Please Enter No Of Rolls";
			document.getElementById("no_rolls").focus();
			return false;
		}
               
                if(maker_roll == "OTHERS"){
                  var maker_roll=  $("#maker_roll_name").val();
                   
                }
                if(model_roll == "OTHERS"){
                    var model_roll = $("#model_roll_name").val();
                }
                if(error_code != 1)
                             {
                            
                             $('#btn_save_rolls_dets').attr('disabled','disabled');
                             $('#btn_save_rolls_dets').attr('value','Submitted');
                            
                               maker_roll = escape(maker_roll);
                               model_roll = escape(model_roll);
                                     document.getElementById("error_roll_details_add").innerHTML = "";
                                    
                                        $('#insert_rolls_details').load("insertrollsdetails.php?maker_roll="+maker_roll
                                                +"&model_roll="+model_roll+"&rolls_assigned_to="+rolls_assigned_to
                                    +"&no_rolls="+no_rolls);
                                    return true;
                                 
                                    }
    }
    function searchrolldetails(){
        var search_roll_maker = escape($("#search_roll_maker").val());
                var search_roll_model =escape($("#search_roll_model").val());
                 
              
                var search_icp_id_rolls = $("#search_icp_id_rolls").val();
                
         $('#alter').load("searchrollsdetails.php?search_roll_maker="+search_roll_maker+"&search_roll_model="+search_roll_model
                                    +"&search_icp_id_rolls="+search_icp_id_rolls);
    }
     function editrollsdetails(roll_id){
         var url = "editrolldetails.php";
                        var path = "roll_id="+roll_id;
                             var divid = "#popup_billprocess";
                             var width = 1100;
                             var height = 600;
                             var title = 'Edit Roll Details';
                          <?php   
                           $access = "edit";
                           $objects = "ROLLS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
         
        
    }
    function updaterollsdetails(roll_id){
    var maker_roll1 =  $("#maker_roll").val();
       var model_roll1 =  $("#model_roll").val();
      
                
               
                 
                var rolls_assigned_to = $("#rolls_assigned_to").val();
                var no_rolls = $("#no_rolls").val();
                
                var error_code = 0;
                
                var double_pattern = /^[0-9 .]+$/;
                $('#editroll_color_scss').attr('color','red');
                if(trim(maker_roll1).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Select Maker";
                        document.getElementById("maker_roll").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(model_roll1).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Select Model";
                        document.getElementById("model_roll").focus();
                        error_code=1;
                        return false;
                }
                
                if(maker_roll1 == "OTHERS"){
                   var maker_roll_name = $("#maker_roll_name").val();
                   if(trim(maker_roll_name).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Enter Maker Name";
                        document.getElementById("maker_roll_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(model_roll1 == "OTHERS"){
                   var model_roll_name = $("#model_roll_name").val();
                   if(trim(model_roll_name).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Enter Model";
                        document.getElementById("model_roll_name").focus();
                        error_code=1;
                        return false;
                }
                }
                if(trim(rolls_assigned_to).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Enter ICP ID";
                        document.getElementById("rolls_assigned_to").focus();
                        error_code=1;
                        return false;
                }
                
                
                if(trim(no_rolls).length == 0)
                {
                        document.getElementById("error_roll_details_add").innerHTML = "Please Select Status";
                        document.getElementById("no_rolls").focus();
                        error_code=1;
                        return false;
                }
               
                
                if(maker_roll1 == "OTHERS"){
                  var maker_roll=  $("#maker_roll_name").val();
                   
                }
                else{
                    var maker_roll = maker_roll1;
                }
                if(model_roll1 == "OTHERS"){
                    var model_roll = $("#model_roll_name").val();
                }
                else{
                    var model_roll = model_roll1;
                }
                if(error_code != 1)
                             {
                            
                             $('#btn_update_rolls_dets').attr('disabled','disabled');
                             $('#btn_update_rolls_dets').attr('value','Updated');
                            
                               maker_roll = escape(maker_roll);
                               model_roll = escape(model_roll);
                                if(maker_roll1 == "OTHERS" || model_roll1 == "OTHERS"){
                                
               $('#update_rolls_maker_details').load("insertrollmakerdetails.php?maker_roll="+maker_roll
                                                +"&model_roll="+model_roll);
                                          }
                                     document.getElementById("error_roll_details_add").innerHTML = "";
                                    
                                        $('#update_rolls_details').load("updaterollsdetails.php?maker_roll="+maker_roll
                                                +"&model_roll="+model_roll+"&rolls_assigned_to="+rolls_assigned_to
                                    +"&no_rolls="+no_rolls+"&roll_id="+roll_id);
                                    return true;
                                 
                                    }
    }
    function revisionsofassets(type,rev_type)
			{
				var type;
                                
                                var path= "type="+type+"&rev_type="+rev_type;
				
                                       
                                        $("#revisions_depos").dialog({
                                    width: 1100,
                                    title: 'Revisions',
                                    height: 500,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#revisions_depos").load("revisionsofassets.php", path);

                                    }

                                });

                                    
	
			}
                       function loadsubtypes(ticket_id,divid)
    {
        ticket_type = escape(ticket_id);
        var divid = "#"+divid;
        $(divid).load("loadsubtypes.php?ticket_id="+ticket_id );
    }
    
    function reatilerAssets(retailerid,fstname,lastname,rid,rlocation,did,rstatus)
                        {
                            var url = "assetsofretailer.php";
                         var path = "retailerid="+retailerid+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
                             var divid = "#popup_billprocess";
                             var width = 1100;
                             var height = 700;
                             var title = 'Assets Of  KCP  ' +retailerid;
                          <?php   
                           $access = "view";
                           $objects = "ICP ASSETS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
                         }
                        function searchOrdersIPEX()
                        {
var url = "searchOrdersIPEX.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX ORDERS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                            

                        }

  function order_DetailsIPEX()
    {
        
$("#loader").show();
        var order_id =$("#order_id").val();
        var f_date = $("#f_date").val();
         var to_date =$("#to_date").val();
         var clientid  =$("#clientid").val();
          var ph_no  =$("#ph_no").val();
          var operator_name  =$("#operator_name").val();
         var service_type=$("#service_type").val();
         //alert(service_type);return false;
         if(service_type=='BILLPAYMENT'){
            
             var par='table=IPEX_BILLPAYMENT_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE&';
         }else if(service_type=='BUS'){
             
            var par= 'table= IPEX_BUS_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='MOBILE'){
            
             var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }else if(service_type=='POSTPAID'){
            
             var par='table=IPEX_POSTPAID_SERV_TRANS_DETAILS&field=MOBILE_NUMBER&';
         }else if(service_type=='AIRTICKET'){
            
             var par='table=IPEX_AIRTICKET_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='CANCELLATIONSERVICE'){
           
                     var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if(service_type=='DATACARD'){
            
             var par='table=IPEX_DATACARD_SERV_TRANS_DETAILS&field=DATACARD_NUMBER&';
         }else if(service_type=='DTH'){
            
             var par='table=IPEX_DTH_SERV_TRANS_DETAILS&field=CUSTOMER_DTH_NUM&';
         }else if( service_type=='ECOMMERCE'){
             
             var par='table= IPEX_ECOMMERCE_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if( service_type=='EVENTTICKET'){
            
             var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if( service_type=='MINIATM'){
           
             var par='table=IPEX_MINIATM_SERV_TRANS_DETAILS&field=MOBILE_NO&';
         }
        else if( service_type=='KIOSONPAY'){
           
             var par='table=IPEX_KIOSONPAY_SERV_TRANS_DETAILS&field=MOBILE_NO&';
         }else {
           
            var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }
           
             var path = par+"order_id="+order_id+"&f_date="+f_date+"&to_date="+to_date+"&clientid="+clientid+"&service_type="+service_type+"&ph_no="+ph_no+"&operator_name="+operator_name;
        $('#alter').load('orderDetailsIPEX.php',path);
           
    }
    function bulkdataupload(){
        var url = "uploadfile.php";
                    var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "update";
                       $objects = "BULK DATA";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
    }
    function smsdataupload(){
        var url = "smsuploadfile.php";
                    var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "update";
                       $objects = "SMS DATA";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
    }
    function bulkadmincharges(){
        var url = "uploadadmincharfile.php";
                    var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "update";
                       $objects = "BULK DATA ADMIN CHARGES";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
    }
    function confirmmobilesms(){
          $("#resend_sms").show();
    }
    function resendsms()
                {
                    
                    var sms_mobile_no  = $("#sms_mobile_no").val();
                     var mobilenopattern = /^[0-9]+$/;
                    
                         if(sms_mobile_no)
                        {
                             if (!sms_mobile_no.match(mobilenopattern)){
                                $('#order_resendsms_error').html("Please enter valid Mobile Number");
                            }
                            else{
                                 $('#butt_resendsms').attr('disabled','disabled');
                                 var order_id = $("#hid_order_id").val();
                               var path = "orderid="+order_id+"&sms_mobile_no="+sms_mobile_no;
                                $("#authenticate_order").load("resendsms.php", path);
                            }
                             
                        }
                        else
                            {
                                   
                                    
                                    $('#order_resendsms_error').html("Please enter valid Mobile Number");
                                   
                            }
                   
                 
                }
                function viewcustommessage(msg_id,msgtype){
                    var path = "msgtype="+msgtype+"&msg_id="+msg_id;
                                  
                                        $("#popup_billprocess").dialog({
                                    width: 600,
                                    title: 'Body of message',
                                    height: 350,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_billprocess").load("viewcustommessage.php", path);

                                    }

                                });
                }
                function editwallet(wallet_id,wallet_type){
                 var path = "wallet_id="+wallet_id+"&wallet_type="+wallet_type;
                                  
                                        $("#edit_wallet").dialog({
                                    width: 1000,
                                    title: 'Edit Wallet Details',
                                    height: 600,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#edit_wallet").load("editwallet.php", path);

                                    }

                                });
                }
                function updatewalletrefdetails(){
                
                var hid_wallet_id  = $("#hid_wallet_id").val();
                var hid_wallet_name  = $("#hid_wallet_name").val();
                var type_remark  = $("#edittype_remark").val();
                var bank  = $("#editbank").val();
                var reference_id  = $("#editreference_id").val();
                var payment_mode  = $("#edit_payment_mode").val();
                var  error_code=0;
            
            
                         if(trim(payment_mode).length == 0)
                        {
                                document.getElementById("edit_error_wallet").innerHTML = "Please Select Payment Mode";
                                document.getElementById("payment_mode").focus();
                                error_code=1;
                                return false;
                        }
                        
                         if(trim(reference_id).length == 0)
                        {
                                document.getElementById("edit_error_wallet").innerHTML = "Please Enter Reference ID";
                                document.getElementById("reference_id").focus();
                                error_code=1;
                                return false;
                        }
                         if(trim(bank).length == 0)
                        {
                                document.getElementById("edit_error_wallet").innerHTML = "Please Enter Bank Name";
                                document.getElementById("bank").focus();
                                error_code=1;
                                return false;
                        }
                        if(error_code != 1)
                {
                     
                document.getElementById("error_wallet").innerHTML = "";
                
              var type_remark = escape(type_remark);
                var bank = escape(bank);var payment_mode = escape(payment_mode);var reference_id = escape(reference_id);
                var hid_wallet_name = escape(hid_wallet_name);
                var path = "hid_wallet_id="+hid_wallet_id+"&hid_wallet_name="+hid_wallet_name+
                        "&type_remark="+type_remark+"&bank="+bank+"&reference_id="+reference_id+"&payment_mode="+payment_mode;
                 $("#update_wallet_ref_details").load("updatewalletrefdetails.php", path);
                return true;
                }
                
                 
                }
                function clearcomments(status,dbstatus,comments){
                    
                    status = status.toUpperCase();
                    dbstatus = dbstatus.toUpperCase();
                    
                    if(status == dbstatus){
                        
                        $('#uptenq_comments').val(comments);
                    }
                    else{
                        $('#uptenq_comments').attr('value', '');
                    }
                }
                 function viewenquiry(id)
    { 
         var path = "id="+id;
                              $("#popup_cmns").dialog({
                                    width: 1100,
                                    title: 'Sales Enquiry Details Enquiry ID:'+id,
                                    height: 700,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_cmns").load("viewenquiry.php", path);

                                    }

                                });
    }
function addproduct(){
var url = "addProduct.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "create";
          $objects = "BIDDING PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    
    }
   function viewProduct(productid,prod_name,cdate,edate,prod_price,prod_status){
       var url = "viewProduct.php";
      
            var path = "prod_id="+productid+"&search_prod_name="+prod_name+
                        "&start_date="+cdate+"&prod_price="+prod_price+"&expire_date="+edate+"&prod_status="+prod_status;
            var divid = "#alter";
         <?php   
          $access = "view";
          $objects = "BIDDING PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
      
   
    
    } 
    function editproduct(productid,prod_name,cdate,edate,prod_price,prod_status){
      var url = "editProduct.php";
            var path = "prod_id="+productid+"&search_prod_name="+prod_name+
                        "&start_date="+cdate+"&prod_price="+prod_price+"&expire_date="+edate+"&prod_status="+prod_status;
            var divid = "#alter";
         <?php   
          $access = "edit";
          $objects = "BIDDING PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    
    } 
    
    function product_validate(){
        var productName =  $("#productName").val();
        var cdate =  $("#cdate").val();
        var edate =  $("#edate").val();
        var minprice =  $("#minprice").val();
        var startprice =  $("#startprice").val();
        var mrp = $("#mrp").val();
        var prodInfo = $("#prodInfo").val();
        var error_code = 0;
        var mobilenopattern = /^[0-9 .]+$/;
        var mobilenopattern1 = /^[0-9]+$/;
        var hh_cdate = $("#hh_cdate").val();
         var mm_cdate = $("#mm_cdate").val();
          var ss_cdate = $("#ss_cdate").val();
           var hh_edate = $("#hh_edate").val();
            var mm_edate = $("#mm_edate").val();
             var ss_edate = $("#ss_edate").val();
           var Date1 = new Date(cdate);
          var  Date2 = new Date(edate);
        var   DaysDiff = Math.floor((Date1.getTime() - Date2.getTime())/(1000*60*60*24));
        
        
         if(trim(productName).length == 0)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Product Name";
                document.getElementById("productName").focus();
                error_code=1;
                return false;
        }
        if(trim(cdate)== "0000-00-00")
        {
                document.getElementById("error_add_product").innerHTML = "Please Select Start Date";
                document.getElementById("cdate").focus();
                error_code=1;
                return false;
        }
        if(trim(hh_cdate).length == 0)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("hh_cdate").focus();
                error_code=1;
                return false;
        }
        if(!hh_cdate.match(mobilenopattern1))
		{
			document.getElementById("error_add_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("hh_cdate").focus();
                error_code=1;
                return false;
		}
               if(hh_cdate > 23)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("hh_cdate").focus();
                error_code=1;
                return false;
        }
        if(trim(mm_cdate).length == 0)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("mm_cdate").focus();
                error_code=1;
                return false;
        }
        if(!mm_cdate.match(mobilenopattern1))
		{
			document.getElementById("error_add_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("mm_cdate").focus();
                error_code=1;
                return false;
		}
               if(mm_cdate > 59)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("mm_cdate").focus();
                error_code=1;
                return false;
        }
         if(trim(ss_cdate).length == 0)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("ss_cdate").focus();
                error_code=1;
                return false;
        }
        if(!ss_cdate.match(mobilenopattern1))
		{
			document.getElementById("error_add_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("ss_cdate").focus();
                error_code=1;
                return false;
		}
               if(ss_cdate > 59)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("ss_cdate").focus();
                error_code=1;
                return false;
        }
        if(trim(edate)== "0000-00-00")
        {
                document.getElementById("error_add_produupdateEcomOrder_PROCESSct").innerHTML = "Please Select End Date";
                document.getElementById("edate").focus();
                error_code=1;
                return false;
        }
          if(trim(hh_edate).length == 0)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("hh_edate").focus();
                error_code=1;
                return false;
        }
        if(!hh_edate.match(mobilenopattern1))
		{
			document.getElementById("error_add_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("hh_edate").focus();
                error_code=1;
                return false;
		}
               if(hh_edate > 23)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("hh_edate").focus();
                error_code=1;
                return false;
        }
        if(trim(mm_edate).length == 0)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("mm_edate").focus();
                error_code=1;
                return false;
        }
        if(!mm_edate.match(mobilenopattern1))
		{
			document.getElementById("error_add_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("mm_edate").focus();
                error_code=1;
                return false;
		}
               if(mm_edate > 59)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("mm_cdate").focus();
                error_code=1;
                return false;
        }
         if(trim(ss_edate).length == 0)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("ss_edate").focus();
                error_code=1;
                return false;
        }
        if(!ss_edate.match(mobilenopattern1))
		{
			document.getElementById("error_add_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("ss_edate").focus();
                error_code=1;
                return false;
		}
               if(ss_edate > 59)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("ss_edate").focus();
                error_code=1;
                return false;
        }
          if(DaysDiff > 0){
                           
                             document.getElementById("error_add_product").innerHTML = "Please Select valid Start Date";
                          document.getElementById("cdate").focus();
                             error_code=1;
                             return false;
                            
                        }
                    else if(DaysDiff == 0){
                        
                        if(hh_edate < hh_cdate){
                           
                             document.getElementById("error_add_product").innerHTML = "Please Select valid Start Date";
                             document.getElementById("cdate").focus();
                             error_code=1;
                             return false;
                        }
                        else if(hh_cdate == hh_edate){
                            
                            if(mm_edate < mm_cdate){
                                
                                 document.getElementById("error_add_product").innerHTML = "Please Select valid Start Date";
                          document.getElementById("cdate").focus();
                             error_code=1;
                             return false;
                            }
                            else if(mm_cdate == mm_edate){
                                
                                if(ss_edate <= ss_cdate){
                                    
                                     document.getElementById("error_add_product").innerHTML = "Please Select valid Start Date";
                          document.getElementById("cdate").focus();
                             error_code=1;
                             return false;
                                }
                            }
                        }
                        
                    
                    }
                      
        if(trim(minprice).length == 0)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Minimum Bid Price";
                document.getElementById("minprice").focus();
                error_code=1;
                return false;
        }
        if(!minprice.match(mobilenopattern))
		{
			document.getElementById("error_add_product").innerHTML = "Please Enter Minimum Bid Price";
                document.getElementById("minprice").focus();
                error_code=1;
                return false;
		}
        if(trim(startprice).length == 0)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Start Price";
                document.getElementById("startprice").focus();
                error_code=1;
                return false;
        }
        if(!startprice.match(mobilenopattern))
		{
			document.getElementById("error_add_product").innerHTML = "Please Enter Minimum Bid Price";
                document.getElementById("minprice").focus();
                error_code=1;
                return false;
		}
        if(trim(mrp).length == 0)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Product Amount";
                document.getElementById("mrp").focus();
                error_code=1;
                return false;
        }
        if(!mrp.match(mobilenopattern))
		{
			document.getElementById("error_add_product").innerHTML = "Please Enter Minimum Bid Price";
                document.getElementById("minprice").focus();
                error_code=1;
                return false;
		}
         if(trim(prodInfo).length == 0)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Product Info";
                document.getElementById("prodInfo").focus();
                error_code=1;
                return false;
        }
        if(error_code != 1){
            $("#add_bidd_prodbtn").attr("disabled","disabled");
            return true;
        }
    }
    
    function updateProduct(){
        var productName =  $("#productName").val();
        var cdate =  $("#cdate").val();
        var edate =  $("#edate").val();
        var minprice =  $("#minprice").val();
        var startprice =  $("#startprice").val();
        var mrp = $("#mrp").val();
        var prodInfo = $("#prodInfo").val();
        var error_code = 0;
        var mobilenopattern = /^[0-9 .]+$/;
        var mobilenopattern1 = /^[0-9]+$/;
        var hh_cdate = $("#hh_cdate").val();
         var mm_cdate = $("#mm_cdate").val();
          var ss_cdate = $("#ss_cdate").val();
           var hh_edate = $("#hh_edate").val();
            var mm_edate = $("#mm_edate").val();
             var ss_edate = $("#ss_edate").val();
           var Date1 = new Date(cdate);
          var  Date2 = new Date(edate);
        var   DaysDiff = Math.floor((Date1.getTime() - Date2.getTime())/(1000*60*60*24));
        
         if(trim(productName).length == 0)
        {
                document.getElementById("error_update_product").innerHTML = "Please Enter Product Name";
                document.getElementById("productName").focus();
                error_code=1;
                return false;
        }
        if(trim(cdate)== "0000-00-00")
        {
                document.getElementById("error_update_product").innerHTML = "Please Select Start Date";
                document.getElementById("cdate").focus();
                error_code=1;
                return false;
        }
        if(trim(hh_cdate).length == 0)
        {
                document.getElementById("error_update_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("hh_cdate").focus();
                error_code=1;
                return false;
        }
        if(!hh_cdate.match(mobilenopattern1))
		{
			document.getElementById("error_update_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("hh_cdate").focus();
                error_code=1;
                return false;
		}
               if(hh_cdate > 23)
        {
                document.getElementById("error_update_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("hh_cdate").focus();
                error_code=1;
                return false;
        }
        if(trim(mm_cdate).length == 0)
        {
                document.getElementById("error_update_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("mm_cdate").focus();
                error_code=1;
                return false;
        }
        if(!mm_cdate.match(mobilenopattern1))
		{
			document.getElementById("error_add_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("mm_cdate").focus();
                error_code=1;
                return false;
		}
               if(mm_cdate > 59)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("mm_cdate").focus();
                error_code=1;
                return false;
        }
         if(trim(ss_cdate).length == 0)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("ss_cdate").focus();
                error_code=1;
                return false;
        }
        if(!ss_cdate.match(mobilenopattern1))
		{
			document.getElementById("error_update_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("ss_cdate").focus();
                error_code=1;
                return false;
		}
               if(ss_cdate > 59)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid Start Time";
                document.getElementById("ss_cdate").focus();
                error_code=1;
                return false;
        }
        if(trim(edate)== "0000-00-00")
        {
                document.getElementById("error_add_product").innerHTML = "Please Select End Date";
                document.getElementById("edate").focus();
                error_code=1;
                return false;
        }
          if(trim(hh_edate).length == 0)
        {
                document.getElementById("error_add_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("hh_edate").focus();
                error_code=1;
                return false;
        }
        if(!hh_edate.match(mobilenopattern1))
		{
			document.getElementById("error_update_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("hh_edate").focus();
                error_code=1;
                return false;
		}
               if(hh_edate > 23)
        {
                document.getElementById("error_update_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("hh_edate").focus();
                error_code=1;
                return false;
        }
        if(trim(mm_edate).length == 0)
        {
                document.getElementById("error_update_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("mm_edate").focus();
                error_code=1;
                return false;
        }
        if(!mm_edate.match(mobilenopattern1))
		{
			document.getElementById("error_update_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("mm_edate").focus();
                error_code=1;
                return false;
		}
               if(mm_edate > 59)
        {
                document.getElementById("error_update_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("mm_cdate").focus();
                error_code=1;
                return false;
        }
         if(trim(ss_edate).length == 0)
        {
                document.getElementById("error_update_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("ss_edate").focus();
                error_code=1;
                return false;
        }
        if(!ss_edate.match(mobilenopattern1))
		{
			document.getElementById("error_update_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("ss_edate").focus();
                error_code=1;
                return false;
		}
               if(ss_edate > 59)
        {
                document.getElementById("error_update_product").innerHTML = "Please Enter Valid End Time";
                document.getElementById("ss_edate").focus();
                error_code=1;
                return false;
        }
          if(DaysDiff > 0){
                           
                             document.getElementById("error_update_product").innerHTML = "Please Select valid Start Date";
                          document.getElementById("cdate").focus();
                             error_code=1;
                             return false;
                            
                        }
                    else if(DaysDiff == 0){
                        
                        if(hh_edate < hh_cdate){
                           
                             document.getElementById("error_update_product").innerHTML = "Please Select valid Start Date";
                             document.getElementById("cdate").focus();
                             error_code=1;
                             return false;
                        }
                        else if(hh_cdate == hh_edate){
                            
                            if(mm_edate < mm_cdate){
                                
                                 document.getElementById("error_update_product").innerHTML = "Please Select valid Start Date";
                          document.getElementById("cdate").focus();
                             error_code=1;
                             return false;
                            }
                            else if(mm_cdate == mm_edate){
                                
                                if(ss_edate <= ss_cdate){
                                    
                                     document.getElementById("error_update_product").innerHTML = "Please Select valid Start Date";
                          document.getElementById("cdate").focus();
                             error_code=1;
                             return false;
                                }
                            }
                        }
                        
                    
                    }
                      
        if(trim(minprice).length == 0)
        {
                document.getElementById("error_update_product").innerHTML = "Please Enter Minimum Bid Price";
                document.getElementById("minprice").focus();
                error_code=1;
                return false;
        }
        if(!minprice.match(mobilenopattern))
		{
			document.getElementById("error_update_product").innerHTML = "Please Enter Minimum Bid Price";
                document.getElementById("minprice").focus();
                error_code=1;
                return false;
		}
        if(trim(startprice).length == 0)
        {
                document.getElementById("error_update_product").innerHTML = "Please Enter Start Price";
                document.getElementById("startprice").focus();
                error_code=1;
                return false;
        }
        if(!startprice.match(mobilenopattern))
		{
			document.getElementById("error_update_product").innerHTML = "Please Enter Minimum Bid Price";
                document.getElementById("minprice").focus();
                error_code=1;
                return false;
		}
        if(trim(mrp).length == 0)
        {
                document.getElementById("error_update_product").innerHTML = "Please Enter Product Amount";
                document.getElementById("mrp").focus();
                error_code=1;
                return false;
        }
        if(!mrp.match(mobilenopattern))
		{
			document.getElementById("error_update_product").innerHTML = "Please Enter Minimum Bid Price";
                document.getElementById("minprice").focus();
                error_code=1;
                return false;
		}
         if(trim(prodInfo).length == 0)
        {
                document.getElementById("error_update_product").innerHTML = "Please Enter Product Info";
                document.getElementById("prodInfo").focus();
                error_code=1;
                return false;
        }
        if(error_code != 1){
            document.getElementById("error_update_product").innerHTML = "";
            return true;
        }
    }
    function searchProduct(){
        var url = "searchProduct.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "BIDDING PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
    }
    function searchEcomProduct(){
        var url = "searchEcomProduct.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ECOMMERCE PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
    }
    function searchproductdetails(){
        var search_prod_name = $("#search_prod_name").val();
                var start_date =$("#start_date").val();
                 
                var expire_date = $("#expire_date").val();
                var prod_price = $("#prod_price").val();
                var prod_status = $("#prod_status").val();
                var search_prod_name = escape(search_prod_name);
                
                 $('#alter').load("searchproductdetails.php?search_prod_name="+search_prod_name
                                                +"&start_date="+start_date+"&expire_date="+expire_date
                                    +"&prod_price="+prod_price+"&prod_status="+prod_status);
    }
    function loadbiddinghistory(product_id){
        var url = "biddinghistory.php";
           var path = "product_id="+product_id;
            var divid = "#popup_billprocess";
            var width = 1100;
            var height = 700;
            var title = "Bidding History Of ProductID:"+product_id;
         <?php   
          $access = "history";
          $objects = "BIDDING PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
        
                              
    }
    
function showproductnames(category){
    var path = "category="+category;
     $('#prod_sub_catg').load("loadProdSubcat.php",path);
}
function searchecomproddetails(){
    var search_ecom_prod_form = $('#search_ecom_prod_form').serialize();
                 $('#alter').load("searchecomproddets.php",search_ecom_prod_form);
    }
    function viewEcomProduct(prod_id,category,subcat,prodname,available_frm,available_to,prod_status){
        var url = "viewEcomProduct.php";
            var path = "prod_id="+prod_id+"&prod_category="+category+
                        "&prod_sub_catg="+subcat+"&prod_name="+prodname+"&available_from="+available_frm+"&available_to="+available_to
                +"&ecom_prod_status="+prod_status;
            var divid = "#alter";
         <?php   
          $access = "view";
          $objects = "ECOMMERCE PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
     function searchEcommerceOrdersfulfilment()
    {
        var url = "searchEcommerceOrdersfulfilment.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
       

    }
    
    function searchEcommerceOrdersfulfilmentprint()
    {
        var url = "searchEcommerceOrdersfulfilmentprint.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
       

    }
    
    function ecomOrdsDetailsforfulfilment()
    {
       
        var order_id = $("#ecomorder_id").val();
        var fromdate =$("#prod_from_date").val();
        var todate = $("#prod_to_date").val();
         var ecom_refid = $("#ecom_refid").val();
         var ecom_prod_name = $("#ecom_prod_name").val();
         var ecom_prod_id = $("#ecom_prod_id").val();
        ecom_refid = escape(ecom_refid);
        ecom_prod_name = escape(ecom_prod_name);
          var processstatus = $("#processstatus").val();
          if(order_id == "" && fromdate == "0000-00-00" && todate == "0000-00-00" && ecom_refid == "" && ecom_prod_name  == "" && ecom_prod_id == "" && processstatus == ""){
              alert("Please select atleast one filter");
        }
        else{
            $("#loader").show();
            $('#ecommerceorders').attr('value', 'Searching');
         var path = "fromdate="+fromdate+"&todate="+todate+"&order_id="+order_id+"&processstatus="+processstatus+"&ecom_refid="+ecom_refid+"&ecom_prod_name="+ecom_prod_name+"&ecom_prod_id="+ecom_prod_id;
         $('#alter').load("ecomordsdetailsforfulfillment.php",path);
        }
            
    }
    function loadsmffrecords()
    {
       var fromdate =$("#prod_from_date").val();
        var todate = $("#prod_to_date").val();
        var path = "fromdate="+fromdate+"&todate="+todate;
         $('#alter').load("loadsmffrecords.php",path);   
    
    }
    
   /*smff*/ 
 function statusrecordssmff()
    {
                     var url = "smffstatusrecords.php";
                      var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                       $objects = "STATUSRECORDS";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function smfforderdetails()
    {
    
     var retailer_id =$("#retailer_id").val();
       
        var fromDate = $("#orderRetailerFromDate").val();
         
        var toDate = $("#orderRetailerToDate").val();
        var order_id = $("#order_id").val();
        var cust_idcard_num = $("#cust_idcard_num").val();
        var customer_name = $("#customer_name").val();
        var loan_status = $("#loan_status").val();
        
        
        
        //alert(1);
        var path = "retailer_id="+retailer_id+"&fromDate="+fromDate+"&toDate="+toDate+"&order_id="+order_id+"&cust_idcard_num="+cust_idcard_num+"&customer_name="+customer_name+"&loan_status="+loan_status;
        $('#alter').load("smfforderdetails.php",path);
             
    }
    /*SMSvendor*/
    function updatevendor(selectVendor)
    
    {
          var selectVendor = $("#selectVendor").val();
                    var path = "selectVendor="+selectVendor;
                    var url = "updatesmsvendor.php";
                    var divid = "#alter";
            <?php  
                      $access ="smsvendorchange";
                       $objects = "vendorupdate";
                      $rolls =  check_rolls($usertype,$access,$objects);
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                       
                           // $access ="smsvendorchange";
                           // $objects = "vendorupdate";
                           // $rolls =  check_rolls($usertype,$access,$objects);
              
                           //checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
      
        //alert(1);
        //var path = "selectVendor="+selectVendor;
       //$('#alter').load("updatesmsvendor.php",path);
             
    }
    function ecomOrdsDetailsforfulfilmentprint()
    {
       $("#loader").show();
        var order_id = $("#ecomorder_id").val();
        var fromdate =$("#prod_from_date").val();
        var todate = $("#prod_to_date").val();
        var ecom_refid = $("#ecom_refid").val();
         var ecom_prod_name = $("#ecom_prod_name").val();
        ecom_refid = escape(ecom_refid);
        ecom_prod_name = escape(ecom_prod_name);
          var processstatus = $("#processstatus").val();
            $('#ecommerceorders').attr('value', 'Searching');
         var path = "fromdate="+fromdate+"&todate="+todate+"&order_id="+order_id+"&processstatus="+processstatus+"&ecom_refid="+ecom_refid+"&ecom_prod_name="+ecom_prod_name;
         $('#alter').load("ecomordsdetailsforfulfillmentprint.php",path);
    }
    
    
    function viewEcomProd(orderid)
			{
                            var url = "viewEcomProd.php";
                  var path = "orderid="+orderid;
                     var divid = "#popup_billprocess";
                     var width = 1100;
                     var height = 670;
                     var title = 'E-Commerce Product  Process';
         <?php   
          $access = "view";
          $objects = "ECOMMERCE IPEX ORDERS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
                 $('.search_table2 tr.buslayout').remove();
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
				
			}
                        function editECommeOrd(orderid)
			{
                             var path= "orderid="+orderid;   
                            var url = "editECommeOrd.php";
                            var divid = "#popup_billprocess";
                          <?php   
                           $access = "edit";
                           $objects = "ECOMMERCE IPEX ORDERS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                        }
                         function viewEcomOrdInCancel(orderid)
			{
				var orderid;
                                var path = "orderid="+orderid;
                                        $("#popup_billprocess").load("viewEcomProd.php", path);

                                    
	
			}
                        function updateEcomOrder(orderid)
			{
				              
                            var orderid ;
                             var referenceid = $("#texrefer_emomordrid").val();
                             var status = $("#ecomorder_prc_status").val();
                             var processed_date = $("#processed_date").val();
                             var shipped_date = $("#shipped_date").val();
                             var delivered_date = $("#delivered_date").val();
                             var comments = $("#texComments").val();
                               var error_code=0; 
                             var refIDErrorMessage = "Please Enter ReferenceID";
                            var  dateErrorMessage = "Please Enter Date";
                            var CommentErrorMessage = "Please Enter Comments";
                             var StatusErrorMessage = "Please Select Status";
                         
                           
                if(trim(status) == "PROCESSED" || trim(status) == "FAILED" || trim(status) == "SHIPPED" || trim(status) == "DELIVERED")
		{
                    if(trim(referenceid).length == 0)
                    {
                            document.getElementById("errorMessage").innerHTML = refIDErrorMessage;
                            document.getElementById("texreferid").focus();
                            error_code =1;
                            return false;
                    }
                }
                if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = StatusErrorMessage;
			document.getElementById("status").focus();
                        error_code =1;
			return false;
		}
                if(trim(status) == "PROCESSED" || trim(status) == "FAILED" )
		{
		if(trim(processed_date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Processed Date";
			document.getElementById("processed_date").focus();
                        error_code =1;
			return false;
		}
                }
                if(trim(status) == "SHIPPED")
		{
                    
                if(trim(processed_date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Processed Date";
			document.getElementById("processed_date").focus();
                        error_code =1;
			return false;
		}
                if(trim(shipped_date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Shipped Date";
			document.getElementById("shipped_date").focus();
                        error_code =1;
			return false;
		} 
                }
                if(trim(status) == "DELIVERED")
		{
                   if(trim(processed_date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Processed Date";
			document.getElementById("processed_date").focus();
                        error_code =1;
			return false;
		}
                if(trim(shipped_date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Shipped Date";
			document.getElementById("shipped_date").focus();
                        error_code =1;
			return false;
		} 
                if(trim(delivered_date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Delivered Date";
			document.getElementById("delivered_date").focus();
                        error_code =1;
			return false;
		}
                }
		if(trim(comments).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = CommentErrorMessage;
			document.getElementById("texComments").focus();
                        error_code =1;
			return false;
		}
                
                
		if(error_code != 1){
            document.getElementById("errorMessage").innerHTML = "";
            referenceid = escape(referenceid);
            comments = escape(comments);
            status = escape(status);
            var path = "status="+status+"&orderid="+orderid+"&referenceid="+referenceid+"&comments="+comments+
                    "&processed_date="+processed_date+"&shipped_date="+shipped_date+"&delivered_date="+delivered_date;
                       $("#popup_billprocess").load("updateEcomOrderDetails.php", path);
                       return true;
            
        }
		  
		  
                             
			
                        

                                   
		
				
			}
                         function updateEcomOrder_PROCESS(orderid)
			{
				              
                            var orderid ;
                             var referenceid = $("#texrefer_emomordridp").val();
                             var status = $("#ecomorder_prc_statusp").val();
                             var processed_date = $("#processed_date").val();
//                             var shipped_date = $("#shipped_date").val();
//                             var delivered_date = $("#delivered_date").val();
                             var comments = $("#texCommentsp").val();
                               var error_code=0; 
                             var refIDErrorMessage = "Please Enter ReferenceID";
                            var  dateErrorMessage = "Please Enter Date";
                            var CommentErrorMessage = "Please Enter Comments";
                             var StatusErrorMessage = "Please Select Status";
                         
                           
                
                    
                
                if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = StatusErrorMessage;
			document.getElementById("ecomorder_prc_statusp").focus();
                        error_code =1;
			return false;
		}
                if(trim(status) == "PROCESSED" )
		{
		if(trim(processed_date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Processed Date";
			document.getElementById("processed_date").focus();
                        error_code =1;
			return false;
		}
                if(trim(referenceid).length == 0)
                    {
                            document.getElementById("errorMessage").innerHTML = refIDErrorMessage;
                            document.getElementById("texrefer_emomordridp").focus();
                            error_code =1;
                            return false;
                    }
                }
//                if(trim(status) == "SHIPPED")
//		{
//                    
//                if(trim(processed_date) == "0000-00-00")
//		{
//			document.getElementById("errorMessage").innerHTML = "Please Select Processed Date";
//			document.getElementById("processed_date").focus();
//                        error_code =1;
//			return false;
//		}
//                if(trim(shipped_date) == "0000-00-00")
//		{
//			document.getElementById("errorMessage").innerHTML = "Please Select Shipped Date";
//			document.getElementById("shipped_date").focus();
//                        error_code =1;
//			return false;
//		} 
//                }
//                if(trim(status) == "DELIVERED")
//		{
//                   if(trim(processed_date) == "0000-00-00")
//		{
//			document.getElementById("errorMessage").innerHTML = "Please Select Processed Date";
//			document.getElementById("processed_date").focus();
//                        error_code =1;
//			return false;
//		}
//                if(trim(shipped_date) == "0000-00-00")
//		{
//			document.getElementById("errorMessage").innerHTML = "Please Select Shipped Date";
//			document.getElementById("shipped_date").focus();
//                        error_code =1;
//			return false;
//		} 
//                if(trim(delivered_date) == "0000-00-00")
//		{
//			document.getElementById("errorMessage").innerHTML = "Please Select Delivered Date";
//			document.getElementById("delivered_date").focus();
//                        error_code =1;
//			return false;
//		}
//                }
//		if(trim(comments).length == 0)
//		{
//			document.getElementById("errorMessage").innerHTML = CommentErrorMessage;
//			document.getElementById("texCommentsp").focus();
//                        error_code =1;
//			return false;
//		}
                
                 var CommentErrorMessagespe = "Special charecters are not allowed in comments";
                 var re = /^[ A-Za-z0-9. #]*$/
                 if(trim(comments).length != 0){
               if (!re.test(comments)) {
                  document.getElementById("errorMessage").innerHTML = CommentErrorMessagespe;
			document.getElementById("texCommentsp").focus();
                        error_code =1;
			return false;
}}
		if(error_code != 1){
            document.getElementById("errorMessage").innerHTML = "";
            referenceid = escape(referenceid);
            comments = escape(comments);
            status = escape(status);
            var path = "status="+status+"&orderid="+orderid+"&referenceid="+referenceid+"&comments="+comments+
                    "&processed_date="+processed_date;
                       $("#popup_billprocess").load("updateEcomOrderDetails.php", path);
                       return true;
            
        }
			}
                         function updateEcomOrder_SHIPPED(orderid)
			{
				              
                            var orderid ;
                             var referenceid = $("#texrefer_emomordrids").val();
                             var status = $("#ecomorder_prc_statuss").val();
//                             var processed_date = $("#processed_date").val();
                           var shipped_date = $("#shipped_date").val();
                             var shipped_time = $("#shipped_time").val();
                             var shipped_to = $("#shipped_to").val();
                             var comments = $("#texCommentss").val();
                             var shipped_contact_name = $("#shipped_contact_name").val();
                             var shipped_contact_no = $("#shipped_contact_no").val();
                               var error_code=0; 
                             var refIDErrorMessage = "Please Enter ReferenceID";
                            var  dateErrorMessage = "Please Enter Date";
                            var CommentErrorMessage = "Please Enter Comments";
                             var StatusErrorMessage = "Please Select Status";
                         
                           
                
                    
                if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = StatusErrorMessage;
			document.getElementById("ecomorder_prc_statuss").focus();
                        error_code =1;
			return false;
		}
                
                
                
                 if(status == "SHIPPED"){   
                if(trim(referenceid).length == 0)
                    {
                            document.getElementById("errorMessage").innerHTML = refIDErrorMessage;
                            document.getElementById("texrefer_emomordrids").focus();
                            error_code =1;
                            return false;
                    }
                
                if(trim(shipped_date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Shipped Date";
			document.getElementById("shipped_date").focus();
                        error_code =1;
			return false;
		} 
                if(trim(shipped_time).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Shipped Time";
			document.getElementById("shipped_date").focus();
                        error_code =1;
			return false;
		} 
                if(trim(shipped_to).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Shipped To";
			document.getElementById("shipped_to").focus();
                        error_code =1;
			return false;
		}
                 }
//              	if(trim(comments).length == 0)
//		{
//			document.getElementById("errorMessage").innerHTML = CommentErrorMessage;
//			document.getElementById("texCommentss").focus();
//                        error_code =1;
//			return false;
//		}
                var re = /^[ A-Za-z0-9. #]*$/
                
                 var CommentErrorMessagespe = "Special charecters are not allowed in comments";
                 var re1 = /^[ 0-9. #]*$/
                 
                 if(trim(shipped_contact_no).length != 0)
                 {
                   if (!re1.test(shipped_contact_no)) {
                  document.getElementById("errorMessage").innerHTML = CommentErrorMessagespe;
			document.getElementById("shipped_contact_no").focus();
                        error_code =1;
			return false;
}  
                 }
                 if(trim(comments).length != 0){
               if (!re.test(comments)) {
                  document.getElementById("errorMessage").innerHTML = CommentErrorMessagespe;
			document.getElementById("texCommentsp").focus();
                        error_code =1;
			return false;
}}
		if(error_code != 1){
                              document.getElementById("errorMessage").innerHTML = "";
            referenceid = escape(referenceid); shipped_time = escape(shipped_time); shipped_contact_name = escape(shipped_contact_name);
            comments = escape(comments);shipped_contact_no = escape(shipped_contact_no);
            status = escape(status);
            var path = "status="+status+"&orderid="+orderid+"&referenceid="+referenceid+"&comments="+comments+
                    "&shipped_date="+shipped_date+"&shipped_to="+shipped_to+"&shipped_time="+shipped_time+
                    "&shipped_contact_name="+shipped_contact_name+"&shipped_contact_no="+shipped_contact_no;
                       $("#popup_billprocess").load("updateEcomOrderDetails.php", path);
                       return true;
            
        }
			}
                        function updateEcomOrder_DELIVERED(orderid)
			{
				              
                            var orderid ;
                             var referenceid = $("#texrefer_emomordrid").val();
                             var status = $("#ecomorder_prc_status").val();
                                var shipped_to = $("#ecom_dlvr_loc").val();
                                 var shipped_contact_name = $("#received_by").val();
                             var shipped_contact_no = $("#delvr_mobile_no").val();
                             var delivered_date = $("#delivered_date").val();
                              var shipped_time = $("#deliveredtime").val();
                             var comments = $("#texComments").val();
                               var error_code=0; 
                             var refIDErrorMessage = "Please Enter ReferenceID";
                            var  dateErrorMessage = "Please Enter Date";
                            var CommentErrorMessage = "Please Enter Comments";
                             var StatusErrorMessage = "Please Select Status";
                         
                           
                
                    if(trim(referenceid).length == 0)
                    {
                            document.getElementById("errorMessage").innerHTML = refIDErrorMessage;
                            document.getElementById("texreferid").focus();
                            error_code =1;
                            return false;
                    }
                
                if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = StatusErrorMessage;
			document.getElementById("status").focus();
                        error_code =1;
			return false;
		}

                if(trim(status) == "DELIVERED")
		{

                if(trim(delivered_date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Delivered Date";
			document.getElementById("delivered_date").focus();
                        error_code =1;
			return false;
		}
                 if(trim(shipped_time).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Delivered Time";
			document.getElementById("shipped_date").focus();
                        error_code =1;
			return false;
		} 
                }
//		if(trim(comments).length == 0)
//		{
//			document.getElementById("errorMessage").innerHTML = CommentErrorMessage;
//			document.getElementById("texComments").focus();
//                        error_code =1;
//			return false;
//		}
                
                 var CommentErrorMessagespe = "Special charecters are not allowed in comments";
                 var re = /^[ A-Za-z0-9_@.:#&+-]*$/;
//var re = /^[a-zA-Z0-9_\.\-]*$/;
if(trim(comments).length == 0){
               if (!comments.match(re)) {
                  document.getElementById("errorMessage").innerHTML = CommentErrorMessagespe;
			document.getElementById("texCommentsp").focus();
                        error_code =1;
			return false;
}}
var re1 = /^[ 0-9. #]*$/
                 if(trim(shipped_contact_no).length != 0)
                 {
                     var CommentErrorMessagespe1 = "Please enter valid phone number";
                   if (!re1.test(shipped_contact_no)) {
                  document.getElementById("errorMessage").innerHTML = CommentErrorMessagespe1;
			document.getElementById("delvr_mobile_no").focus();
                        error_code =1;
			return false;
}  
                 }
		if(error_code != 1){
            document.getElementById("errorMessage").innerHTML = "";
            referenceid = escape(referenceid);
            comments = escape(comments);
            status = escape(status);
            shipped_time = escape(shipped_time); shipped_contact_name = escape(shipped_contact_name);
            shipped_contact_no = escape(shipped_contact_no);
          
            
            var path = "status="+status+"&orderid="+orderid+"&referenceid="+referenceid+"&comments="+comments+
                    "&shipped_date="+delivered_date+"&shipped_to="+shipped_to+"&shipped_time="+shipped_time+
                    "&shipped_contact_name="+shipped_contact_name+"&shipped_contact_no="+shipped_contact_no;
                       $("#popup_billprocess").load("updateEcomOrderDetails.php", path);
                       return true;
            
        }
		  
		  
                             
			
                        

                                   
		
				
			}
                        
                        
                       function updateEcomOrder_PROCESS_in(orderid)
			{
				              
                            var orderid ;
                             var referenceid = $("#texrefer_emomordridp").val();
                             var status = $("#ecomorder_prc_statusp").val();
                             var processed_date = $("#processed_date").val();
//                             var shipped_date = $("#shipped_date").val();
//                             var delivered_date = $("#delivered_date").val();
                             var comments = $("#texCommentsp").val();
                               var error_code=0; 
                             var refIDErrorMessage = "Please Enter ReferenceID";
                            var  dateErrorMessage = "Please Enter Date";
                            var CommentErrorMessage = "Please Enter Comments";
                           
                             var StatusErrorMessage = "Please Select Status";
                         
                           
                
                    
                
                if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = StatusErrorMessage;
			document.getElementById("ecomorder_prc_statusp").focus();
                        error_code =1;
			return false;
		}
                if(trim(status) == "PROCESSED" )
		{
		if(trim(processed_date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Processed Date";
			document.getElementById("processed_date").focus();
                        error_code =1;
			return false;
		}
                if(trim(referenceid).length == 0)
                    {
                            document.getElementById("errorMessage").innerHTML = refIDErrorMessage;
                            document.getElementById("texrefer_emomordridp").focus();
                            error_code =1;
                            return false;
                    }
                }
//                if(trim(status) == "SHIPPED")
//		{
//                    
//                if(trim(processed_date) == "0000-00-00")
//		{
//			document.getElementById("errorMessage").innerHTML = "Please Select Processed Date";
//			document.getElementById("processed_date").focus();
//                        error_code =1;
//			return false;
//		}
//                if(trim(shipped_date) == "0000-00-00")
//		{
//			document.getElementById("errorMessage").innerHTML = "Please Select Shipped Date";
//			document.getElementById("shipped_date").focus();
//                        error_code =1;
//			return false;
//		} 
//                }
//                if(trim(status) == "DELIVERED")
//		{
//                   if(trim(processed_date) == "0000-00-00")
//		{
//			document.getElementById("errorMessage").innerHTML = "Please Select Processed Date";
//			document.getElementById("processed_date").focus();
//                        error_code =1;
//			return false;
//		}
//                if(trim(shipped_date) == "0000-00-00")
//		{
//			document.getElementById("errorMessage").innerHTML = "Please Select Shipped Date";
//			document.getElementById("shipped_date").focus();
//                        error_code =1;
//			return false;
//		} 
//                if(trim(delivered_date) == "0000-00-00")
//		{
//			document.getElementById("errorMessage").innerHTML = "Please Select Delivered Date";
//			document.getElementById("delivered_date").focus();
//                        error_code =1;
//			return false;
//		}
//                }
//		if(trim(comments).length == 0)
//		{
//			document.getElementById("errorMessage").innerHTML = CommentErrorMessage;
//			document.getElementById("texCommentsp").focus();
//                        error_code =1;
//			return false;
//		}
                //alert(comments);
                 //var re = /^[ A-Za-z0-9_@./#&+-]*$/
                  var CommentErrorMessagespe = "Special charecters are not allowed in comments";
                 var re = /^[ A-Za-z0-9. #]*$/
                 if(trim(comments).length == 0){
               if (!re.test(comments)) {
                  document.getElementById("errorMessage").innerHTML = CommentErrorMessagespe;
			document.getElementById("texCommentsp").focus();
                        error_code =1;
			return false;
}}
                
		if(error_code != 1){
                    
                    $('#btnproceess').attr('disabled','disabled');
                    //$('btnproceess').attr('disabled','disabled');
            document.getElementById("errorMessage").innerHTML = "";
            referenceid = escape(referenceid);
            comments = escape(comments);
            status = escape(status);
            
            var path = "status="+status+"&orderid="+orderid+"&referenceid="+referenceid+"&comments="+comments+
                    "&processed_date="+processed_date;
                       $("#popup_billprocess").load("ecom_full_update.php", path);
                       return true;
            
        }
			}
                         function updateEcomOrder_SHIPPED_in(orderid)
			{
				              
                            var orderid ;
                             var referenceid = $("#texrefer_emomordrids").val();
                             var status = $("#ecomorder_prc_statuss").val();
//                             var processed_date = $("#processed_date").val();
                           var shipped_date = $("#shipped_date").val();
                             var shipped_time = $("#shipped_time").val();
                             var shipped_to = $("#shipped_to").val();
                             var comments = $("#texCommentss").val();
                             var shipped_contact_name = $("#shipped_contact_name").val();
                             var shipped_contact_no = $("#shipped_contact_no").val();
                               var error_code=0; 
                             var refIDErrorMessage = "Please Enter ReferenceID";
                            var  dateErrorMessage = "Please Enter Date";
                            var CommentErrorMessage = "Please Enter Comments";
                             var StatusErrorMessage = "Please Select Status";
                         
                           
                
                    
                if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = StatusErrorMessage;
			document.getElementById("ecomorder_prc_statuss").focus();
                        error_code =1;
			return false;
		}
                
                
                
                 if(status == "SHIPPED"){   
                if(trim(referenceid).length == 0)
                    {
                            document.getElementById("errorMessage").innerHTML = refIDErrorMessage;
                            document.getElementById("texrefer_emomordrids").focus();
                            error_code =1;
                            return false;
                    }
                
                if(trim(shipped_date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Shipped Date";
			document.getElementById("shipped_date").focus();
                        error_code =1;
			return false;
		} 
                if(trim(shipped_time).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Shipped Time";
			document.getElementById("shipped_date").focus();
                        error_code =1;
			return false;
		} 
                if(trim(shipped_to).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Shipped To";
			document.getElementById("shipped_to").focus();
                        error_code =1;
			return false;
		}
                 }
//              	if(trim(comments).length == 0)
//		{
//			document.getElementById("errorMessage").innerHTML = CommentErrorMessage;
//			document.getElementById("texCommentss").focus();
//                        error_code =1;
//			return false;
//		}
                 var CommentErrorMessagespe = "Special charecters are not allowed in comments";
                 var re = /^[ A-Za-z0-9. #]*$/
                 if(trim(comments).length != 0){
               if (!re.test(comments)) {
                  document.getElementById("errorMessage").innerHTML = CommentErrorMessagespe;
			document.getElementById("texCommentsp").focus();
                        error_code =1;
			return false;
}}

var re1 = /^[ 0-9. #]*$/
                 if(trim(shipped_contact_no).length != 0)
                 {
                     var CommentErrorMessagespe1 = "Please enter valid phone number";
                   if (!re1.test(shipped_contact_no)) {
                  document.getElementById("errorMessage").innerHTML = CommentErrorMessagespe1;
			document.getElementById("shipped_contact_no").focus();
                        error_code =1;
			return false;
}  
                 }
                
		if(error_code != 1){
                    $('#btnshipping').attr('disabled','disabled');
                              document.getElementById("errorMessage").innerHTML = "";
            referenceid = escape(referenceid); shipped_time = escape(shipped_time); shipped_contact_name = escape(shipped_contact_name);
            comments = escape(comments);shipped_contact_no = escape(shipped_contact_no);
            status = escape(status);
            var path = "status="+status+"&orderid="+orderid+"&referenceid="+referenceid+"&comments="+comments+
                    "&shipped_date="+shipped_date+"&shipped_to="+shipped_to+"&shipped_time="+shipped_time+
                    "&shipped_contact_name="+shipped_contact_name+"&shipped_contact_no="+shipped_contact_no;
                       $("#popup_billprocess").load("ecom_full_update.php", path);
                       return true;
            
        }
			}
                        function updateEcomOrder_DELIVERED_in(orderid)
			{
				              
                            var orderid ;
                             var referenceid = $("#texrefer_emomordrid").val();
                             var status = $("#ecomorder_prc_status").val();
                                var shipped_to = $("#ecom_dlvr_loc").val();
                                 var shipped_contact_name = $("#received_by").val();
                             var shipped_contact_no = $("#delvr_mobile_no").val();
                             var delivered_date = $("#delivered_date").val();
                              var shipped_time = $("#deliveredtime").val();
                             var comments = $("#texComments").val();
                               var error_code=0; 
                             var refIDErrorMessage = "Please Enter ReferenceID";
                            var  dateErrorMessage = "Please Enter Date";
                            var CommentErrorMessage = "Please Enter Comments";
                             var StatusErrorMessage = "Please Select Status";
                         
                           
                
                    if(trim(referenceid).length == 0)
                    {
                            document.getElementById("errorMessage").innerHTML = refIDErrorMessage;
                            document.getElementById("texreferid").focus();
                            error_code =1;
                            return false;
                    }
                
                if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = StatusErrorMessage;
			document.getElementById("status").focus();
                        error_code =1;
			return false;
		}

                if(trim(status) == "DELIVERED")
		{

                if(trim(delivered_date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Delivered Date";
			document.getElementById("delivered_date").focus();
                        error_code =1;
			return false;
		}
                 if(trim(shipped_time).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Delivered Time";
			document.getElementById("shipped_date").focus();
                        error_code =1;
			return false;
		} 
                }
//		if(trim(comments).length == 0)
//		{
//			document.getElementById("errorMessage").innerHTML = CommentErrorMessage;
//			document.getElementById("texComments").focus();
//                        error_code =1;
//			return false;
//		}
                 var CommentErrorMessagespe = "Special charecters are not allowed in comments";
                 var re = /^[ A-Za-z0-9. #]*$/
                 if(trim(comments).length > 0){
               if (!re.test(comments)) {
                  document.getElementById("errorMessage").innerHTML = CommentErrorMessagespe;
			document.getElementById("texCommentsp").focus();
                        error_code =1;
			return false;
}}
var re1 = /^[ 0-9. #]*$/
                 if(trim(shipped_contact_no).length != 0)
                 {
                     var CommentErrorMessagespe1 = "Please enter valid phone number";
                   if (!re1.test(shipped_contact_no)) {
                  document.getElementById("errorMessage").innerHTML = CommentErrorMessagespe1;
			document.getElementById("delvr_mobile_no").focus();
                        error_code =1;
			return false;
}  
                 }
                
		if(error_code != 1){
                    
                    $('#btndeliver').attr('disabled','disabled');
            document.getElementById("errorMessage").innerHTML = "";
            referenceid = escape(referenceid);
            comments = escape(comments);
            status = escape(status);
            shipped_time = escape(shipped_time); shipped_contact_name = escape(shipped_contact_name);
            shipped_contact_no = escape(shipped_contact_no);
          
            
            var path = "status="+status+"&orderid="+orderid+"&referenceid="+referenceid+"&comments="+comments+
                    "&shipped_date="+delivered_date+"&shipped_to="+shipped_to+"&shipped_time="+shipped_time+
                    "&shipped_contact_name="+shipped_contact_name+"&shipped_contact_no="+shipped_contact_no;
                       $("#popup_billprocess").load("ecom_full_update.php", path);
                       return true;
            
        }
		  
		  
                             
			
                        

                                   
		
				
			} 
                        
                        
                        
                        
                        
                        
                        
                            function editecomerceproduct(productid,prod_category,prod_sub_catg,prod_name,available_from,available_to,ecom_prod_status){
      var url = "editecomerceproduct.php";
            var path = "prod_id="+productid+"&prod_category="+prod_category+
                        "&prod_sub_catg="+prod_sub_catg+"&prod_name="+prod_name+"&available_from="+available_from+"&available_to="+available_to
                +"&ecom_prod_status="+ecom_prod_status;;
            var divid = "#alter";
         <?php   
          $access = "edit";
          $objects = "ECOMMERCE PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    
    }

    function getPaymentDets(betid,firstName,lastName,mobNumber,collectionLimit,currentCollection)
    {
                var url = "beatguypayments.php";
               var path = "betid="+betid+"&firstname="+firstName+"&lastname="+lastName+"&mobnum="+mobNumber+"&collectionlimit="+collectionLimit+"&collected="+currentCollection;
              
                var divid = "#alter";

             <?php   
                           $access = "search";
                           $objects = "BEATGUY PAYMENTS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
           
    }
    function addPaymentDets(betid)
    {
                var url = "addbeatguypayments.php";
               var path = "betid="+betid;
              var divid = "#popup_billprocess";
            var width = 900;
            var height = 500;
            var title = "Canvasser Payments";

             <?php   
                           $access = "create";
                           $objects = "BEATGUY PAYMENTS";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
           
    }
    function addBeatguyPaymnts(collected){
       
                             var remarks = $("#remarks").val();
                             var amount =$("#paidamount").val();
                            
                            var collectedamount=collected;
                             var error_code = 0;
                             var tot_percpattern = /^[0-9 .]+$/;
                             
                             if(trim(amount).length == 0)
                            {
                                    document.getElementById("error_beatguy_paymnts").innerHTML = "Please Enter Valid Amount";
                                    document.getElementById("paidamount").focus();
                                    error_code=1;
                                    return false;
                            }
                              
                            if(!amount.match(tot_percpattern))
                            {
                                document.getElementById("error_beatguy_paymnts").innerHTML = "Please Enter Valid Amount";
                                document.getElementById("paidamount").focus();
                                error_code=1;
                                return false;
                            }
                            if(parseFloat(amount) > collectedamount)
                            {
                                  document.getElementById("error_beatguy_paymnts").innerHTML = "Please Enter Valid Amount";
                                  document.getElementById("paidamount").focus();
                                  error_code=1;
                                  return false;
                            }
                             
                            if(trim(remarks).length == 0)
                            {
                                    document.getElementById("error_beatguy_paymnts").innerHTML = "Please Fill Remarks";
                                    document.getElementById("remarks").focus();
                                    error_code=1;
                                    return false;
                            }
                 if(error_code != 1)
                {
                     var add_beatguy_paymnts = $('#add_beatguy_paymnts').serialize();
                  
                document.getElementById("error_beatguy_paymnts").innerHTML = "";
                 
                            $('#insert_beatguy_payments').load("insertBeatguyPayment.php",add_beatguy_paymnts);
                return true;
                }
    }

    function ecomprodvalidate(){
        var prod_category =  $("#prod_category").val();
        var prod_sub_category =  $("#prod_sub_category").val();
        var ecom_prod_name =  $("#ecom_prod_name").val();
        
        //var ecom_prod_desc = $("#ecom_prod_desc").val();
       
        var ecom_prod_desc = tinyMCE.get('ecom_prod_desc').getContent();
         //alert(text);
        var ecom_prod_price = $("#ecom_prod_price").val();
        var ecom_prod_vendor_price = $("#ecom_prod_vendor_price").val();
        var ecom_prod_ipex_price = $("#ecom_prod_ipex_price").val();
        var ecom_prod_shipping_price = $("#ecom_prod_shipping_price").val();
         var available_from = $("#available_from").val();
         var ecom_prod_status = $("#ecom_prod_status").val();
         var ecom_prod_count = $("#ecom_prod_count").val();
         var shipping_addr_type = $("#shipping_addr_type").val();
         var shipping_price_type = $("#shipping_price_type").val();
         var elements = document.getElementsByClassName('mandatory');
         var ecom_refer_link = $("#ecom_refer_link").val();
         var image_ecom_prod1 = $("#image_ecom_prod1").val();
          var max_qnty_per_order = $("#max_qnty_per_order").val();
          var max_qnty_per_customer = $("#max_qnty_per_customer").val();
          var ecom_prod_discount = $("#ecom_prod_discount").val();
          var ecom_free_price = $("#ecom_free_price").val();
          var product_type=$('input[name=ecom_prod_type]:checked').val();
          var outofstock=$('input[name=outof_order]:checked').val();
         var coupon_apply = $("#coupon_apply").val();
        var min_selling_price = $("#ecom_prd_min_sell_price").val();
        var prod_seller_name = $("#prod_seller_name").val();
          var outofstock_qty=$('#oocutoff').val();
           var size_chart = $("#size_chart").val();
           var chart_type = $("#chart_type").val();
        var error_code = 0;
        var mobilenopattern = /^[0-9 .]+$/;
        var mobilenopattern1 = /^[0-9]+$/;
    
       
         if(trim(prod_category).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Category";
                document.getElementById("prod_category").focus();
                error_code=1;
                return false;
        }
        
           if(trim(size_chart).length != 0)
        {
             if(size_chart== "1")
        {
            if(trim(chart_type).length == 0){
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Chart type";
                document.getElementById("chart_type").focus();
                error_code=1;
                return false;
            }
        }
    }
        if(product_type=="Combo"){
			
			var combo_product_id1= $("#hid_upcomingprods1").val();
			var combo_product_id2= $("#hid_upcomingprods2").val();
			var combo_product_id3= $("#hid_upcomingprods3").val();
			var combo_qty1=$("#combo_qty_1").val();
			var combo_qty2=$("#combo_qty_2").val();
			var combo_qty3=$("#combo_qty_3").val();
			
			
			
			if(combo_product_id2=="" && combo_product_id3=="" && combo_product_id1=="" )
			{   document.getElementById("error_messge_ecomprod").innerHTML = "Please select at least on combo product";
               document.getElementById("Combo").focus();
				error_code=1;
                return false
				}
				if(combo_product_id1!="" )
			{ if(combo_qty1 < 1)
				{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Qty for combo option 1";
                document.getElementById("combo_qty_1").focus();
				error_code=1;
                return false
				}
					
			}
			if(combo_product_id2=="" && combo_product_id3=="")
			{ if(combo_qty1 <= 1)
				{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Qty for combo option 1";
                document.getElementById("combo_qty_1").focus();
				error_code=1;
                return false
				}
					
			}
			if(combo_product_id1==""&&combo_product_id2=="" &&combo_product_id3!="")
			{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please select combo option 1";
                document.getElementById("combo_qty_3").focus();
				error_code=1;
                return false
				}
				if(combo_product_id1==""&&combo_product_id2!="" &&combo_product_id3!="")
			{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please select combo option 1";
                document.getElementById("combo_qty_2").focus();
				error_code=1;
                return false
				}
			if(combo_product_id1==""&&combo_product_id2!="" &&combo_product_id3=="")
			{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please select combo option 1";
                document.getElementById("combo_qty_2").focus();
				error_code=1;
                return false
				}
			if(combo_product_id2!="" )
			{ if(combo_qty2 < 1)
				{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Qty for combo option 2";
                document.getElementById("combo_qty_2").focus();
				error_code=1;
                return false
				}
					
			}
			if(combo_product_id3!="" )
			{ if(combo_qty3 < 1)
				{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Qty for combo option 3";
                document.getElementById("combo_qty_2").focus();
				error_code=1;
                return false
				}
					
			}
			
			}
//        if(trim(prod_sub_category).length == 0)
//        {
//                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Sub Category";
//                document.getElementById("prod_sub_category").focus();
//                error_code=1;
//                return false;
//        }
         if(trim(ecom_prod_name).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Product Name";
                document.getElementById("ecom_prod_name").focus();
                error_code=1;
                return false;
        }
        if(product_type!="Combo"){
         if(trim(ecom_prod_count).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Count";
                document.getElementById("ecom_prod_count").focus();
                error_code=1;
                return false;
        }
	
        if(!ecom_prod_count.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Count";
                document.getElementById("ecom_prod_count").focus();
                error_code=1;
                return false;
		}
         }
                if(trim(max_qnty_per_order).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Maximum Quantity For Order";
                document.getElementById("max_qnty_per_order").focus();
                error_code=1;
                return false;
        }
        
        if(!max_qnty_per_order.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Maximum Quantity For Order";
                document.getElementById("max_qnty_per_order").focus();
                error_code=1;
                return false;
		}
                if(trim(max_qnty_per_customer).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Maximum Quantity For Customer";
                document.getElementById("max_qnty_per_customer").focus();
                error_code=1;
                return false;
        }
        
        if(!max_qnty_per_customer.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Maximum Quantity For Customer";
                document.getElementById("max_qnty_per_customer").focus();
                error_code=1;
                return false;
		}
                
                if (document.getElementById('min_qnty_per_order')) {
                    
                    var min_qnty_per_order = $("#min_qnty_per_order").val();
                     if(trim(min_qnty_per_order).length == 0 || min_qnty_per_order==0 )
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Minmum Quantity For Order";
                document.getElementById("min_qnty_per_order").focus();
                error_code=1;
                return false;
        }
        
        if(!min_qnty_per_order.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Minimun Quantity For Orde";
                document.getElementById("min_qnty_per_order").focus();
                error_code=1;
                return false;
		}
                    
    //field exists
   // alert('exits');
}else{
     // alert('notexits');  
} 
                
                
                if(trim(ecom_refer_link).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Reference Link";
                document.getElementById("ecom_refer_link").focus();
                error_code=1;
                return false;
        }
        
        if(trim(image_ecom_prod1).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Image";
                document.getElementById("image_ecom_prod1").focus();
                error_code=1;
                return false;
        }
        if(trim(ecom_prod_desc).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Product Description";
                document.getElementById("ecom_prod_desc").focus();
                error_code=1;
                return false;
        }
        if(trim(ecom_prod_price).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Price";
                document.getElementById("ecom_prod_price").focus();
                error_code=1;
                return false;
        }
        if(!ecom_prod_price.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Price";
                document.getElementById("ecom_prod_price").focus();
                error_code=1;
                return false;
		}
        if(trim(ecom_prod_vendor_price).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prod_vendor_price").focus();
                error_code=1;
                return false;
        }
        if(!ecom_prod_vendor_price.match(mobilenopattern))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prod_vendor_price").focus();
                error_code=1;
                return false;
		}
        if(trim(ecom_prod_ipex_price).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prod_ipex_price").focus();
                error_code=1;
                return false;
        }
        
        if(!ecom_prod_ipex_price.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prod_ipex_price").focus();
                error_code=1;
                return false;
		}
                if(trim(shipping_addr_type).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Ships For";
                document.getElementById("shipping_addr_type").focus();
                error_code=1;
                return false;
        }
                if(trim(shipping_price_type).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select shipping price type";
                document.getElementById("shipping_price_type").focus();
                error_code=1;
                return false;
        }
        if(trim(ecom_prod_shipping_price).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Product Shipping Price";
                document.getElementById("ecom_prod_shipping_price").focus();
                error_code=1;
                return false;
        }
         if(!ecom_prod_shipping_price.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Shipping Price";
                document.getElementById("ecom_prod_shipping_price").focus();
                error_code=1;
                return false;
		}
        if(trim(available_from)== "0000-00-00")
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Available  Date";
                document.getElementById("available_from").focus();
                error_code=1;
                return false;
        }
        if(trim(ecom_prod_status).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Status";
                document.getElementById("ecom_prod_status").focus();
                error_code=1;
                return false;
        }
        if(trim(ecom_prod_discount).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Instant Discount";
                document.getElementById("ecom_prod_discount").focus();
                error_code=1;
                return false;
        }
        if(!ecom_prod_discount.match(mobilenopattern))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Instant Discount";
                document.getElementById("ecom_prod_discount").focus();
                error_code=1;
                return false;
		}
                
                if(trim(ecom_free_price).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Free Ecommerce Price";
                document.getElementById("ecom_free_price").focus();
                error_code=1;
                return false;
        }
        if(!ecom_free_price.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Free Ecommerce Price";
                document.getElementById("ecom_free_price").focus();
                error_code=1;
                return false;
		}
		  if(trim(coupon_apply).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Coupon Applicable";
                document.getElementById("coupon_apply").focus();
                error_code=1;
                return false;
        }
        if(trim(prod_seller_name).length == 0){
            document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Seller Name";
             document.getElementById("prod_seller_name").focus();
                error_code=1;
                return false;
        }

 if(trim(min_selling_price).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Min Selling Price";
                document.getElementById("ecom_prd_min_sell_price").focus();
                error_code=1;
                return false;
        }
       
        if(!min_selling_price.match(mobilenopattern))
        {
            document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prd_min_sell_price").focus();
                error_code=1;
                return false;
        }
               
        if(parseFloat(min_selling_price) > parseFloat(ecom_prod_ipex_price)){
           document.getElementById("error_messge_ecomprod").innerHTML = "Selling Price Should Not Be Greater Than Ipex Price";
                document.getElementById("ecom_prd_min_sell_price").focus();
                //alert("Selling Price Should Not Be Greater Than Ipex Price");
                error_code=1;
                return false;
        } 
       if(outofstock==0)
		{
			    if(trim(outofstock_qty).length == 0){
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Stop limit";
                document.getElementById("oocutoff").focus();
                error_code=1;
                return false;
        }
        if(!outofstock_qty.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Stop limit";
                document.getElementById("oocutoff").focus();
                error_code=1;
                return false;
		}
	}
		
        for (var i = 0, length = elements.length; i < length; i++) {
                    if (elements[i].value == '') {

                        document.getElementById("error_messge_ecomprod").innerHTML = "Please fill all required attribute values";
                        error_code = 1;
                        return false;

                    }


                }
        
        if(error_code != 1){
            document.getElementById("error_messge_ecomprod").innerHTML = "";
                $("#ecomprod_add").prop("disabled","disabled");
             return true;
            
        }
    }
    function ecomprodupdatevalidate(){ 
         var prod_category =  $("#prod_category").val();
        var prod_sub_category =  $("#prod_sub_category").val();
        var ecom_prod_name =  $("#ecom_prod_name").val();
        var ecom_prod_desc = tinyMCE.get('ecom_prod_desc').getContent();
        //var ecom_prod_desc = $("#ecom_prod_desc").val();
        var ecom_prod_price = $("#ecom_prod_price").val();
        var ecom_prod_vendor_price = $("#ecom_prod_vendor_price").val();
        var ecom_prod_ipex_price = $("#ecom_prod_ipex_price").val();
        var ecom_prod_shipping_price = $("#ecom_prod_shipping_price").val();
         var available_from = $("#available_from").val();
         var ecom_prod_status = $("#ecom_prod_status").val();
         var ecom_refer_link = $("#ecom_refer_link").val();
         var shipping_addr_type = $("#shipping_addr_type").val();
         var elements = document.getElementsByClassName('mandatory');
          var shipping_price_type = $("#shipping_price_type").val();
           var image_ecom_prod1 = $("#image_ecom_prod1").val();
           var max_qnty_per_order = $("#max_qnty_per_order").val();
            var max_qnty_per_customer = $("#max_qnty_per_customer").val();
           var available_cnt = $("#available_cnt").val();
            var ecom_prod_discount = $("#ecom_prod_discount").val();
           var  ecom_free_price = $("#ecom_free_price").val();
            var image_ecom_prodstt = $("#image_ecom_prodstt").val();
              var product_type=$('input[name=ecom_prod_type]:checked').val();
              var outofstock=$('input[name=outof_order]:checked').val();
         var coupon_apply = $("#coupon_apply").val();
        var min_selling_price = $("#ecom_prd_min_sell_price").val();
        var prod_seller_name = $("#prod_seller_name").val();

          var outofstock_qty=$('#oocutoff').val();
        var size_chart=$('#size_chart').val();
        var chart_type=$('#chart_type').val();
        var error_code = 0;
        var mobilenopattern = /^[0-9 .]+$/;
        var mobilenopattern1 = /^[0-9]+$/;
         if(trim(prod_category).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Select Category";
                document.getElementById("prod_category").focus();
                error_code=1;
                return false;
        }
        if(trim(size_chart).length != 0)
        {
            if(size_chart == "1")
        {
            if(trim(chart_type).length == 0){
                
            document.getElementById("error_update_ecomprod").innerHTML = "Please Select Chart Type";
                document.getElementById("chart_type").focus();
                error_code=1;
                return false;
            }
            }
                
        }
         if(product_type=="Combo"){
			
			var combo_product_id1= $("#hid_upcomingprods1").val();
			var combo_product_id2= $("#hid_upcomingprods2").val();
			var combo_product_id3= $("#hid_upcomingprods3").val();
			var combo_qty1=$("#combo_qty_1").val();
			var combo_qty2=$("#combo_qty_2").val();
			var combo_qty3=$("#combo_qty_3").val();
			
			if(combo_product_id2=="" && combo_product_id3=="" && combo_product_id1=="" )
			{   document.getElementById("error_update_ecomprod").innerHTML = "Please select at least on combo product";
               document.getElementById("Combo").focus();
				error_code=1;
                return false
				}
				if(combo_product_id1!="" )
			{ if(combo_qty1 < 1)
				{
				document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Qty for combo option 1";
                document.getElementById("combo_qty_1").focus();
				error_code=1;
                return false
				}
					
			}
			if(combo_product_id2=="" && combo_product_id3=="")
			{ if(combo_qty1 <= 1)
				{
				document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Qty for combo option 1";
                document.getElementById("combo_qty_1").focus();
				error_code=1;
                return false
				}
					
			}
			if(combo_product_id1==""&&combo_product_id2=="" &&combo_product_id3!="")
			{
				document.getElementById("error_update_ecomprod").innerHTML = "Please select combo option 1";
                document.getElementById("combo_qty_3").focus();
				error_code=1;
                return false
				}
				if(combo_product_id1==""&&combo_product_id2!="" &&combo_product_id3!="")
			{
				document.getElementById("error_update_ecomprod").innerHTML = "Please select combo option 1";
                document.getElementById("combo_qty_2").focus();
				error_code=1;
                return false
				}
			if(combo_product_id1==""&&combo_product_id2!="" &&combo_product_id3=="")
			{
				document.getElementById("error_update_ecomprod").innerHTML = "Please select combo option 1";
                document.getElementById("combo_qty_2").focus();
				error_code=1;
                return false
				}
			if(combo_product_id2!="" )
			{ if(combo_qty2 < 1)
				{
				document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Qty for combo option 2";
                document.getElementById("combo_qty_2").focus();
				error_code=1;
                return false
				}
					
			}
			if(combo_product_id3!="" )
			{ if(combo_qty3 < 1)
				{
				document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Qty for combo option 3";
                document.getElementById("combo_qty_2").focus();
				error_code=1;
                return false
				}
					
			}
			
			
			}
        
//        if(trim(prod_sub_category).length == 0)
//        {
//                document.getElementById("error_update_ecomprod").innerHTML = "Please Select Sub Category";
//                document.getElementById("prod_sub_category").focus();
//                error_code=1;
//                return false;
//        }
        if(trim(ecom_prod_name).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Product Name";
                document.getElementById("ecom_prod_name").focus();
                error_code=1;
                return false;
        }
        if(trim(ecom_refer_link).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Reference Link";
                document.getElementById("ecom_refer_link").focus();
                error_code=1;
                return false;
        }
        if(trim(max_qnty_per_customer).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Max Quantity Per Customer";
                document.getElementById("max_qnty_per_customer").focus();
                error_code=1;
                return false;
        }
        if(!max_qnty_per_customer.match(mobilenopattern1))
		{
			document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Max Quantity Per Customer";
                document.getElementById("max_qnty_per_customer").focus();
                error_code=1;
                return false;
		}
        
//        if(trim(available_cnt).length == 0)
//        {
//                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Available Count";
//                document.getElementById("available_cnt").focus();
//                error_code=1;
//                return false;
//        }
//        if(!available_cnt.match(mobilenopattern1))
//		{
//			document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Available Count";
//                document.getElementById("available_cnt").focus();
//                error_code=1;
//                return false;
//		}
//                if(trim(max_qnty_per_order).length == 0)
//        {
//                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Max Quantity Per Order";
//                document.getElementById("max_qnty_per_order").focus();
//                error_code=1;
//                return false;
//        }
//        if(!max_qnty_per_order.match(mobilenopattern1))
//		{
//			document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Max Quantity Per Order";
//                document.getElementById("max_qnty_per_order").focus();
//                error_code=1;
//                return false;
//		}

if (document.getElementById('min_qnty_per_order')) {
                    
                    var min_qnty_per_order = $("#min_qnty_per_order").val();
                     if(trim(min_qnty_per_order).length == 0 || min_qnty_per_order==0 )
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Minmum Quantity For Order";
                document.getElementById("min_qnty_per_order").focus();
                error_code=1;
                return false;
        }
        
        if(!min_qnty_per_order.match(mobilenopattern1))
		{
			document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Minimun Quantity For Orde";
                document.getElementById("min_qnty_per_order").focus();
                error_code=1;
                return false;
		}
                    
    //field exists
   // alert('exits');
}else{
     // alert('notexits');  
} 

                if(trim(ecom_prod_desc).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Product Description";
                document.getElementById("ecom_prod_desc").focus();
                error_code=1;
                return false;
        }
        if(trim(image_ecom_prodstt).length == 0){
        if(trim(image_ecom_prod1).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Select Image";
                document.getElementById("image_ecom_prod1").focus();
                error_code=1;
                return false;
        }
        }
        if(trim(ecom_prod_price).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Product Price";
                document.getElementById("ecom_prod_price").focus();
                error_code=1;
                return false;
        }
        if(!ecom_prod_price.match(mobilenopattern1))
		{
			document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Product Price";
                document.getElementById("ecom_prod_price").focus();
                error_code=1;
                return false;
		}
        if(trim(ecom_prod_vendor_price).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prod_vendor_price").focus();
                error_code=1;
                return false;
        }
        if(!ecom_prod_vendor_price.match(mobilenopattern))
		{
			document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prod_vendor_price").focus();
                error_code=1;
                return false;
		}
        if(trim(ecom_prod_ipex_price).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prod_ipex_price").focus();
                error_code=1;
                return false;
        }
        if(!ecom_prod_ipex_price.match(mobilenopattern1))
		{
			document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prod_ipex_price").focus();
                error_code=1;
                return false;
		}
                if(trim(shipping_addr_type).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Select Ships For";
                document.getElementById("shipping_addr_type").focus();
                error_code=1;
                return false;
        }
                if(trim(shipping_price_type).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Select shipping price type";
                document.getElementById("shipping_price_type").focus();
                error_code=1;
                return false;
        }
        if(trim(ecom_prod_shipping_price).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Product Shipping Price";
                document.getElementById("ecom_prod_shipping_price").focus();
                error_code=1;
                return false;
        }
         if(!ecom_prod_shipping_price.match(mobilenopattern1))
		{
			document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Product Shipping Price";
                document.getElementById("ecom_prod_shipping_price").focus();
                error_code=1;
                return false;
		}
        if(trim(available_from)== "0000-00-00")
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Select Available  Date";
                document.getElementById("available_from").focus();
                error_code=1;
                return false;
        }
        if(trim(ecom_prod_status).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Select Status";
                document.getElementById("ecom_prod_status").focus();
                error_code=1;
                return false;
        }
        if(trim(ecom_prod_discount).length == 0)
        {
            
                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Instant Discount";
                document.getElementById("ecom_prod_discount").focus();
                error_code=1;
                return false;
        }
        if(!ecom_prod_discount.match(mobilenopattern))
		{
			document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Instant Discount";
                document.getElementById("ecom_prod_ipex_price").focus();
                error_code=1;
                return false;
		}
                if(trim(ecom_free_price).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Free Ecommerce Price";
                document.getElementById("ecom_free_price").focus();
                error_code=1;
                return false;
        }
        if(!ecom_free_price.match(mobilenopattern1))
		{
			document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Free Ecommerce Price";
                document.getElementById("ecom_free_price").focus();
                error_code=1;
                return false;
		}
		if(trim(coupon_apply).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Select Coupon Applicable";
                document.getElementById("coupon_apply").focus();
                error_code=1;
                return false;
        }
        if(trim(prod_seller_name).length == 0){
            document.getElementById("error_update_ecomprod").innerHTML = "Please Select Seller Name";
             document.getElementById("prod_seller_name").focus();
                error_code=1;
                return false;
        }

if(trim(min_selling_price).length == 0)
        {
                document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Min Selling Price";
                document.getElementById("ecom_prd_min_sell_price").focus();
                error_code=1;
                return false;
        }
       
        if(!min_selling_price.match(mobilenopattern))
        {
            document.getElementById("error_update_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prd_min_sell_price").focus();
                error_code=1;
                return false;
        }
               
        if(parseFloat(min_selling_price) > parseFloat(ecom_prod_ipex_price)){
           document.getElementById("error_update_ecomprod").innerHTML = "Selling Price Should Not Be Greater Than Ipex Price";
                document.getElementById("ecom_prd_min_sell_price").focus();
                //alert("Selling Price Should Not Be Greater Than Ipex Price");
                error_code=1;
                return false;
        }
		     if(outofstock==0)
		{
			    if(trim(outofstock_qty).length == 0){
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Stop limit";
                document.getElementById("oocutoff").focus();
                error_code=1;
                return false;
        }
        if(!outofstock_qty.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Stop limit";
                document.getElementById("oocutoff").focus();
                error_code=1;
                return false;
		}
	}
        for (var i = 0, length = elements.length; i < length; i++) {
                    if (elements[i].value == '') {

                        document.getElementById("error_update_ecomprod").innerHTML = "Please fill all required attribute values";
                        error_code = 1;
                        return false;

                    }


                }
       if(error_code != 1){
            document.getElementById("error_update_ecomprod").innerHTML = "";
            return true;
            
        }
    }
    
  function addEcomproduct()
    {  
        var url = "addEcomProduct.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "create";
           $objects = "ECOMMERCE PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function icpstatusrevs(retailerid){
        $("#popup_billprocess").dialog({
                                    width: 1200,
                                    title: 'ICP Status Details',
                                    height: 600,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_billprocess").load("retailerstatusrevisions.php?retailerid="+retailerid);

                                    }

                                });
    }
    function searchEcommerceOrders(){
    var url = "searchEcommOrders.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE PRODUCTS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchEcomOrderDetails()
    {
        $("#loader").show();
        var ecomorder_id =$("#ecomorder_id").val();
        var fromdate =$("#billFromdate").val();
        var todate = $("#billTodate").val();
         var orderstatus = $("#orderstatus").val();
          var paymentstatus = $("#paymentstatus").val();
          var processstatus = $("#processstatus").val();
          var product_id = $("#product_id").val();
          var from_time = $("#from_time").val();
          var to_time = $("#to_time").val();
            $('#bills').attr('value', 'Searching');
        var path = "fromdate="+fromdate+"&todate="+todate+"&orderstatus="+orderstatus+"&paymentstatus="+paymentstatus+"&processstatus="+processstatus+"&ecomorder_id="+ecomorder_id
        +"&product_id="+product_id+"&from_time="+from_time+"&to_time="+to_time;
        $('#alter').load("searchEcomOrderDetails.php",path);
        
        
    }
    function viewEcomProdforsearch(orderid){
        var url = "ecomorderdetailsforview.php";
                   var path = "orderid="+orderid;
                     var divid = "#popup_billprocess";
                     var width = 1100;
                     var height = 550;
                     var title = 'Ecommerce Order Details';
         <?php   
          $access = "view";
          $objects = "ECOMMERCE IPEX ORDERS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    }
    function addEcomCategory(){
        var url = "addEcomProdCategory.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "create";
       $objects = "ECOMMERCE CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function prodcategoryvalidate(){
        var category_name =  $("#category_name").val();
        var category_status =  $("#category_status").val();
        var prodcat_desc = $("#prodcat_desc").val();
        var image_category_status = $("#img_cat_status").val();
	var image_category=$("#image_category").val();
        
        var error_code = 0;
         if(trim(category_name).length == 0)
        {
                document.getElementById("errorMessage_prodcat").innerHTML = "Please Enter Category Name";
                document.getElementById("category_name").focus();
                error_code=1;
                return false;
        }
        if(trim(image_category).length == 0 && trim(image_category_status).length == 0)
        {
                document.getElementById("errorMessage_prodcat").innerHTML = "Please Select image";
                document.getElementById("image_category").focus();
                error_code=1;
                return false;
        }
        if(trim(category_status).length == 0)
        {
                document.getElementById("errorMessage_prodcat").innerHTML = "Please Select Status";
                document.getElementById("category_status").focus();
                error_code=1;
                return false;
        }
        if(trim(prodcat_desc).length == 0)
        {
                document.getElementById("errorMessage_prodcat").innerHTML = "Please Enter Description";
                document.getElementById("prodcat_desc").focus();
                error_code=1;
                return false;
        }
        
        if(error_code != 1){
            $("#add_ecom_prod_cat_btn").attr("disabled","disabled");
            return true;
            
        }
    }
    function viewEcomCategory(categoryid,category_name,ecom_prod_status,type){
        var url = "viewEcomCategory.php";
        var path = "categoryid="+categoryid+"&category_name="+category_name+"&ecom_prod_status="+ecom_prod_status+"&type="+type;
         var divid = "#alter";
      <?php   
       $access = "view";
       $objects = "ECOMMERCE CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
     function viewEcomSubCategory(subcategoryid,subcat,categ,status,type){
        var url = "viewEcomSubCategory.php";
        
        var path = "subcategoryid="+subcategoryid+"&ecom_prod_sub_cat="+subcat+"&ecom_cat_name="+categ+"&ecom_prod_status="+status+"&type="+type;
         var divid = "#alter";
      <?php   
       $access = "view";
       $objects = "ECOMMERCE SUB CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function editEcomCate(categoryid,category_name,ecom_prod_status){
        var url = "editEcomCategory.php";
        var path = "categoryid="+categoryid+"&category_name="+category_name+"&ecom_prod_status="+ecom_prod_status;
         var divid = "#alter";
      <?php   
       $access = "edit";
       $objects = "ECOMMERCE CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchEcomCategory(){
        var url = "searchEcomCategory.php";
        var path = "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchecomcategories(){
        var url = "searchecomcategories.php";
         var category_name =  escape($("#ecom_cat_name").val());
        // alert(category_name);
         var ecom_prod_status =  $("#ecom_prod_status").val();
        var path = "category_name="+category_name+"&ecom_prod_status="+ecom_prod_status;
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function addEcomSubCategory(){
        var url = "addEcomProdSubCat.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "create";
       $objects = "ECOMMERCE CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function prodsubcategoryvalidate(){
        var sub_category_name =  $("#sub_category_name").val();
        var category_name =  $("#category_name").val();
        var sub_category_status = $("#sub_category_status").val();
        var prodsubcat_desc = $("#prodsubcat_desc").val();
         var image_sub_category = $("#img_subcat_status").val();
         var image_sub_cat = $("#image_sub_category").val(); 
        
        var error_code = 0;
         if(trim(sub_category_name).length == 0)
        {
                document.getElementById("errorMessage_prodsubcat").innerHTML = "Please Enter Sub Category Name";
                document.getElementById("sub_category_name").focus();
                error_code=1;
                return false;
        }
        
        if(trim(category_name).length == 0)
        {
                document.getElementById("errorMessage_prodsubcat").innerHTML = "Please Select Category";
                document.getElementById("category_name").focus();
                error_code=1;
                return false;
        }
        if(trim(image_sub_category).length == 0 && trim(image_sub_cat).length == 0)
        {
                document.getElementById("errorMessage_prodsubcat").innerHTML = "Please Select Image";
                document.getElementById("image_sub_category").focus();
                error_code=1;
                return false;
        }
        if(trim(sub_category_status).length == 0)
        {
                document.getElementById("errorMessage_prodsubcat").innerHTML =  "Please Select Status";
                document.getElementById("sub_category_status").focus();
                error_code=1;
                return false;
        }
        if(trim(prodsubcat_desc).length == 0)
        {
                document.getElementById("errorMessage_prodsubcat").innerHTML = "Please Enter Description";
                document.getElementById("prodsubcat_desc").focus();
                error_code=1;
                return false;
        }
        
        if(error_code != 1){
            $("#ecomprod_subcat_btn").attr("disabled","disabled");
            return true;
             
        }
    }
    function editEcomSubCate(subcategoryid,subcat,categ,status){
        var url = "editEcomSubCate.php";
        var path = "subcategoryid="+subcategoryid+"&ecom_prod_sub_cat="+subcat+"&ecom_cat_name="+categ+"&ecom_prod_status="+status;
         var divid = "#alter";
      <?php   
       $access = "edit";
       $objects = "ECOMMERCE SUB CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
     function searchEcomSubCategory(){
        var url = "searchEcomSubCategory.php";
        var path = "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE SUB CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
     function searchecomsubcategories(){
        var url = "searchecomsubcategories.php";
         var ecom_prod_sub_cat =  escape($("#ecom_prod_sub_cat").val());
         var ecom_cat_name =  escape($("#ecom_cat_name").val());
         var ecom_prod_status =  escape($("#ecom_prod_status").val());
        var path = "ecom_prod_sub_cat="+ecom_prod_sub_cat+"&ecom_cat_name="+ecom_cat_name+"&ecom_prod_status="+ecom_prod_status;
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE SUB CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function loadecomsubcategories(categoryid){
        $('#ecom_sub_category').load("loadecomsubcategories.php?categoryid="+categoryid); 
    }
    function loadecomspecialsubcategories(categoryid){
         $('#ecom_special_sub_category').load("loadecomspecialsubcate.php?categoryid="+categoryid); 
    }
function loadecomspecialcat(){
    if(document.getElementById('special_cat').checked) {
               var categoryid = "Special";
             }
             else{
                 var categoryid = "";
             }
    $('#category_name').load("loadecomspecialcate.php?categoryid="+categoryid); 
}
    function devicerevisions(devid)
			{
				var type;
                                
                                var path= "devid="+devid;
				
                                       
                                        $("#popup_billprocess").dialog({
                                    width: 1100,
                                    title: 'Revisions',
                                    height: 500,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_billprocess").load("devicerevisions.php", path);

                                    }

                                });

                                    
	
			}
 function searchbackbidproddetails(prod_name,cdate,edate,prod_price,prod_status)
   {
       var prod_name = escape(prod_name);
       var prod_status = escape(prod_status);
      
      $('#alter').load("searchproductdetails.php?search_prod_name="+prod_name
                                                +"&start_date="+cdate+"&expire_date="+edate
                                    +"&prod_price="+prod_price+"&prod_status="+prod_status);
   }
   function searchbackecomproddetails(prod_category,prod_sub_catg,prod_name,available_from,available_to,ecom_prod_status) {
        var prod_category = escape(prod_category);
        var prod_name = escape(prod_name);
         var prod_sub_catg = escape(prod_sub_catg);
         var ecom_prod_status = escape(ecom_prod_status);
       $('#alter').load("searchecomproddets.php?prod_category="+prod_category
                                                +"&prod_sub_catg="+prod_sub_catg+"&prod_name="+prod_name
                                    +"&available_from="+available_from+"&available_to="+available_to+"&ecom_prod_status="+ecom_prod_status);
   }
   function searchbackecomcatdetails(category_name,ecom_prod_status,type){
       var category_name = escape(category_name);
        var ecom_prod_status = escape(ecom_prod_status);
        if(type == "normal"){
            var url = "searchecomcategories.php";
        }
        else{
            var url = "searchecomspeccategories.php";
        }
       
        var path = "category_name="+category_name+"&ecom_prod_status="+ecom_prod_status;
        $('#alter').load(url,path);
   }
   function searchbackecomsubcatdetails(ecom_prod_sub_cat,ecom_cat_name,ecom_prod_status,type){
        var ecom_prod_sub_cat = escape(ecom_prod_sub_cat);
         var ecom_cat_name = escape(ecom_cat_name);
         var ecom_prod_status = escape(ecom_prod_status);
         if(type == "normal"){
             var url = "searchecomsubcategories.php";
         }
         else{
             var url = "searchecomspecsubcategories.php";
         }
        
         
        var path = "ecom_prod_sub_cat="+ecom_prod_sub_cat+"&ecom_cat_name="+ecom_cat_name+"&ecom_prod_status="+ecom_prod_status;
         $('#alter').load(url,path);
   }
   function processiccdeposit(paymentid,iccid)
			{
                            var url = "processiccdeposit.php";
         
                  var path= "paymentid="+paymentid+"&iccid="+iccid;
                     var divid = "#popup_billprocess";
                     var width = 700;
                     var height = 500;
                     var title = 'KCC Payment Processing';
         <?php   
           $access = "processing";
         $objects = "ICC PAYMENTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
				

                                    
	
			}
                        function updateIccDeposit(){
                            
                        var status =  $("#status").val();
        var icc_paymentcmnts =  $("#icc_paymentcmnts").val();
        var ipaybankref_id_search =  $("#ipaybankref_id_search1").val();
        var ipaybankref_id_search1 =  $("#ipaybankref_id_search").val();
        var processed_amount =  $("#processed_amount").val();
        var error_code = 0;
          var tot_percpattern = /^[0-9 .]+$/;
          if(trim(status).length == 0)
        {
                document.getElementById("chngstat_icppymnt").innerHTML = "Please Select Status";
                document.getElementById("status").focus();
                error_code=1;
                return false;
        }
         if(trim(icc_paymentcmnts).length == 0)
        {
                document.getElementById("chngstat_icppymnt").innerHTML = "Please Enter Comments";
                document.getElementById("icc_paymentcmnts").focus();
                error_code=1;
                return false;
        }
        if(status == "Approved"){
        if(trim(ipaybankref_id_search).length == 0)
        {
                document.getElementById("chngstat_icppymnt").innerHTML = "Please select Ref Id";
                document.getElementById("ipaybankref_id_search1").focus();
                error_code=1;
                return false;
        }
    }
        if(error_code != 1){
            $.ajax({
                      type: 'post',
                     url: 'checkPaymentRefID.php?ipaybankref_id_search='+ipaybankref_id_search1+"&amount="+processed_amount,
                     
                      async:false,
                    beforeSend: function() {
                        
                      //  $(divid).html("");
                       /// $(divid).html('<div align ="center" style ="padding-top:200px;"><img src="images/loading1.gif" align ="center"></div>');
                                    },
                    complete: function() {
               
                      
                    },
                   success: function(result) {
                       if(status == "Approved"){
                       if(result == 1){
                          var path = $('#iccdeposit_form').serialize();
                  $("#btn_pymntstatus").attr("disabled","disabled");
                document.getElementById("chngstat_icppymnt").innerHTML = "";
                 
                            $('#chngestatus_div_iccpymnt').load("updateIccDeposit.php",path);
            return true; 
                       
                       }
                       else{
                        $('#chngstat_icppymnt').html("Invalid Reference ID Selected Please check available amount for the process with the reference id");   
                       }
                   }
                   else{
                      var path = $('#iccdeposit_form').serialize();
                  $("#btn_pymntstatus").attr("disabled","disabled");
                document.getElementById("chngstat_icppymnt").innerHTML = "";
                 
                            $('#chngestatus_div_iccpymnt').load("updateIccDeposit.php",path);
            return true;  
    }
                       
                       }
                       
                    });
            
        }
          
          
        
                        }
                        function iccAcStatement(distributorid)
			{
                         
                 var path= "distributorid="+distributorid;
                  var url = "iccAcStatement.php";
                       var divid = "#alter";
         <?php   
          $access = "ACCOUNT STATEMENT";
          $objects = "ICC";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
           
                
    }
    function assignicpenquiry(id){
         //$("#enq_icc_id"+id).removeAttr("disabled");
       
        //$("#btnenq_assign"+id).hide();
        //$("#btnenq_save"+id).show();
        
         var path = "id="+id;
                              $("#assignenq_icc_popup").dialog({
                                    width: 600,
                                    title: 'Assign Enquiry to ICC',
                                    height: 350,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#assignenq_icc_popup").load("assignicpsalesenq.php", path);

                                    }

                                });
    }    
     function assignicpenqtoiccnew(id){
    
       var icc_id = $("#enq_icc_id").val();
       
       var enq_comments =$("#enq_comments").val();
       var enq_comments = escape(enq_comments);
       var error_code = 0;
       if(trim(icc_id).length == 0)
                        {
                                alert("Please Selece ICC ID");
                                error_code=1;
                        }
                        if(trim(enq_comments).length == 0)
                            {
                                alert("Please Enter Comments");
                                error_code=1;
                            }
                            if(error_code != 1)
                {
                 $("#assigned_icc").load("assignicpenqtoiccnew.php?icc_id="+icc_id+"&id="+id+"&comments="+enq_comments);
                }
    }
    function loadicpenqdetails(salesenqoption)
    {
        if(salesenqoption == "new")
            {
                $("#salesenq_serch_dets").load("icpsalesenqsearchdetails.php?salesenqoption="+salesenqoption); 
            }
            else if(salesenqoption == "Assigned"){
                 $("#salesenq_serch_dets").load("searchassignedicpsalesenqdetails.php"); 
            }
       
    }
     function searchassignedicpenqdetails()
    {
        var enq_search_icc_id = $("#enq_search_icc_id").val(); 
        var enq_search_icc_name = $("#enq_search_icc_name").val();
        $("#salesenq_serch_dets").load("viewassignedicpenqdetails.php?enq_search_icc_id="+enq_search_icc_id+"&enq_search_icc_name="+enq_search_icc_name);
    }
     function editicpenquiry(id)
    { 
         var path = "id="+id;
                              $("#popup_cmns").dialog({
                                    width: 1100,
                                    title: 'Edit ICP Sales Enquiry',
                                    height: 700,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_cmns").load("editicpenquiry.php", path);

                                    }

                                });
    }
        function updateicpenquirydetails(id)
    {
        var a = $('#sales_enq_form_update').serialize();
       
                var enq_ph_no = $("#enq_ph_no").val();
                var uptenq_comments =$("#uptenq_comments").val();
                 var uptenq_comments =escape(uptenq_comments);
                var enq_daily_turnover = $("#enq_daily_turnover").val();
                //var enq_shop_establishment = $("#enq_shop_establishment").val();
                var enq_status = $("#enq_status").val();
                var error_code = 0;
                var tot_percpattern = /^[0-9]+$/;
                var double_pattern = /^[0-9 .]+$/;
                
                 if(trim(enq_daily_turnover).length != 0)
                {
                        if(!enq_daily_turnover.match(double_pattern))
                        {
                                document.getElementById("errormessageenquiry").innerHTML = "Please Enter Valid Amount";
                                document.getElementById("enq_daily_turnover").focus();
                                error_code=1;
                                return false;
                        }
                }
              /* if(trim(enq_shop_establishment).length != 0)
                {
                        if(!enq_shop_establishment.match(double_pattern))
                        {
                                document.getElementById("errormessageenquiry").innerHTML = "Please Enter Valid no Of years";
                                document.getElementById("enq_shop_establishment").focus();
                                error_code=1;
                                return false;
                        }
                }*/
                 if(trim(enq_ph_no).length == 0)
                {
                        document.getElementById("errormessageenquiry").innerHTML = "Please Enter Phone Number";
                        document.getElementById("enq_ph_no").focus();
                        error_code=1;
                        return false;
                }
                if(!enq_ph_no.match(tot_percpattern))
                        {
                                document.getElementById("errormessageenquiry").innerHTML = "Please Enter Valid Phone Number";
                                document.getElementById("enq_ph_no").focus();
                                error_code=1;
                                return false;
                        }
                        
                if(trim(uptenq_comments).length == 0)
                {
                        document.getElementById("errormessageenquiry").innerHTML = "Please Enter Comments";
                        document.getElementById("uptenq_comments").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(enq_status).length == 0)
                {
                        document.getElementById("errormessageenquiry").innerHTML = "Please Select Status";
                        document.getElementById("enq_status").focus();
                        error_code=1;
                        return false;
                }
                  if(error_code != 1)
                             {
                               $('#button_sales_enq').attr('disabled','disabled');
                                $('#button_sales_enq').attr('value', 'Updated');
                                     document.getElementById("errormessageenquiry").innerHTML = "";
                                    
                                        $('#update_enq_details').load("updateicpenquirydetails.php?id="+id,a);
                                    return true;
                                 
                                    }
                                    else{
                                        $("#button_sales_enq").removeAttr("disabled");
                                     $('#button_sales_enq').attr('value', 'Update');
                                    }
    }
                     function viewicpenquiry(id)
    { 
         var path = "id="+id;
                              $("#popup_cmns").dialog({
                                    width: 1100,
                                    title: 'ICP Sales Enquiry Details Enquiry ID:'+id,
                                    height: 700,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_cmns").load("viewicpenquiry.php", path);

                                    }

                                });
    }
    function loadiccenqdetails(salesenqoption)
    {
        if(salesenqoption == "new")
            {
                $("#salesenq_serch_dets").load("iccsalesenqsearchdetails.php?salesenqoption="+salesenqoption); 
            }
            else if(salesenqoption == "Assigned"){
                 $("#salesenq_serch_dets").load("searchassignediccsalesenqdetails.php"); 
            }
       
    }
     function assigniccenquiry(id){
         //$("#enq_icc_id"+id).removeAttr("disabled");
       
        //$("#btnenq_assign"+id).hide();
        //$("#btnenq_save"+id).show();
        
         var path = "id="+id;
                              $("#assignenq_icc_popup").dialog({
                                    width: 600,
                                    title: 'Assign Enquiry to ICC',
                                    height: 350,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#assignenq_icc_popup").load("assigniccsalesenq.php", path);

                                    }

                                });
    }   
    function  assigniccenqtooperationsnew(id){
    
       var icc_id = $("#enq_icc_id").val();
       
       var enq_comments =$("#enq_comments").val();
       var enq_comments = escape(enq_comments);
       var error_code = 0;
       if(trim(icc_id).length == 0)
                        {
                                alert("Please Selece ICC ID");
                                error_code=1;
                        }
                        if(trim(enq_comments).length == 0)
                            {
                                alert("Please Enter Comments");
                                error_code=1;
                            }
                            if(error_code != 1)
                {
                 $("#assigned_icc").load("assigniccenqtooperationsnew.php?icc_id="+icc_id+"&id="+id+"&comments="+enq_comments);
                }
    }
    function viewiccenquiry(id)
    { 
         var path = "id="+id;
                              $("#popup_cmns").dialog({
                                    width: 1100,
                                    title: 'ICC Sales Enquiry Details Enquiry ID:'+id,
                                    height: 700,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_cmns").load("viewiccenquiry.php", path);

                                    }

                                });
    }
     function editiccenquiry(id)
    { 
         var path = "id="+id;
                              $("#popup_cmns").dialog({
                                    width: 1100,
                                    title: 'Edit ICP Sales Enquiry',
                                    height: 700,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_cmns").load("editiccenquiry.php", path);

                                    }

                                });
    }
        function updateiccenquirydetails(id)
    {
        var a = $('#sales_enq_form_update').serialize();
       
                var enq_ph_no = $("#enq_ph_no").val();
                var uptenq_comments =$("#uptenq_comments").val();
                 var uptenq_comments =escape(uptenq_comments);
                var enq_daily_turnover = $("#enq_daily_turnover").val();
              //   var enq_team_size = $("#enq_team_size").val();
             //     var enq_no_of_outlets = $("#enq_no_of_outlets").val();
                //var enq_shop_establishment = $("#enq_shop_establishment").val();
                var enq_status = $("#enq_status").val();
                var error_code = 0;
                var tot_percpattern = /^[0-9]+$/;
                var double_pattern = /^[0-9 .]+$/;
                
                 if(trim(enq_daily_turnover).length != 0)
                {
                        if(!enq_daily_turnover.match(double_pattern))
                        {
                                document.getElementById("errormessageenquiry").innerHTML = "Please Enter Valid Amount";
                                document.getElementById("enq_daily_turnover").focus();
                                error_code=1;
                                return false;
                        }
                }
              /*   if(trim(enq_daily_turnover).length != 0)
                {
                        if(!enq_daily_turnover.match(double_pattern))
                        {
                                document.getElementById("errormessageenquiry").innerHTML = "Please Enter Valid Amount";
                                document.getElementById("enq_daily_turnover").focus();
                                error_code=1;
                                return false;
                        }
                }
                 if(trim(enq_daily_turnover).length != 0)
                {
                        if(!enq_daily_turnover.match(double_pattern))
                        {
                                document.getElementById("errormessageenquiry").innerHTML = "Please Enter Valid Amount";
                                document.getElementById("enq_daily_turnover").focus();
                                error_code=1;
                                return false;
                        }
                }*/
              /* if(trim(enq_shop_establishment).length != 0)
                {
                        if(!enq_shop_establishment.match(double_pattern))
                        {
                                document.getElementById("errormessageenquiry").innerHTML = "Please Enter Valid no Of years";
                                document.getElementById("enq_shop_establishment").focus();
                                error_code=1;
                                return false;
                        }
                }*/
                 if(trim(enq_ph_no).length == 0)
                {
                        document.getElementById("errormessageenquiry").innerHTML = "Please Enter Phone Number";
                        document.getElementById("enq_ph_no").focus();
                        error_code=1;
                        return false;
                }
                if(!enq_ph_no.match(tot_percpattern))
                        {
                                document.getElementById("errormessageenquiry").innerHTML = "Please Enter Valid Phone Number";
                                document.getElementById("enq_ph_no").focus();
                                error_code=1;
                                return false;
                        }
                        
                if(trim(uptenq_comments).length == 0)
                {
                        document.getElementById("errormessageenquiry").innerHTML = "Please Enter Comments";
                        document.getElementById("uptenq_comments").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(enq_status).length == 0)
                {
                        document.getElementById("errormessageenquiry").innerHTML = "Please Select Status";
                        document.getElementById("enq_status").focus();
                        error_code=1;
                        return false;
                }
                  if(error_code != 1)
                             {
                               $('#button_sales_enq').attr('disabled','disabled');
                                $('#button_sales_enq').attr('value', 'Updated');
                                     document.getElementById("errormessageenquiry").innerHTML = "";
                                    
                                        $('#update_enq_details').load("updateiccenquirydetails.php?id="+id,a);
                                    return true;
                                 
                                    }
                                    else{
                                        $("#button_sales_enq").removeAttr("disabled");
                                     $('#button_sales_enq').attr('value', 'Update');
                                    }
    }
        function searchassignediccenqdetails()
    {
        var enq_search_icc_id = $("#enq_search_icc_id").val(); 
        var enq_search_icc_name = $("#enq_search_icc_name").val();
        $("#salesenq_serch_dets").load("viewassignediccenqdetails.php?enq_search_icc_id="+enq_search_icc_id);
    }
    
    
                     function searchSurvey()
    {
        var url = "searchSurvey.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "Survey";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
         }
       function searchSurveyresult()
    {

        var sur_date =escape($("#sur_date").val());
        var Outlet_name = escape($("#Outlet_name").val());
         var Outlet_type = escape($("#Outlet_type").val());
          var Area =escape($("#Area").val());
           var Contact = escape($("#Contact").val());
         var BDM =escape($("#BDM").val());
                 $('#bus_rec').attr('value', 'Searching...');
        var path = "sur_date="+sur_date+"&Outlet_name="+Outlet_name+"&Outlet_type="+Outlet_type+"&Area="+Area+"&Contact="+Contact+"&BDM="+BDM;
        $('#alter').load("searchSurveyresult.php",path);
        
            
    } 
    
       function getsurvey(data_info)
    {
        
                                  
                                   $("#popup_billprocess").dialog({
                                    width: 1100,
                                    title: 'Survey Info',
                                    height: 400,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#popup_billprocess").load("Surveyinfo.php?id="+data_info);

                                    }

                                });
    }
    function displaycollections()
    {
           var url = "retailerCollections.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICP";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
     function loadicpsforReports(report_type){
       
            
         if(report_type == "collections")
         {
            $().ready(function() {
   
                        $('#search_icp_id_device').autocomplete({source:'loadicpsforreports.php?report_type='+report_type,
                    minLength:2,});
            });
         }
         else if(report_type == "earnings"){
             
            $().ready(function() {
   
                $('#search_icp_id_device').autocomplete({source:'loadicpsforreports.php?report_type='+report_type, minLength:2,});
            });
            
         }
          else if(report_type == "transactions"){
             
            $().ready(function() {
   
                $('#search_icp_id_device').autocomplete({source:'loadicpsforreports.php?report_type='+report_type, minLength:2,});
            });
            
         }
         else if(report_type == "Earnings By Type"){
             
            $().ready(function() {
   
                $('#search_earngs_icp_id').autocomplete({source:'loadicpsforreports.php?report_type='+report_type, minLength:2,});
            });
            
         }
     }
        function icpCollectionReport()
        {
            $("#loader").show();
            var icc_id =$("#icc_id").val();
            var f_date = $("#f_date").val();
            var to_date =$("#to_date").val();
            var icp_id  =$("#search_icp_id_device").val();
           
      // alert(service_type);
            var path = "icc_id="+icc_id+"&f_date="+f_date+"&to_date="+to_date+"&icp_id="+icp_id;
            $('#alter').load("icpCollectionReport.php",path);
           
    }
      function displayEarnings()
    {
           var url = "retailerEarnings.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICP";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function icpEarningsReport(){
        
        
            $("#loader").show();
            var icc_id =$("#icc_id").val();
            var f_date = $("#f_date").val();
            var to_date =$("#to_date").val();
            var icp_id  =$("#search_icp_id_device").val();
           
      // alert(service_type);
            var path = "icc_id="+icc_id+"&f_date="+f_date+"&to_date="+to_date+"&icp_id="+icp_id;
            $('#alter').load("icpEarningsReport.php",path);
        
        
    }
    function displayTransactions(){
        
         var url = "retailerTransactions.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICP";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function icpTransactionsReport(){
        
            $("#loader").show();
            var icc_id =$("#icc_id").val();
            var f_date = $("#f_date").val();
            var to_date =$("#to_date").val();
            var icp_id  =$("#search_icp_id_device").val();
           
      // alert(service_type);
            var path = "icc_id="+icc_id+"&f_date="+f_date+"&to_date="+to_date+"&icp_id="+icp_id;
            $('#alter').load("icpTransactionsReport.php",path);
    }
    function loadattributes(subcategory){
        var prod_id = $("#prod_id").val();
               var sub_categ_id = $("#sub_categ_id").val();    
        $('#ecomprod_attrbutes').load("loadecomattributes.php?subcategory="+subcategory+"&prod_id="+prod_id+"&sub_categ_id="+sub_categ_id); 
    }
    function newEnquiry(){
         var url = "salesEnquiryForm.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "NEW";
          $objects = "Sales Enquiry";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchEnquiry()
    {
var url = "searchEnquiry.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "Sales Enquiry";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        

    }
    function searchenqdetails(){
        var a = $('#search_enq_form').serialize();
        $('#alter').load("searchEnqDetails.php",a);
    }
    function loadDistricts_search(state) {

        if (state != "") {
                    state = escape(state);
                $('#constiuncysofstate_search').load("loadDistricts_search.php?state=" + state);
             
        } 
            else {
                $("#enquiry_frm_cnstncy_search").prop("disabled", true);
                $("#enquiry_frm_district_scarch").prop("disabled", true);
                }
    }
    function loadConstenices_search(district) {
          var district = escape(district);
//        var path = "district="+district;
//        $("#districtsofstate_search").removeAttr("disabled");
//        $("#districtsofstate_search").load("loadConstenices_search.php",path);
       if (district != "") {
          
           district = escape(district);
          
            $('#finalconstiuncies').load("loadConstenices_search.php?district=" + district);
        }
    else{
                    $("#enquiry_frm_cnstncy_search").prop("disabled", true);

        }}
    function viewEnquiry(enqid){
         var url = "viewEnquiry.php";
                   var path = "enqid="+enqid;
                     var divid = "#popup_billprocess";
                     var width = 1000;
                     var height = 700;
                     var title = 'Enquiry Details';
         <?php   
          $access = "view";
          $objects = "Sales Enquiry";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    }
    function processEnquiry(enqid){
   var url = "processEnquiry.php";
         var path = "enqid="+enqid;
         var divid = "#popup_billprocess";
      <?php   
       $access = "edit";
       $objects = "Sales Enquiry";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function viewEnquiryInCancel(enqid){
        var url = "viewEnquiry.php";
         var path = "enqid="+enqid;
         var divid = "#popup_billprocess";
      <?php   
       $access = "view";
       $objects = "Sales Enquiry";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
      function EditEnquiry(enqid){
        var url = "salesEnquiryForm_edit.php";
         var path = "enqid="+enqid;
         var divid = "#popup_billprocess";
      <?php   
       $access = "edit";
       $objects = "Sales Enquiry";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function loadAssignedto(status){
        if(status == "Assigned to ICC"){
            $('#assigned_to_div_sales').hide();
             $('#assigned_to_div').show();
            $('#assigned_to_div_vp').hide();
             $('#assigned_to_div_converted').hide();
             $('#assigned_enq_label').hide();
            var url = "loadICCs.php";
                   var path = "";
                     var divid = "#revisions_depos";
                     var width = 900;
                     var height = 600;
                     var title = 'KCC Details';
         <?php   
          $access = "view";
          $objects = "Sales Enquiry";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
           $('#revisions_depos').load("loadICCs.php"); 
        }
        else if(status == "Assigned to Sales" || status == "In Process with Sales"){
            $('#assigned_enq_label').hide();
            $('#assigned_to_div').hide();
             $('#assigned_to_div_vp').hide();
             $('#assigned_to_div_sales').show();
              $('#assigned_to_div_converted').hide();
               $('#assigned_to_div_hcw').hide();
        }
        else if(status == "Transfered to VP"){
            $('#assigned_enq_label').hide();
            $('#assigned_to_div').hide();
            $('#assigned_to_div_sales').hide();
             $('#assigned_to_div_vp').show();
              $('#assigned_to_div_converted').hide();
               $('#assigned_to_div_hcw').hide();
        }
        else if(status == "Converted"){
            
             $('#assigned_to_div_converted').show();
             $('#assigned_enq_label').show();
             $('#assigned_to_div').hide();
            $('#assigned_to_div_sales').hide();
            $('#assigned_to_div_vp').hide();
              $('#assigned_to_div_hcw').hide();
            
        }
         else if(status == "Hot" || status == "Cold"|| status == "Warm" ){
            
            $('#assigned_enq_label').hide();
            $('#assigned_to_div').hide();
             $('#assigned_to_div_vp').hide();
             $('#assigned_to_div_hcw').show();
              $('#assigned_to_div_converted').hide();
               $('#assigned_to_div_sales').hide();
             
            
        }
 else if( status == "CLOSED" ){
//echo "asdasdas";exit;
            
         $('#assigned_to_div_converted').hide();
             $('#assigned_enq_label').hide();
             $('#assigned_to_div').show();
            $('#assigned_to_div_sales').hide();
            $('#assigned_to_div_vp').hide();
              $('#assigned_to_div_hcw').hide();


        }
        else{
            $('#assigned_enq_label').hide();
            $('#assigned_to_div').show();
            $('#assigned_to_div_sales').hide();
            $('#assigned_to_div_vp').hide();
             $('#assigned_to_div_converted').hide();
                    $('#assigned_to_div_hcw').hide();
        }
            
        
    }
    function selectICC(ICCID){
   
    $("#assigned_enq_to").attr('value',ICCID);
     $("#revisions_depos").dialog('close');
    }
    function updateEnquiry(enqid){
        var a = $('#form_process_enquiry').serialize();
        var error_code = 0;
        var enq_fst_name = $("#enq_fst_name").val();
        var enq_mobile_no = $("#enq_mobile_no").val();
        var enq_email = $("#enq_email").val();
        var enq_alt_mob_no = $("#enq_alt_mob_no").val();
        var enq_land_line = $("#enq_land_line").val();
         var enq_year_corp = $("#enq_year_corp").val();
         var pin = $("#pin").val();
         var emailpattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        var status_enq_update =$("#status_enq_update").val();
            var enq_assigne_cmnts = $("#enq_assigne_cmnts").val();
            var double_pattern = /^[0-9 .]+$/;
            var tot_percpattern = /^[0-9]+$/;
              var fstnamepattern = /^[a-z A-Z]+$/;
            if(trim(enq_fst_name).length == 0)
                {
                        document.getElementById("errormsg_process_enq").innerHTML = "Please Enter First Name";
                        document.getElementById("enq_fst_name").focus();
                        error_code=1;
                        return false;
                }
                if (!enq_fst_name.match(fstnamepattern))
        {
            document.getElementById("errormsg_process_enq").innerHTML = "Please Enter First Name";
            document.getElementById("enq_fst_name").focus();
            error_code = 1;
            return false;
        }
            
            if(trim(enq_mobile_no).length == 0)
                {
                        document.getElementById("errormsg_process_enq").innerHTML = "Please Enter valid Mobile No";
                        document.getElementById("enq_mobile_no").focus();
                        error_code=1;
                        return false;
                }
                if (trim(enq_mobile_no).length < 10)
        {
            document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Valid Mobile No";
            document.getElementById("enq_mobile_no").focus();
            error_code = 1;
            return false;
        }
        if (!enq_mobile_no.match(tot_percpattern))
        {
            document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Valid Mobile No";
            document.getElementById("enq_mobile_no").focus();
            error_code = 1;
            return false;
        }
        if (trim(enq_email).length != 0)
            {
            if (!enq_email.match(emailpattern))
            {
                document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Valid Email";
                document.getElementById("enq_email").focus();
                error_code = 1;
                return false;
            }
            }
       
        if (trim(enq_alt_mob_no).length > 0) {
            if (trim(enq_alt_mob_no).length < 10)
            {
                document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Valid Alternate Mobile No";
                document.getElementById("enq_alt_mob_no").focus();
                error_code = 1;
                return false;
            }
            if (!enq_alt_mob_no.match(tot_percpattern))
            {
                document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Valid Alternate Mobile No";
                document.getElementById("enq_alt_mob_no").focus();
                error_code = 1;
                return false;
            }
        }
        if (trim(enq_land_line).length > 0) {
            if (trim(enq_land_line).length < 11)
            {
                document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Valid Land line No";
                document.getElementById("enq_land_line").focus();
                error_code = 1;
                return false;
            }
            if (!enq_land_line.match(tot_percpattern))
            {
                document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Valid Land line No";
                document.getElementById("enq_land_line").focus();
                error_code = 1;
                return false;
            }
        }
        if (trim(enq_year_corp).length > 0) {
            
            if (!enq_year_corp.match(tot_percpattern))
            {
                document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Valid No Of Years In Business";
                document.getElementById("enq_year_corp").focus();
                error_code = 1;
                return false;
            }
        }
        if (trim(pin).length > 0) {
            if (trim(pin).length < 6)
            {
                document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Valid Pincode";
                document.getElementById("pin").focus();
                error_code = 1;
                return false;
            }
            if (!pin.match(tot_percpattern))
            {
                document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Valid Pincode";
                document.getElementById("pin").focus();
                error_code = 1;
                return false;
            }
        }
        
            if(status_enq_update == "Assigned to ICC"){
                var assignedto = $("#assigned_enq_to").val();
            }
            else if(status_enq_update == "Assigned to Sales"||status_enq_update == "In Process with Sales"){
                var assignedto = $("#assigned_enq_to_sales").val();
            }
            else if(status_enq_update == "Transfered to VP"){
                var assignedto = $("#assigned_enq_to_vp").val();
            }
           else if(status_enq_update == "Hot" ||status_enq_update == "Cold" ||status_enq_update == "Warm"){
                  
                var assignedto = $("#assigned_enq_to_hcw").val();
            }
            else{
                var assignedto = $("#assigned_enq_to").val();
            }
           
           
            if(trim(status_enq_update).length == 0)
                {
                        document.getElementById("errormsg_process_enq").innerHTML = "Please Select Status";
                        document.getElementById("status_enq_update").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(status_enq_update) != "Not Intrested" && trim(status_enq_update) != "Converted")
                {
                     
                if(trim(assignedto).length == 0)
                {
                        document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Assigned to";
                        
                        error_code=1;
                        return false;
                }
                }
                 if(trim(enq_assigne_cmnts).length == 0)
                {
                        document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Comments";
                        document.getElementById("enq_assigne_cmnts").focus();
                        error_code=1;
                        return false;
                }
                if(status_enq_update == "Converted"){
                    var enq_paymnt_mode =$("#enq_paymnt_mode").val();
                    var enq_amount =$("#enq_amount").val();
                    var converted_date =$("#converted_date").val();
                    if(trim(enq_paymnt_mode).length == 0)
                {
                        document.getElementById("errormsg_process_enq").innerHTML = "Please Select  Payment Mode";
                        document.getElementById("enq_paymnt_mode").focus();
                        error_code=1;
                        return false;
                }
                if(trim(enq_amount).length == 0)
                {
                        document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Valid Amount";
                        document.getElementById("enq_amount").focus();
                        error_code=1;
                        return false;
                }
                if (!enq_amount.match(double_pattern))
            {
                document.getElementById("errormsg_process_enq").innerHTML = "Please Enter Valid Amount";
                document.getElementById("enq_amount").focus();
                error_code = 1;
                return false;
            }
            if(trim(converted_date) == "0000-00-00")
                {
                        document.getElementById("errormsg_process_enq").innerHTML = "Please Select Date";
                        document.getElementById("enq_paymnt_mode").focus();
                        error_code=1;
                        return false;
                }
                }
                if(error_code != 1)
                 {
                     $('#popup_billprocess').load("updateEnquiry.php",a);
                 }
    }
    function earningsByType(){
        var url = "retailerEarningsByType.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICP EARNINGS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function serchEarningByTypeDets(){
        var a = $('#search_earnings_by_type').serialize();
        $('#alter').load("serchEarningByTypeDets.php",a);
    }
    function searchIccPayments(){
        var url = "searchIccPayments.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICC PAYMENTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
         
    }
    function loadIccsSearch() {
        $().ready(function() {
   
                        $('#iccid_paymnt').autocomplete({source:'loadIccsSearch.php',
                    minLength:2,});
            });
    }
    function loadIcpsSearch(){
        $().ready(function() {
   
                        $('#icpid_paymnt').autocomplete({source:'loadIcpsSearch.php',
                    minLength:2,});
            });
        
    }
    function searchIccPaymntDets(){
        var a = $('#icc_payment_search').serialize();
        $('#alter').load("searchIccPaymntDets.php",a);
    }
    function viewICCPayment(paymntid){
         var url = "viewICCPayment.php";
                   var path = "paymntid="+paymntid;
                     var divid = "#popup_billprocess";
                     var width = 900;
                     var height = 500;
                     var title = 'Payment Details';
         <?php   
          $access = "view";
          $objects = "ICC PAYMENTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
          
       
    }
    
    function reatilerRefunds(retailerid,fstname,lastname,rid,rlocation,did,rstatus)
    {
        var url = "refundsOfretailer.php";
                    var path = "retailerid="+retailerid+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                       $objects = "ICP ORDERS";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
    }
    function searchrefundorders(fstname,lastname,rid,rlocation,did,rstatus)
    {

        var a = $('#icp_refunds_search').serialize();
        
        var path1 = "rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
        var path = a+"&"+path1;
        $('#alter').load("searchrefundorders.php",path);
        
            
    }
    function processbidproduct(prod_id,prod_name,cdate,edate,prod_price,prod_status){
        var url = "processProduct.php";
           var path = "prod_id="+prod_id+"&search_prod_name="+prod_name+
                        "&start_date="+cdate+"&prod_price="+prod_price+"&expire_date="+edate+"&prod_status="+prod_status;
            var divid = "#popup_billprocess";
            var width = 1100;
            var height = 600;
            var title = "Process Bidding Product";
         <?php   
          $access = "process";
          $objects = "BIDDING PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
        
    }
    function convertecomprod(prod_id){
        var url = "bidtoecomVendorPrice.php";
           var path = "prod_id="+prod_id;
            var divid = "#popup_billprocess";
            var width = 600;
            var height = 350;
            var title = "Convert Bidding Product";
         <?php   
          $access = "CONVERTION";
          $objects = "BIDDING PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    }
     function convertecomprod1(prod_id){
           $('#ecom_vendorprice_btn').attr('disabled','disabled');
            var venor_price =   $('#ecom_vendor_price').val();
            var url = "convertecomprod.php";
            var error_code = 0;
      //alert(flag);return false;
            var path = "prod_id="+prod_id+"&venor_price="+venor_price;
            var divid = "#bid_ecom_conversion";
             var tot_percpattern = /^[0-9]+$/;
            if(trim(venor_price).length == 0)
                {
                        document.getElementById("message_bidding_ecom").innerHTML = "Please Enter Valid Vendor Price";
                        document.getElementById("ecom_vendor_price").focus();
                        error_code=1;
                        return false;
                }
                if (!venor_price.match(tot_percpattern))
            {
                document.getElementById("message_bidding_ecom").innerHTML = "Please Enter Valid Vendor Price";
                        document.getElementById("ecom_vendor_price").focus();
                        error_code=1;
                        return false;
            }
             if(error_code != 1)
                 {
                     document.getElementById("message_bidding_ecom").innerHTML = "";
                 
                     <?php   
          $access = "CONVERTION";
          $objects = "BIDDING PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                 }
            
         
    }
    
    function updateBidProcess(prod_id)
    {
         if(document.getElementById('charged_stat_yes').checked) {
               var charged_stat = "yes";
             }
             if(document.getElementById('shipped_stat_yes').checked) {
               var shipped_stat = "yes";
             }
              var bid_processed_date =$("#bid_processed_date").val();
               var charged_comments_bid =$("#charged_comments_bid").val();
                var bid_shipped_date =$("#bid_shipped_date").val();
                 var shiped_comments_bid =$("#shiped_comments_bid").val();
                 var error_code=0; 
             if(charged_stat == "yes"){
                 if(trim(bid_processed_date) == "0000-00-00")
                {
                        document.getElementById("update_bid_process").innerHTML = "Please Select Charged On";
                        document.getElementById("bid_processed_date").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(charged_comments_bid).length == 0)
                {
                        document.getElementById("update_bid_process").innerHTML = "Please Enter Comments For Charged";
                        document.getElementById("charged_comments_bid").focus();
                        error_code=1;
                        return false;
                }
             }
             if(shipped_stat == "yes"){
                if(trim(bid_shipped_date) == "0000-00-00")
                {
                        document.getElementById("update_bid_process").innerHTML = "Please Select Shipped On";
                        document.getElementById("bid_shipped_date").focus();
                        error_code=1;
                        return false;
                }
                 if(trim(shiped_comments_bid).length == 0)
                {
                        document.getElementById("update_bid_process").innerHTML = "Please Enter Comments For Shipped";
                        document.getElementById("shiped_comments_bid").focus();
                        error_code=1;
                        return false;
                } 
             }
             
        var path = $('#process_bid_product').serialize();
        if(error_code != 1)
                 {
                     document.getElementById("update_bid_process").innerHTML = "";
                     $('#popup_billprocess').load("updateBidProcess.php",path);
                 }
        
        
            
    }
    function processbid_product(prod_id){
        var url = "processProduct.php";
           var path = "prod_id="+prod_id;
           $('#popup_billprocess').load("processProduct.php",path);
                   
    }
    function removeImage(image_id,prod_id){
       
           var path = "prod_id="+prod_id+"&image_id="+image_id;
           $('#alter').load("removeEcomImage.php",path);
    }
    function addEcomSpecialCate(){
        var url = "addEcomSpecialCate.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "create";
       $objects = "ECOMMERCE CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function addEcomSpeSubCat(){
        var url = "addEcomSpeSubCat.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "create";
       $objects = "ECOMMERCE CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchEcomSpecCate(){
        var url = "searchEcomSpecCate.php";
        var path = "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchecomspeccategories(){
        var url = "searchecomspeccategories.php";
         var category_name =  escape($("#ecom_cat_name_sp").val());
        // alert(category_name);
         var ecom_prod_status =  $("#ecom_prod_status_sp").val();
        var path = "category_name="+category_name+"&ecom_prod_status="+ecom_prod_status;
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchEcomSpecSubCate(){
        var url = "searchEcomSpecSubCate.php";
        var path = "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE SUB CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchEcomSubCategory(){
        var url = "searchEcomSubCategory.php";
        var path = "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE SUB CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchecomspecsubcategories(){
        var url = "searchecomspecsubcategories.php";
         var ecom_prod_sub_cat =  escape($("#ecom_prod_sub_cat_sp").val());
         var ecom_cat_name =  escape($("#ecom_cat_name_sp").val());
         var ecom_prod_status =  escape($("#ecom_prod_status_sp").val());
        var path = "ecom_prod_sub_cat="+ecom_prod_sub_cat+"&ecom_cat_name="+ecom_cat_name+"&ecom_prod_status="+ecom_prod_status;
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE SUB CATEGORIES";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function sendOtpToIcp(order_id,icpid){
         var path = "order_id="+order_id+"&icpid="+icpid;
          $('#btn_resend_otp_icp').attr('disabled','disabled');
        $("#resend_otp_icp_order").load("sendOtpToIcp.php",path);
    }
    function loadConstinuesForRet(district){
       
        var district = escape(district);
        var path = "district="+district;
        $("#texrConstituency").removeAttr("disabled");
        $("#texrConstituency").load("loadConstinuesForRet.php",path);
    }
    function searchEcomIpayOrds()
    {
        var url = "searchEcomIpayOrds.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE IPAY ORDERS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       }
       function searchIpayEcomOrdDets(){
             var path = $('#search_ecomipay_orders').serialize();
           $('#alter').load("searchIpayEcomOrdDets.php",path);
       }
       function viewIpayEcomOrder(ipay_orderid){
           var url = "viewIpayEcomOrder.php";
                  var path = "ipay_orderid="+ipay_orderid;
                     var divid = "#ecom_ipexprod_view";
                     var width = 1100;
                     var height = 650;
                     var title = 'E-Commerce Order Details';
         <?php   
          $access = "view";
          $objects = "ECOMMERCE IPAY ORDERS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
       }
       function viewEcomProductDet(productid,orderid){
             var url = "viewEcomProductDet.php";
       var path = "productid="+productid+"&orderid="+orderid;
                      var divid = "#ecom_ipayord_view";
                     var width = 1100;
                     var height = 650;
                     var title = 'E-Commerce Product Details';
         <?php   
          $access = "view";
          $objects = "ECOMMERCE PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
           
           
         
       }
       function backtoIpayOrd(ipay_orderid){
           var path = "ipay_orderid="+ipay_orderid;
           $('#popup_billprocess').load("viewIpayEcomOrder.php",path);
       }
       function viewIpxEcomOrd(ipex_oid,ipay_oid){
          
           var url = "viewIpxEcomOrd.php";
                var path = "ipay_oid="+ipay_oid+"&orderid="+ipex_oid;
                     var divid = "#ecom_ipayprod_view";
                     var width = 1100;
                     var height = 650;
                     var title = 'E-Commerce Order Details';
         <?php   
          $access = "view";
          $objects = "ECOMMERCE IPEX ORDERS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
           
       }
       function viewIpxEcomOrd_pop(orderid){
           var url = "viewIpxEcomOrd.php";
                  var path = "orderid="+orderid;
                     var divid = "#popup_billprocess";
                     var width = 1100;
                     var height = 650;
                     var title = 'E-Commerce Order Details';
         <?php   
          $access = "view";
          $objects = "ECOMMERCE";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
       }
       function showRelatedOrders(orderid){
           var url = "showRelatedOrders.php";
                  var path = "orderid="+orderid;
                     var divid = "#related_orders";
                     var width = 1000;
                     var height = 350;
                     var title = 'Related Orders';
         <?php   
          $access = "view";
          $objects = "ORDERS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
       }
       function ecomprodupdatequantity(prod_id){
           var url = "editEcomQuantity.php";
                  var path = "prod_id="+prod_id;
                     var divid = "#related_orders";
                     var width = 800;
                     var height = 550;
                     var title = 'Edit Stock Details';
         <?php   
          $access = "edit";
          $objects = "ECOMMERCE PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
       }
       function closestockpopup(){
           $("#related_orders").dialog('close');    
       }
       function updateStockDetails(){
          
           var path = $('#edit_stock_details').serialize();
          var selection=$("#stock_action option:selected").val();
           var available_stockp=$("#available_stockp").val();
             var available_stock_neg=$("#available_stock_neg").val();
            var procured=$("#procured").val();
            var stock_category=$("#stock_category").val();
            if(procured=="Others")
            {
				var procuredo=$('#procured_O').val();
				}
			if(stock_category=="Others")
            {
				var stock_categoryo=$('#stock_category_O').val();
				
				}	
             var comment=$("#comment").val();
        var error_code = 0;
        if(selection=="Stock In")
        {
            var qulity_stock_rejected=$('#qulity_stock_rejected').val();
            
            if(trim(available_stockp).length == 0 )
			{
			$('#error_stock_update').html("Quality Accepted Can't be empty");
			$("#available_stockp").focus();
			error_code=1;
            return false;  
			}
                        if(trim(qulity_stock_rejected).length == 0 )
			{
			$('#error_stock_update').html("Quality Rejected Can't be empty");
			$("#qulity_stock_rejected").focus();
			error_code=1;
            return false;  
			}
                         
//                        if(parseInt(qulity_stock_rejected) > 0){
//                            var rejected_comments = $('#rejected_comments').val();
//                           if(trim(rejected_comments).length == 0 )
//			{
//			$('#error_stock_update').html("Quality Rejected Comments Can't be empty");
//			$("#rejected_comments").focus();
//			error_code=1;
//            return false;  
//			}
//                        }
                        
                       
		 }
         if(selection=="Adjustment")
        {if(trim(available_stock_neg).length == 0 )
			{
			$('#error_stock_update').html("  Adjustment Qty Can't be empty");
			$("#available_stock_neg").focus();
			error_code=1;
            return false;  
			}
			
		}
		if(trim(procured).length == 0 )
			{
			$('#error_stock_update').html("  Procured / Verified by field Can't be empty");
			$("#procured").focus();
			error_code=1;
            return false;  
			}
			if(procured=="Others")
			{if(trim(procuredo).length == 0 )
				{
			$('#error_stock_update').html("Please provide the value ");
			$("#procured_O").focus();
			error_code=1;
            return false;  
					}
				}
			
		 
		 if(trim(stock_category).length == 0 )
			{
			$('#error_stock_update').html("  Stock Category field Can't be empty");
			$("#stock_category").focus();
			error_code=1;
            return false;  
			}
			if(stock_category=="Others")
			{if(trim(stock_categoryo).length == 0 )
				{
			$('#error_stock_update').html("Please provide the value ");
			$("#stock_category_O").focus();
			error_code=1;
            return false;  
					}
				}
			
			if(trim(comment).length == 0 )
			{
			$('#error_stock_update').html(" Comment field Can't be empty");
			$("#comment").focus();
			error_code=1;
            return false;  
			}
        
        if(error_code != 1)
                 {
                     $("#update_ecom_btn_qnty").attr("disabled","disabled");
                     $("#update_ecom_btn_qnty").attr("value","Updating");
                     document.getElementById("error_stock_update").innerHTML = "";
                     $('#related_orders').load("updateStockDetails.php",path);
                 }
       }
       
             
       function loadpagination(params, divid,no_rows) {
        $(document).ready(function() {

        $(divid).dataTable({
            "bProcessing": true,
            "bServerSide": true,
            "iDisplayLength": no_rows,
             "bSort" : false,
            "sAjaxSource": params
        });
    });
}
function loadpagination_sort(params, divid,no_rows){
    $(document).ready(function() {

        $(divid).dataTable({
            "bProcessing": true,
            "bServerSide": true,
            "iDisplayLength": no_rows,
             "bSort" : true,
            "sAjaxSource": params
        });
    });
}

function loadpagination_add_sort(params, divid,no_rows){
    $(document).ready(function() {

        $(divid).dataTable({
            "bProcessing": true,
            "bServerSide": true,
            "iDisplayLength": no_rows,
             "bSort" : true,
            "sAjaxSource": params,
            "fnCreatedRow": function( nRow, aData, iDataIndex ) {
        $(nRow).attr('id', aData[11]);
    }
        });
    });
}
 function icpOnlinePayments()
    {
           var url = "icpOnlinePayments.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICP ONLINE PAYMENTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }  
    function searchIcpPaymntDets(){
        var a = $('#icp_payment_search').serialize();
        $('#alter').load("searchIcpPaymntDets.php",a);
    }
    function viewICPPayment(paymntid){
         var url = "viewICPPayment.php";
                   var path = "paymntid="+paymntid;
                     var divid = "#popup_billprocess";
                     var width = 950;
                     var height = 500;
                     var title = 'KCP Payment Details';
         <?php   
          $access = "view";
          $objects = "ICP ONLINE PAYMENTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
          
       
    }
    function processicpdeposit(paymentid)
			{
                            
                            var url = "processicpdeposit.php";
         
                  var path= "paymentid="+paymentid;
                     var divid = "#popup_billprocess";
                     var width = 700;
                     var height = 500;
                     var title = 'KCP Payment Processing';
         <?php   
           $access = "processing";
         $objects = "ICP ONLINE PAYMENTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title); 
				
	
			}
                        function updateIcpDeposit(){
                        var status =  $("#status").val(); 
                        var icp_proc_paymntrefid =  $("#icp_proc_paymntrefid").val();
                         var icp_mode_process =  $("#icp_mode_process").val();
                var icp_paymentcmnts =  $("#icp_paymentcmnts").val();
                var processed_amount = $("#processed_amount").val();
                var dbAmount = $("#dbAmount").val();
                 var processed_charges = $("#processed_charges").val();
        
        var error_code = 0;
          var tot_percpattern = /^[0-9 .]+$/;
        if(trim(status).length == 0)
        {
                document.getElementById("chngonline_icppymnt").innerHTML = "Please Select Status";
                document.getElementById("status").focus();
                error_code=1;
                return false;
        }
        if(trim(icp_proc_paymntrefid).length == 0)
        {
                document.getElementById("chngonline_icppymnt").innerHTML = "Please Enter Ref ID";
                document.getElementById("icp_proc_paymntrefid").focus();
                error_code=1;
                return false;
        }
        if(trim(icp_mode_process).length == 0)
        {
                document.getElementById("chngonline_icppymnt").innerHTML = "Please Enter Mode Of Process";
                document.getElementById("icp_mode_process").focus();
                error_code=1;
                return false;
        }
        
        if(trim(processed_amount).length == 0)
        {
                document.getElementById("chngonline_icppymnt").innerHTML = "Please Enter Valid Amount";
                document.getElementById("processed_amount").focus();
                error_code=1;
                return false;
        }
        if(parseFloat(processed_amount) > parseFloat(dbAmount)){
            document.getElementById("chngonline_icppymnt").innerHTML = "Processing Amount Not Allowed More than Transaction Amount";
                document.getElementById("processed_amount").focus();
                error_code=1;
                return false;
        }
         if(!processed_amount.match(tot_percpattern))
		{
			document.getElementById("chngonline_icppymnt").innerHTML = "Please Enter Valid Amount";
			document.getElementById("processed_amount").focus();
			return false;
		}
                if(trim(processed_charges).length == 0)
        {
                document.getElementById("chngonline_icppymnt").innerHTML = "Please Enter Valid Charges";
                document.getElementById("processed_charges").focus();
                error_code=1;
                return false;v
        }
        if(!processed_charges.match(tot_percpattern))
		{
			document.getElementById("chngonline_icppymnt").innerHTML = "Please Enter Valid Charges";
			document.getElementById("processed_charges").focus();
			return false;
		}
                if(parseFloat(processed_charges) > parseFloat(dbAmount)){
            document.getElementById("chngonline_icppymnt").innerHTML = "Processing Charges Not Allowed More than Transaction Amount";
                document.getElementById("processed_charges").focus();
                error_code=1;
                return false;
        }
                if(trim(icp_paymentcmnts).length == 0)
        {
                document.getElementById("chngonline_icppymnt").innerHTML = "Please Enter Remarks";
                document.getElementById("icp_paymentcmnts").focus();
                error_code=1;
                return false;
        }
        if(error_code != 1){
            var path = $('#icpdeposit_form').serialize();
                  $("#btn_icppymntstatus").attr("disabled","disabled");
                  $("#btn_icppymntreset").attr("disabled","disabled");
                document.getElementById("chngonline_icppymnt").innerHTML = "";
                 
                            $('#chngestatus_div_icppymnt').load("updateIcpDeposit.php",path);
            return true;
        }
                        }
                      function searchEcomPackages(){
                          var url = "searchEcomPackages.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ECOMMERCE PACKAGES";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                      }
                      function searchecompacakgedetails(){
    var search_ecom_prod_form = $('#search_ecom_package_form').serialize();
                 $('#alter').load("searchecompackdets.php",search_ecom_prod_form);
    }
    function viewEcomPackage(package_id){
        var url = "viewEcomPackage.php";
                   var path = "package_id="+package_id;
                     var divid = "#popup_billprocess";
                     var width = 950;
                     var height = 600;
                     var title = 'Ecommerce Package Details';
         <?php   
          $access = "view";
          $objects = "ECOMMERCE PACKAGES";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    }
    function verifyOrder(orderid,transid,operator){
        var operator = escape(operator);
       var path = "order_id="+orderid+"&transid="+transid+"&operator="+operator;
          $('#btn_verify_order').attr('disabled','disabled');
        $("#resend_otp_icp_order").load("verifyOrder.php",path);  
    } 
    function reviewOrder(orderid,transid,operator){
         var operator = escape(operator);
       var path = "order_id="+orderid+"&transid="+transid+"&operator="+operator;
          $('#btn_review_order').attr('disabled','disabled');
        $("#resend_otp_icp_order").load("reviewOrder.php",path);  
    }
    function editEcomPackage(packageid){
         var url = "editEcomPackage.php";
             var path = "package_id="+packageid;
            var divid = "#popup_billprocess";
         <?php   
          $access = "edit";
          $objects = "ECOMMERCE PACKAGES";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function viewInCancelEcomPack(package_id){
        var path = "package_id="+package_id;
        $("#popup_billprocess").load("viewEcomPackage.php",path);
    }
    function updateEcomPackage(package_id){
       var path = $('#edit_ecom_package').serialize(); 
       $("#popup_billprocess").load("updateEcomPackage.php",path);
    }
    function icpHomeBanner(){
        var url = "icpHomeBanner.php";
             var path = "";
            var divid = "#alter";
         <?php   
          $access = "create";
          $objects = "ICP HOME BANNER";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function showImage(imgurl){
         var url = "showImage.php";
         var imgurl = escape(imgurl);
                   var path = "url="+imgurl;
                     var divid = "#popup_billprocess";
                     var width = 475;
                     var height = 320;
                     var title = 'Ecommerce Package Details';
         <?php   
           $access = "create";
         $objects = "ICP HOME BANNER";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    }
    function publichBanner(){
        var image_homebanner1 = $("#image_homebanner1").val();
         var cache_time = $("#cache_time").val();
          var scroll_time = $("#scroll_time").val();
          var image_homebanner2 = $("#image_homebanner2").val();
          var image_homebanner3 = $("#image_homebanner3").val();
          var image_homebanner4 = $("#image_homebanner4").val();
          var image_homebanner5 = $("#image_homebanner5").val();
          var image_homebanner6 = $("#image_homebanner6").val();
          var image_homebanner7 = $("#image_homebanner7").val();
          var image_homebanner8 = $("#image_homebanner8").val();
          var image_homebanner9 = $("#image_homebanner9").val();
          var image_homebanner10 = $("#image_homebanner10").val();
          var  error_code = 0;
           var tot_percpattern = /^[0-9]+$/;
          if(trim(cache_time).length == 0)
        {
                document.getElementById("banner_error_msg").innerHTML = "Please Select Cache time";
                document.getElementById("cache_time").focus();
                error_code=1;
                return false;
        }
        if(trim(scroll_time).length == 0)
        {
                document.getElementById("banner_error_msg").innerHTML = "Please Enter Scroll Time";
                document.getElementById("scroll_time").focus();
                error_code=1;
                return false;
        }
        if(!scroll_time.match(tot_percpattern))
		{
			document.getElementById("banner_error_msg").innerHTML = "Please Enter Valid Scroll Time";
			document.getElementById("scroll_time").focus();
			return false;
		}
        if(trim(image_homebanner1).length == 0)
        {
                document.getElementById("banner_error_msg").innerHTML = "Please Select Image 1";
                document.getElementById("image_homebanner1").focus();
                error_code=1;
                return false;
        }
        if(trim(image_homebanner2).length == 0)
        {
                document.getElementById("banner_error_msg").innerHTML = "Please Select Image 2";
                document.getElementById("image_homebanner2").focus();
                error_code=1;
                return false;
        }

//        if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 ) && (trim(image_homebanner3).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select Image 1 and  Image 2 ";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }
//        if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0) && (trim(image_homebanner4).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select Image 1 and  Image 2 and  Image 3";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }
//      if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0 || trim(image_homebanner4).length == 0) && (trim(image_homebanner5).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select  Image 4";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }
//        if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0 || trim(image_homebanner4).length == 0 ||  trim(image_homebanner5).length == 0) && (trim(image_homebanner6).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select  Image 4 and Image 5";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }
//        if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0 || trim(image_homebanner4).length == 0 || trim(image_homebanner5).length == 0 ||  trim(image_homebanner6).length == 0) && (trim(image_homebanner7).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select  Image 4 and Image 5 and Image 6";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }
//        if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0 || trim(image_homebanner4).length == 0 || trim(image_homebanner5).length == 0 ||  trim(image_homebanner6).length == 0 ||  trim(image_homebanner7).length == 0) && (trim(image_homebanner8).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select  Image 4 and Image 5 and Image 6 and Image7";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }
//         if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0 || trim(image_homebanner4).length == 0 || trim(image_homebanner5).length == 0 ||  trim(image_homebanner6).length == 0 ||  trim(image_homebanner7).length == 0 ||  trim(image_homebanner8).length == 0) && (trim(image_homebanner9).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select  Image 4 and Image 5 and Image 6 and Image7 and Image8";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }
//        if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0 || trim(image_homebanner4).length == 0 || trim(image_homebanner5).length == 0 ||  trim(image_homebanner6).length == 0 ||  trim(image_homebanner7).length == 0 ||  trim(image_homebanner8).length == 0 ||  trim(image_homebanner9).length == 0) && (trim(image_homebanner10).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select  Image 4 and Image 5 and Image 6 and Image7 and Image8 and Image9";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }
        if(error_code != 1){
           
            document.getElementById("banner_error_msg").innerHTML = "";
               // $("#submit_btn_banner").prop("disabled","disabled");
             return true;
            
        }
        
    }
    function editpublichBanner(){
        var image_homebanner1 = $("#image_homebanner1").val();
         var cache_time = $("#cache_time").val();
          var scroll_time = $("#scroll_time").val();
          var image_homebanner2 = $("#image_homebanner2").val();
          var image_homebanner3 = $("#image_homebanner3").val();
          var image_homebanner4 = $("#image_homebanner4").val();
          var image_homebanner5 = $("#image_homebanner5").val();
          var image_homebanner6 = $("#image_homebanner6").val();
          var image_homebanner7 = $("#image_homebanner7").val();
          var image_homebanner8 = $("#image_homebanner8").val();
          var image_homebanner9 = $("#image_homebanner9").val();
          var image_homebanner10 = $("#image_homebanner10").val();
          var hidimage_homebanner1 = $("#hidimage_homebanner1").val();
           var hidimage_homebanner2 = $("#hidimage_homebanner2").val();
          var hidimage_homebanner3 = $("#hidimage_homebanner3").val();
          var hidimage_homebanner4 = $("#hidimage_homebanner4").val();
          var hidimage_homebanner5 = $("#hidimage_homebanner5").val();
          var hidimage_homebanner6 = $("#hidimage_homebanner6").val();
          var hidimage_homebanner7 = $("#hidimage_homebanner7").val();
          var hidimage_homebanner8 = $("#hidimage_homebanner8").val();
          var hidimage_homebanner9 = $("#hidimage_homebanner9").val();
          var hidimage_homebanner10 = $("#hidimage_homebanner10").val();
          
          var  error_code = 0;
           var tot_percpattern = /^[0-9]+$/;
          if(trim(cache_time).length == 0)
        {
                document.getElementById("banner_error_msg").innerHTML = "Please Select Cache time";
                document.getElementById("cache_time").focus();
                error_code=1;
                return false;
        }
        if(trim(scroll_time).length == 0)
        {
                document.getElementById("banner_error_msg").innerHTML = "Please Enter Scroll Time";
                document.getElementById("scroll_time").focus();
                error_code=1;
                return false;
        }
        if(!scroll_time.match(tot_percpattern))
		{
			document.getElementById("banner_error_msg").innerHTML = "Please Enter Valid Scroll Time";
			document.getElementById("scroll_time").focus();
			return false;
		}
                if(trim(hidimage_homebanner1).length == 0){
        if(trim(image_homebanner1).length == 0)
        {
                document.getElementById("banner_error_msg").innerHTML = "Please Select Image 1";
                document.getElementById("image_homebanner1").focus();
                error_code=1;
                return false;
        }
                }
                if(trim(hidimage_homebanner2).length == 0){
        if(trim(image_homebanner2).length == 0)
        {
                document.getElementById("banner_error_msg").innerHTML = "Please Select Image 2";
                document.getElementById("image_homebanner2").focus();
                error_code=1;
                return false;
        }
                }
//                if((trim(hidimage_homebanner1).length == 0 || trim(hidimage_homebanner2).length == 0 ) ){
//        if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 ) && (trim(image_homebanner3).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select Image 1 and  Image 2 ";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }
//                }
//                if((trim(hidimage_homebanner1).length == 0 || trim(hidimage_homebanner2).length == 0 || trim(hidimage_homebanner3).length == 0) ){
//        if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0) && (trim(image_homebanner4).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select Image 1 and  Image 2 and  Image 3";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }
//                }
//                if((trim(hidimage_homebanner1).length == 0 || trim(hidimage_homebanner2).length == 0 || trim(hidimage_homebanner3).length == 0 || trim(hidimage_homebanner4).length == 0)){
//      if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0 || trim(image_homebanner4).length == 0) && (trim(image_homebanner5).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select  Image 4";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }
//                }
//                if((trim(hidimage_homebanner1).length == 0 || trim(hidimage_homebanner2).length == 0 || trim(hidimage_homebanner3).length == 0 || trim(hidimage_homebanner4).length == 0 ||  trim(hidimage_homebanner5).length == 0) ){
//        if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0 || trim(image_homebanner4).length == 0 ||  trim(image_homebanner5).length == 0) && (trim(image_homebanner6).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select  Image 4 and Image 5";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }}
//     if((trim(hidimage_homebanner1).length == 0 || trim(hidimage_homebanner2).length == 0 || trim(hidimage_homebanner3).length == 0 || trim(hidimage_homebanner4).length == 0 || trim(hidimage_homebanner5).length == 0 ||  trim(hidimage_homebanner6).length == 0) ){
//        if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0 || trim(image_homebanner4).length == 0 || trim(image_homebanner5).length == 0 ||  trim(image_homebanner6).length == 0) && (trim(image_homebanner7).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select  Image 4 and Image 5 and Image 6";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }}
//     if((trim(hidimage_homebanner1).length == 0 || trim(hidimage_homebanner2).length == 0 || trim(hidimage_homebanner3).length == 0 || trim(hidimage_homebanner4).length == 0 || trim(hidimage_homebanner5).length == 0 ||  trim(hidimage_homebanner6).length == 0 ||  trim(hidimage_homebanner7).length == 0) ){
//        if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0 || trim(image_homebanner4).length == 0 || trim(image_homebanner5).length == 0 ||  trim(image_homebanner6).length == 0 ||  trim(image_homebanner7).length == 0) && (trim(image_homebanner8).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select  Image 4 and Image 5 and Image 6 and Image7";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }}
//     if((trim(hidimage_homebanner1).length == 0 || trim(hidimage_homebanner2).length == 0 || trim(hidimage_homebanner3).length == 0 || trim(hidimage_homebanner4).length == 0 || trim(hidimage_homebanner5).length == 0 ||  trim(hidimage_homebanner6).length == 0 ||  trim(hidimage_homebanner7).length == 0 ||  trim(hidimage_homebanner8).length == 0) ){
//         if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0 || trim(image_homebanner4).length == 0 || trim(image_homebanner5).length == 0 ||  trim(image_homebanner6).length == 0 ||  trim(image_homebanner7).length == 0 ||  trim(image_homebanner8).length == 0) && (trim(image_homebanner9).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select  Image 4 and Image 5 and Image 6 and Image7 and Image8";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }}
//    if((trim(hidimage_homebanner1).length == 0 || trim(hidimage_homebanner2).length == 0 || trim(hidimage_homebanner3).length == 0 || trim(hidimage_homebanner4).length == 0 || trim(hidimage_homebanner5).length == 0 ||  trim(hidimage_homebanner6).length == 0 ||  trim(hidimage_homebanner7).length == 0 ||  trim(hidimage_homebanner8).length == 0 ||  trim(hidimage_homebanner9).length == 0) ){
//        if((trim(image_homebanner1).length == 0 || trim(image_homebanner2).length == 0 || trim(image_homebanner3).length == 0 || trim(image_homebanner4).length == 0 || trim(image_homebanner5).length == 0 ||  trim(image_homebanner6).length == 0 ||  trim(image_homebanner7).length == 0 ||  trim(image_homebanner8).length == 0 ||  trim(image_homebanner9).length == 0) && (trim(image_homebanner10).length > 0)){
//             document.getElementById("banner_error_msg").innerHTML = "Please First Select  Image 4 and Image 5 and Image 6 and Image7 and Image8 and Image9";
//                document.getElementById("image_homebanner1").focus();
//                error_code=1;
//                return false;
//        }}
        if(error_code != 1){
           
            document.getElementById("banner_error_msg").innerHTML = "";
                $("#submit_btn_banner").prop("disabled","disabled");
             return true;
            
        }
        
    }
    function icpCurrentBanner(){
         var url = "homeBannerPreview.php";
         var imgurl = escape(imgurl);
                   var path = "=";
                     var divid = "#alter";
                    
         <?php   
           $access = "view";
         $objects = "ICP HOME BANNER";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function editBanner(){
        var url = "editBanner.php";
         var imgurl = escape(imgurl);
                   var path = "=";
                     var divid = "#alter";
                    
         <?php   
           $access = "edit";
         $objects = "ICP HOME BANNER";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

//Active Banner Functionality

	/* Added this function after editBanner() */
	function icpActiveBanner(){
        var url     = "icpActiveBanner.php";
        var path    = "";
        var divid   = "#alter";
        
        <?php   
            $access = "create";
            $objects = "ICP ACTIVE BANNER";
            $rolls =  check_rolls($usertype,$access,$objects); 
        ?>
        
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");    
    }
    
    function icpCurrentActiveBanner(){
		var url     = "currentActiveBanner.php";
		var imgurl  = escape(imgurl);
		var path    = "=";
		var divid   = "#alter";
		
		<?php   
			$access     = "edit";
			$objects    = "ICP ACTIVE BANNER";
			$rolls      =  check_rolls($usertype,$access,$objects); 
		?>
				
		checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");            
	}
    
    function editActiveBanner(){
        var url     = "editActiveBanner.php";
        var imgurl  = escape(imgurl);
        var path    = "=";
        var divid   = "#alter";
                    
        <?php   
            $access     = "edit";
            $objects    = "ICP ACTIVE BANNER";
            $rolls      = check_rolls($usertype,$access,$objects); 
        ?>
                
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    
       function activeBanner(){
        var image_homebanner1   = $("#image_homebanner1").val();
        var image_homebanner2   = $("#image_homebanner2").val();
        var image_homebanner3   = $("#image_homebanner3").val();
        var image_homebanner4   = $("#image_homebanner4").val();
        var image_homebanner5   = $("#image_homebanner5").val();
        var image_homebanner6   = $("#image_homebanner6").val();
        var image_homebanner7   = $("#image_homebanner7").val();
        var image_homebanner8   = $("#image_homebanner8").val();
        var image_homebanner9   = $("#image_homebanner9").val();
        var image_homebanner10  = $("#image_homebanner10").val();
    }
 

//Active Banner Functionality Ends Here






    function distbutordashboard(distributorid,date)
    {
      //alert(date);
       if(date=="")
           {
               date='';
           }else{date=date;}
     var url = "DistributorDash.php";
           var path = "distributorid="+distributorid+"&bydate="+date;
            var divid = "#alter";
         <?php   
          $access = "view";
          $objects = "ICC DASHBOARD";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
           
    }
    function addEcomPackage(){
        var url = "addEcomPackage.php";
         var imgurl = escape(imgurl);
                   var path = "=";
                     var divid = "#alter";
                    
         <?php   
             $access = "create";
          $objects = "ECOMMERCE PACKAGES";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchecomproddetails_package(){
    var search_ecom_prod_form = $('#search_ecom_prod_form').serialize();
                 $('#alter').load("searchecomproddets_pack.php",search_ecom_prod_form);
    }
    function backtopackStep1(){
    var search_ecom_prod_form = "";
                 $('#alter').load("searchecomproddets_pack.php",search_ecom_prod_form);
    }
    function selectProduct(productid){
          var hid_selecte =    $("#hid_selected_pids").val();
          
        var path = "productid="+productid+"&hid_selecte="+hid_selecte;
        $("#selected_ecom_packagesdv").load("selectedProducts_pack.php",path);
    }
    function RemoveProduct(productid){
       var hid_selecte =    $("#hid_selected_pids").val();
 var path = "productid="+productid+"&hid_selecte="+hid_selecte;
       $('#'+productid).remove();
        $("#selected_ecom_packagesdv").load("removeProducts_pack.php",path);
       
    }
    function ecomPackageStep2(){
         var hid_selecte =    $("#hid_selected_pids").val();
         var path = "productid="+hid_selecte;
         if(trim(hid_selecte).length == 0){
             alert("Please Select Products");
         }
         else{
            $('#alter').load("ecomPackageStep2.php",path);  
         }
        
    }
    function backtopackStep2(){
        
        
        var prod_ids_selected =    $("#prod_ids_selected").val();
       
         var path = "productid="+prod_ids_selected;
         
          $('#alter').load("ecomPackageStep2.php",path);  
         
    }
    function ecomPackageStep3(){
        var prod_ids_selected = $("#prod_ids_selected").val();
         var res = prod_ids_selected.split(",");
        var instantdiscchr = "";
        var mobilenopattern = /^[0-9]+$/;
        var path = $('#ecom_pack_creation_form').serialize();
        var instant_discount = $("#instant_discount").val();
        for(var i = 0;i<res.length;i++){
               instantdiscchr = instantdiscchr+$("#hid_instantdisc_prd"+res[i]).val()+",";
               }
            
           instantdiscchr =  instantdiscchr.substring(0, instantdiscchr.length-1);
           var instantdiscchraray = instantdiscchr.split(",");
           var total_instantdisc = eval( instantdiscchraray.join('+') );
        if(trim(instant_discount).length == 0){
            alert("Please Enter Instant Discount"); 
            return false;
        }
        else if(!instant_discount.match(mobilenopattern))
		{
                alert("Please Enter valid Instant Discount"); 
                 return false;
		}
                else if(parseFloat(instant_discount) > parseFloat(total_instantdisc)){
                    alert("Instant Discount Value Not greater than Total Discount"); 
                     return false;
                }
        else{
            $('#alter').load("ecomPackageStep3.php",path);
             return true;
        }
        
    }
    function insertPackage(){
        $('#btn_insert_ecompack').attr('disabled', 'disabled');
        var path = $('#ecom_pack_creation_form1').serialize();
        $('#insert_ecom_package').load("insertPackage.php",path);
    }
    function changeMrp(prod_ids_selected){
        var summrp = "";
        var packageval ="";
        var shippinhcharg = "";
        var instantdiscchr = "";
        var res = prod_ids_selected.split(",");
            for(var i = 0;i<res.length;i++){
               summrp = summrp+$("#hid_mrp_prd"+res[i]).val()+",";
               }
            
           summrp =  summrp.substring(0, summrp.length-1);
           for(var i = 0;i<res.length;i++){
               packageval = packageval+$("#hid_freecomprc_prd"+res[i]).val()+",";
               }
            
           packageval =  packageval.substring(0, packageval.length-1);
            
    for(var i = 0;i<res.length;i++){
               shippinhcharg = shippinhcharg+$("#hid_shippingcharg_prd"+res[i]).val()+",";
               }
            
           shippinhcharg =  shippinhcharg.substring(0, shippinhcharg.length-1);
           for(var i = 0;i<res.length;i++){
               instantdiscchr = instantdiscchr+$("#hid_instantdisc_prd"+res[i]).val()+",";
               }
            
           instantdiscchr =  instantdiscchr.substring(0, instantdiscchr.length-1);
          //alert(shippinhcharg);
            var mrparrray = summrp.split(",");
            var packagevalaray = packageval.split(",");
            var shippinhchargaray = shippinhcharg.split(",");
            var instantdiscchraray = instantdiscchr.split(",");
            var total = eval( mrparrray.join('+') );
             var total_packageval = eval( packagevalaray.join('+') );
             var total_shippingcharg = eval( shippinhchargaray.join('+') );
             var total_instantdisc = eval( instantdiscchraray.join('+') );
            // alert(total); alert(total_packageval); alert(total_shippingcharg);
            $("#total_mrp").html((parseFloat(total) + parseFloat(total_shippingcharg)).toFixed(2));
            $("#hidtotal_mrp").val(parseFloat(total) + parseFloat(total_shippingcharg));
             $("#total_mrp_package").html((parseFloat(total_packageval) + parseFloat(total_shippingcharg)).toFixed(2));
            $("#hidtotal_mrp_package").val(parseFloat(total_packageval) + parseFloat(total_shippingcharg));
             $("#instant_discount").val(total_instantdisc);
       // alert(total);
    }
    function changePackagePrice(qnty,pid,shippingchrg,mrp,shipstype,freecomprc,discount){
        
        var spanid = "#shipcharg_span"+pid;
         var prod_ids_selected =    $("#prod_ids_selected").val();
        var mrp_spanid =  "#mrp_span"+pid;
        var freeecomspanid = "#freeecomspan"+pid;
        var instantdiscspanid = "#instantdiscspan"+pid;
        var mrpprd = qnty * mrp;
         var freecomprcprd = qnty * freecomprc;
          var shipping_chargprd = qnty * shippingchrg;
          var discountprd = qnty * discount;
          var hid_mrp_prdid = "#hid_mrp_prd"+pid;
          var hid_freecomprc_prdid = "#hid_freecomprc_prd"+pid;
          var hid_instantdisc_prdid = "#hid_instantdisc_prd"+pid;
          var hid_shippingcharg_prdid = "#hid_shippingcharg_prd"+pid;
        if(shipstype == "ORDER"){
           
           var shipping_charg = 1 * shippingchrg;
           
        }
        else if(shipstype == "ITEM"){
            
            var shipping_charg = qnty * shippingchrg;
            
        }
         
         $(spanid).html(shipping_charg.toFixed(2));
         $(hid_shippingcharg_prdid).val(shipping_charg);
         $(hid_mrp_prdid).val(mrpprd);
          $(mrp_spanid).html(mrpprd.toFixed(2));
          $(freeecomspanid).html(freecomprcprd.toFixed(2));
          $(hid_freecomprc_prdid).val(freecomprcprd);
        $(instantdiscspanid).html(discountprd.toFixed(2));
        $(hid_instantdisc_prdid).val(discountprd);
        
       changeMrp(prod_ids_selected);
    }
    function editEcomPackage_pop(package_id){
        var url = "editEcomPackage.php";
                   var path = "package_id="+package_id;
                     var divid = "#popup_billprocess";
                     var width = 950;
                     var height = 600;
                     var title = 'Ecommerce Package Details';
         <?php   
          $access = "view";
          $objects = "ECOMMERCE PACKAGES";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    }
    function findCoupons(ordid,transtype){
        
         var url = "findCoupons.php";
        var path = "ordid="+ordid+"&transtype="+transtype;
                     var divid = "#coupons";
                    
         <?php   
            $access = "search";
          $objects = "COUPONS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                 
    }
    function searchcoupons(){
        var offered_order_id = $("#offered_order_id").val();
        var coupon_code = $("#coupon_code").val();
        var offered_mobile_num = $("#offered_mobile_num").val();
        var path = $('#form_coupons_find').serialize();
        if(trim(offered_order_id).length == 0 && trim(coupon_code).length == 0 && trim(offered_mobile_num).length == 0){
            alert("Please fill Atleast One field to search");
        }
        else{
            $('#coupons').load("searchcoupons.php",path);
        }
    }
    function searchCouponDets(){
        
      var path = $('#search_coupons_ecom').serialize();
        
            $('#alter').load("searchCouponDets.php",path);
       
    }
    function searchEcomCoupons(){
         var url = "searchEcomCoupons.php";
        var path = "";
                     var divid = "#alter";
                    
         <?php   
            $access = "search";
          $objects = "COUPONS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function applyCoupon(couponcode,orderid,transtype){
        var btnid = "#btncpn"+couponcode;
        var tdid = "#tdcop"+couponcode;
        $(btnid).attr("disabled","disabled");
        var path = "couponcode="+couponcode+"&transtype="+transtype+"&orderid="+orderid;
        <?php   
         if($_SESSION["usertype"] == "Admin"){
             $rolls = "yes";
         }else{
             $access = "apply";
          $objects = "COUPONS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         }
            ?>
                    var rolls ="<?php echo $rolls; ?>";
                    if(rolls == "yes"){
                        $('#apply_coupons').load("applyCoupon.php",path);
                    }
                    else{
                        alert("You Dont Have Access Towards This Page");
                    }
    }
    function viewCoupon(couponcode){
        
        var url = "viewCoupon.php";
                   var path = "couponcode="+couponcode;
                     var divid = "#pop_coupons";
                     var width = 900;
                     var height = 600;
                     var title = 'Coupon Details';
         <?php   
         $access = "view";
          $objects = "COUPONS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    }
    
    function vendorReports(){
      
        <?php   
         if($_SESSION["usertype"] == "Admin"){
             $rolls = "yes";
         }else{
             $access = "view";
          $objects = "VENDORS REPORT";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         }
            ?>
                    var rolls ="<?php echo $rolls; ?>";
                    if(rolls == "yes"){
                         var win=window.open("vendorsReport.php", '_blank');
                     win.focus();
                    }
                    else{
                        alert("You Dont Have Access Towards This Page");
                    }
    }
    function addEcomOffers(){
        var url = "addEcomOffers.php";
        var path = "";
                     var divid = "#alter";
                    
         <?php   
            $access = "create";
          $objects = "ECOMMERCE OFFERS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function updateOffer(type){
        var path = $('#add_msg_ecomoffrform').serialize(); 
       if(type == "Preview"){
           $.ajax({
                      type: 'post',
                     url: '',
                     
                      async:false,
                    beforeSend: function() {
                        
                                    },
                    complete: function() {
                         
                    },
                   success: function(result) {
                          $("#upateOfferresp").dialog({
                                    width: 400,
                                    title: "Offer Preview",
                                    height: 670,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {
                                      path = path+"&type=Preview"; 
                                     $("#upateOfferresp").load("updateOffer.php",path);

                                    }

                                });
                    }

                });

       }
       else{
       path = path+"&type=Publish"; 
           $("#alter").load("updateOffer.php",path);
       }
    }
    

  function websiteimage(){
        var url = "websiteimage.php";
        var path= "";
         var divid = "#alter";
    <?php   
                       $access = "create";
                       $objects = "CUSTOM MSG";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

 function websiteimagevalidate(){
      
	var image_id=$("#image_id").val();
        
        var error_code = 0;
   
        if(trim(image_id).length == 0 )
        {
                document.getElementById("errorMessage_prodcat").innerHTML = "Please Select image";
                document.getElementById("image_id").focus();
                error_code=1;
                return false;
        }
       
        
        if(error_code != 1){
            $("#add_web_img_btn").attr("disabled","disabled");
            return true;
            
        }
    }


function websitemessage(){
        var url = "websitemessage.php";
        var path= "";
         var divid = "#alter";
    <?php   
                       $access = "create";
                       $objects = "CUSTOM MSG";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

 function websitemessagevalidate(){
      
	var image_id=$("#image_id").val();
        
        var error_code = 0;
   
        if(trim(image_id).length == 0 )
        {
                document.getElementById("errorMessage_prodcat").innerHTML = "Please enter message";
                document.getElementById("image_id").focus();
                error_code=1;
                return false;
        }
       
        
        if(error_code != 1){
            $("#add_web_img_btn").attr("disabled","disabled");
            return true;
            
        }
    }



    function viewwebsitepoststatus(posttype){
        var url = "viewwebsitepoststatus.php";
        var path = "posttype="+posttype;
         var divid = "#alter";
      <?php   
       $access = "view";
       $objects = "CUSTOM MSG";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function getFlipCartProds(){
        var url = "getFlipCartProds.php";
        var path = "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "VENDOR PRODUCTS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function getVendorProducts(){
        
        $("#loader").show();
       var url = "getVendorProducts.php";
         var path = $('#form_vendor_products').serialize();
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "VENDOR PRODUCTS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>"); 
    }
    function viewEcomVendorProduct(id,vendorname,seller,category,status){
        var url = "viewEcomVendorProduct.php";
         var path = "vendor_prod_id="+id+"&vendorname="+vendorname+"&seller="+seller+"&category="+category+"&status="+status;
         var divid = "#alter";
      <?php   
       $access = "view";
       $objects = "VENDOR PRODUCTS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>"); 
    }
      function viewEcomFullImage(vendor_prod_id,vendor_name){
        var url = "viewEcomFullImage.php";
                   var path = "vendor_prod_id="+vendor_prod_id+"&vendor_name="+vendor_name;
                     var divid = "#pop_coupons";
                     var width = 700;
                     var height = 600;
                     var title = "Product Images";
         <?php   
          $access = "view";
       $objects = "VENDOR PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    }
    function viewIcomFullImage(imageid){
        
         var url = "loadEcomFullimage.php";
                   var path = "imageid="+imageid;
                     var divid = "#pop_coupons";
                     var width = 700;
                     var height = 600;
                     var title = "Product Images";
         <?php   
          $access = "view";
       $objects = "ECOMMERCE PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
                
           
    }
    function viewEcomVendorFullImage(imageurl){
        
         $("#ecom_full_vendor_image").attr("src",imageurl);
         $("#ecom_full_vendor_image").attr("data-zoom-src",imageurl);
    }
    function viewEcomFullImagepop(imageurl){
        
         $("#ecom_full_image").attr("src",imageurl);
         $("#ecom_full_image").attr("data-zoom-src",imageurl);
    }
    function createEcomproduct(vendor_id,vendor_name){
        var url = "createEcomproduct.php";
             var path = "prod_id="+vendor_id+"&vendor_name="+vendor_name;
            var divid = "#alter";
         <?php   
          $access = "create";
           $objects = "ECOMMERCE PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function ecomprodcreatevalidate(){
        
        var path = $('#form_insrt_ecom_vndrprod').serialize();
        var prod_category =  $("#prod_category").val();
        var prod_sub_category =  $("#prod_sub_category").val();
        var ecom_prod_name =  $("#ecom_prod_name").val();
        
        //var ecom_prod_desc = $("#ecom_prod_desc").val();
       
        var ecom_prod_desc = tinyMCE.get('ecom_prod_desc').getContent();
         //alert(text);
        var ecom_prod_price = $("#ecom_prod_price").val();
        var ecom_prod_vendor_price = $("#ecom_prod_vendor_price").val();
        var ecom_prod_ipex_price = $("#ecom_prod_ipex_price").val();
        var ecom_prod_shipping_price = $("#ecom_prod_shipping_price").val();
         var available_from = $("#available_from").val();
         var ecom_prod_status = $("#ecom_prod_status").val();
         var ecom_prod_count = $("#ecom_prod_count").val();
         var shipping_addr_type = $("#shipping_addr_type").val();
         var shipping_price_type = $("#shipping_price_type").val();
         var elements = document.getElementsByClassName('mandatory');
         var ecom_refer_link = $("#ecom_refer_link").val();
         var image_ecom_prod1 = $("#image_ecom_prod1").val();
          var max_qnty_per_order = $("#max_qnty_per_order").val();
          var max_qnty_per_customer = $("#max_qnty_per_customer").val();
          var ecom_prod_discount = $("#ecom_prod_discount").val();
          var ecom_free_price = $("#ecom_free_price").val();
          var product_type=$('input[name=ecom_prod_type]:checked').val();
          var outofstock=$('input[name=outof_order]:checked').val();
         
          var outofstock_qty=$('#oocutoff').val();
           
        var error_code = 0;
        var mobilenopattern = /^[0-9 .]+$/;
        var mobilenopattern1 = /^[0-9]+$/;
    
       
         if(trim(prod_category).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Category";
                document.getElementById("prod_category").focus();
                error_code=1;
                return false;
        }
        if(product_type=="Combo"){
			
			var combo_product_id1= $("#hid_upcomingprods1").val();
			var combo_product_id2= $("#hid_upcomingprods2").val();
			var combo_product_id3= $("#hid_upcomingprods3").val();
			var combo_qty1=$("#combo_qty_1").val();
			var combo_qty2=$("#combo_qty_2").val();
			var combo_qty3=$("#combo_qty_3").val();
			
			
			
			if(combo_product_id2=="" && combo_product_id3=="" && combo_product_id1=="" )
			{   document.getElementById("error_messge_ecomprod").innerHTML = "Please select at least on combo product";
               document.getElementById("Combo").focus();
				error_code=1;
                return false
				}
				if(combo_product_id1!="" )
			{ if(combo_qty1 < 1)
				{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Qty for combo option 1";
                document.getElementById("combo_qty_1").focus();
				error_code=1;
                return false
				}
					
			}
			if(combo_product_id2=="" && combo_product_id3=="")
			{ if(combo_qty1 <= 1)
				{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Qty for combo option 1";
                document.getElementById("combo_qty_1").focus();
				error_code=1;
                return false
				}
					
			}
			if(combo_product_id1==""&&combo_product_id2=="" &&combo_product_id3!="")
			{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please select combo option 1";
                document.getElementById("combo_qty_3").focus();
				error_code=1;
                return false
				}
				if(combo_product_id1==""&&combo_product_id2!="" &&combo_product_id3!="")
			{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please select combo option 1";
                document.getElementById("combo_qty_2").focus();
				error_code=1;
                return false
				}
			if(combo_product_id1==""&&combo_product_id2!="" &&combo_product_id3=="")
			{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please select combo option 1";
                document.getElementById("combo_qty_2").focus();
				error_code=1;
                return false
				}
			if(combo_product_id2!="" )
			{ if(combo_qty2 < 1)
				{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Qty for combo option 2";
                document.getElementById("combo_qty_2").focus();
				error_code=1;
                return false
				}
					
			}
			if(combo_product_id3!="" )
			{ if(combo_qty3 < 1)
				{
				document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Qty for combo option 3";
                document.getElementById("combo_qty_2").focus();
				error_code=1;
                return false
				}
					
			}
			
			}
//        if(trim(prod_sub_category).length == 0)
//        {
//                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Sub Category";
//                document.getElementById("prod_sub_category").focus();
//                error_code=1;
//                return false;
//        }
         if(trim(ecom_prod_name).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Product Name";
                document.getElementById("ecom_prod_name").focus();
                error_code=1;
                return false;
        }
        if(product_type!="Combo"){
         if(trim(ecom_prod_count).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Count";
                document.getElementById("ecom_prod_count").focus();
                error_code=1;
                return false;
        }
	
        if(!ecom_prod_count.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Count";
                document.getElementById("ecom_prod_count").focus();
                error_code=1;
                return false;
		}
         }
                if(trim(max_qnty_per_order).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Maximum Quantity For Order";
                document.getElementById("max_qnty_per_order").focus();
                error_code=1;
                return false;
        }
        
        if(!max_qnty_per_order.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Maximum Quantity For Order";
                document.getElementById("max_qnty_per_order").focus();
                error_code=1;
                return false;
		}
                if(trim(max_qnty_per_customer).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Maximum Quantity For Customer";
                document.getElementById("max_qnty_per_customer").focus();
                error_code=1;
                return false;
        }
        
        if(!max_qnty_per_customer.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Maximum Quantity For Customer";
                document.getElementById("max_qnty_per_customer").focus();
                error_code=1;
                return false;
		}
                
                if (document.getElementById('min_qnty_per_order')) {
                    
                    var min_qnty_per_order = $("#min_qnty_per_order").val();
                     if(trim(min_qnty_per_order).length == 0 || min_qnty_per_order==0 )
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Minmum Quantity For Order";
                document.getElementById("min_qnty_per_order").focus();
                error_code=1;
                return false;
        }
        
        if(!min_qnty_per_order.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Minimun Quantity For Orde";
                document.getElementById("min_qnty_per_order").focus();
                error_code=1;
                return false;
		}
                    
    //field exists
   // alert('exits');
}else{
     // alert('notexits');  
} 
                
                
                if(trim(ecom_refer_link).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Reference Link";
                document.getElementById("ecom_refer_link").focus();
                error_code=1;
                return false;
        }
        
        
        if(trim(ecom_prod_desc).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Product Description";
                document.getElementById("ecom_prod_desc").focus();
                error_code=1;
                return false;
        }
        if(trim(ecom_prod_price).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Price";
                document.getElementById("ecom_prod_price").focus();
                error_code=1;
                return false;
        }
        if(!ecom_prod_price.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Price";
                document.getElementById("ecom_prod_price").focus();
                error_code=1;
                return false;
		}
        if(trim(ecom_prod_vendor_price).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prod_vendor_price").focus();
                error_code=1;
                return false;
        }
        if(!ecom_prod_vendor_price.match(mobilenopattern))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prod_vendor_price").focus();
                error_code=1;
                return false;
		}
        if(trim(ecom_prod_ipex_price).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prod_ipex_price").focus();
                error_code=1;
                return false;
        }
        
        if(!ecom_prod_ipex_price.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Vendor Price";
                document.getElementById("ecom_prod_ipex_price").focus();
                error_code=1;
                return false;
		}
                if(trim(shipping_addr_type).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Ships For";
                document.getElementById("shipping_addr_type").focus();
                error_code=1;
                return false;
        }
                if(trim(shipping_price_type).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select shipping price type";
                document.getElementById("shipping_price_type").focus();
                error_code=1;
                return false;
        }
        if(trim(ecom_prod_shipping_price).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Product Shipping Price";
                document.getElementById("ecom_prod_shipping_price").focus();
                error_code=1;
                return false;
        }
         if(!ecom_prod_shipping_price.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Product Shipping Price";
                document.getElementById("ecom_prod_shipping_price").focus();
                error_code=1;
                return false;
		}
        if(trim(available_from)== "0000-00-00")
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Available  Date";
                document.getElementById("available_from").focus();
                error_code=1;
                return false;
        }
        if(trim(ecom_prod_status).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Select Status";
                document.getElementById("ecom_prod_status").focus();
                error_code=1;
                return false;
        }
        if(trim(ecom_prod_discount).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Instant Discount";
                document.getElementById("ecom_prod_discount").focus();
                error_code=1;
                return false;
        }
        if(!ecom_prod_discount.match(mobilenopattern))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Instant Discount";
                document.getElementById("ecom_prod_discount").focus();
                error_code=1;
                return false;
		}
                
                if(trim(ecom_free_price).length == 0)
        {
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Free Ecommerce Price";
                document.getElementById("ecom_free_price").focus();
                error_code=1;
                return false;
        }
        if(!ecom_free_price.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Free Ecommerce Price";
                document.getElementById("ecom_free_price").focus();
                error_code=1;
                return false;
		}
		   
       if(outofstock==0)
		{
			    if(trim(outofstock_qty).length == 0){
                document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Stop limit";
                document.getElementById("oocutoff").focus();
                error_code=1;
                return false;
        }
        if(!outofstock_qty.match(mobilenopattern1))
		{
			document.getElementById("error_messge_ecomprod").innerHTML = "Please Enter Valid Stop limit";
                document.getElementById("oocutoff").focus();
                error_code=1;
                return false;
		}
	}
		
        for (var i = 0, length = elements.length; i < length; i++) {
                    if (elements[i].value == '') {

                        document.getElementById("error_messge_ecomprod").innerHTML = "Please fill all required attribute values";
                        error_code = 1;
                        return false;

                    }


                }
        
        
        
        if(error_code != 1){
            document.getElementById("error_messge_ecomprod").innerHTML = "";
            $("#alter").load("insertVendorEcomProd.php",path);
                $("#addprovendor_btn").prop("disabled","disabled");
             return true;
            
        }
    }
    function searchbackecomvendordetails(vendor_name,seller,category,status){
        var path = "vendor_name="+vendor_name+"&seller_name="+seller+"&cat_name="+category+"&status="+status;;
         $('#alter').load("getVendorProducts.php",path);
    }

    function addCoupon(){
         var url = "addCoupon.php";
        var path = "";
                     var divid = "#alter";
                    
         <?php   
            $access = "create";
          $objects = "COUPONS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    
    
//approveletter.addEventListener('change', checkFile, false);
    function checkFile(e) {
//alert(e);
    var file_list = e.target.files;

    for (var i = 0, file; file = file_list[i]; i++) {
        var sFileName = file.name;
        var sFileExtension = sFileName.split('.')[sFileName.split('.').length - 1].toLowerCase();
        var iFileSize = file.size;
        var iConvert = (file.size / 10485).toFixed(2);

        if (!(sFileExtension === "pdf" || sFileExtension === "doc" || sFileExtension === "docx" || sFileExtension === "xls") || iFileSize > 10485) {
            txt = "File type : " + sFileExtension + "\n\n";
            txt += "Size: " + iConvert + " MB \n\n";
            txt += "Please make sure your file is in pdf or doc format and less than 10 MB.\n\n";
            alert(txt);
        }
    }
}
    
    
    
    function couponCreaValidate(){
        var campaign_name =  $("#campaign_name").val();
        var coupon_value =  $("#coupon_value").val();
        var discount_type =  $("#discount_type").val();
        var min_applicable_amount = $("#min_applicable_amount").val();
        var applicable_services = $("#applicable_services").val();
        var coupon_valid_from = $("#coupon_valid_from").val();
        var coupon_valid_to = $("#coupon_valid_to").val();
         var coupon_status = $("#coupon_status").val();
        // var coupon_products = $("#coupon_products").val();
         var myfile = $("#myfile").val();
         var error_code = 0;
        var mobilenopattern = /^[0-9 .]+$/;
        var mobilenopattern1 = /^[0-9]+$/;
        var streetpattern = /^[a-z 0-9 A-Z]+$/;
        
     
//}
//        if ( (FileExt != "pdf" && FileExt != "doc" && FileExt != "docx") || FileSize>10485760)
//        {
//            var error = "File type : "+ FileExt+"\n\n";
//            error += "Size: " + FileSizeMB + " MB \n\n";
//            error += "Please make sure your file is in pdf or doc format and less than 10 MB.\n\n";
//            alert(error);
//            return false;
//        }
        //return true;
   
         if(document.getElementById('generic_coupon').checked) {
               var user1 = "Bulk";
             }else if(document.getElementById('contacts_coupon').checked) {
                   var user1 = "Quick";
             }
            
		else
                    {document.getElementById("message").innerHTML = "Please Select Coupon Type";
					document.getElementById("generic_coupon").focus();
                                        error_code = 1;
					return false;
                                    }
         if(document.getElementById('rad_coup_prds_all').checked) {
               var type = "All";
             }else if(document.getElementById('rad_coup_prds_selected').checked) {
               var type = "Selected";
             }
            
        
         if(trim(campaign_name).length == 0)
        {
                document.getElementById("message").innerHTML = "Please Enter Campaign Name";
                document.getElementById("campaign_name").focus();
                error_code=1;
                return false;
        }
if(!campaign_name.match(streetpattern))
		{
			document.getElementById("message").innerHTML = "Please Enter Valid  Campaign Name";
                document.getElementById("campaign_name").focus();
                error_code=1;
                return false;
		}
         if(trim(coupon_value).length == 0)
        {
                document.getElementById("message").innerHTML = "Please Enter Coupon Value";
                document.getElementById("coupon_value").focus();
                error_code=1;
                return false;
        }
         
        if(discount_type == "Percent"){
            if(coupon_value > 100)
        {
                document.getElementById("message").innerHTML = "Please Enter Valid Coupon Value";
                document.getElementById("coupon_value").focus();
                error_code=1;
                return false;
        }
        }
        if(!coupon_value.match(mobilenopattern1))
		{
			document.getElementById("message").innerHTML = "Please Enter Valid Coupon Value";
                document.getElementById("coupon_value").focus();
                error_code=1;
                return false;
		}
                if(trim(min_applicable_amount).length == 0)
        {
                document.getElementById("message").innerHTML = "Please Enter Minimum Applicable Amount";
                document.getElementById("min_applicable_amount").focus();
                error_code=1;
                return false;
        }
        
        if(!min_applicable_amount.match(mobilenopattern1))
		{
			document.getElementById("message").innerHTML = "Please Enter Valid Minimum Applicable Amount";
                document.getElementById("min_applicable_amount").focus();
                error_code=1;
                return false;
		}
                
                if(trim(applicable_services).length == 0)
        {
                document.getElementById("message").innerHTML = "Please Select Applicable Services";
                document.getElementById("applicable_services").focus();
                error_code=1;
                return false;
        }
        

        
        if(trim(coupon_valid_from)== "0000-00-00")
        {
                document.getElementById("message").innerHTML = "Please Select Valid From";
                document.getElementById("coupon_valid_from").focus();
                error_code=1;
                return false;
        }
        if(trim(coupon_valid_to)== "0000-00-00")
        {
                document.getElementById("message").innerHTML = "Please Select Valid To";
                document.getElementById("coupon_valid_to").focus();
                error_code=1;
                return false;
        }
        if(type == "Selected"){
           
            var coupon_products = $("#coupon_products").val();
             if(trim(coupon_products).length == 0)
        {
                document.getElementById("message").innerHTML = "Please Enter Product Id's";
                document.getElementById("coupon_products").focus();
                error_code=1;
                return false;
        }
        }
        if(trim(myfile).length == 0)
        {
                document.getElementById("message").innerHTML = "Please Upload Contact List";
                document.getElementById("myfile").focus();
                
                //document.getElementById('myfile').addEventListener('change', checkFile, false);
                error_code=1;
                return false;
        }if(trim(myfile).length !=0)
        {
              
      var fieldObj = document.getElementById('myfile');
   // $('#myFile').bind('change', function() {

  //this.files[0].size gets the size of your file.
  //alert(uploadedFile.files[0].size);

//});.
 
        var FileName  = fieldObj.value;
 
        var FileExt = FileName.substr(FileName.lastIndexOf('.')+1);
       // alert(FileExt);
        var FileSize = fieldObj.files[0].size;
        //alert(FileSize);
        var bulkFileSizeMB = (FileSize/3145728).toFixed(2);
        
        var quckFileSizeMB = (FileSize/11000).toFixed(2);
        
        
        
        
         //alert(FileSizeMB);
if(FileExt !='xls')
{
    
    document.getElementById("message").innerHTML = "Please upload only xls file";
                document.getElementById("myfile").focus();
                
                //document.getElementById('myfile').addEventListener('change', checkFile, false);
                error_code=1;
  
   return false;
}

if(user1=='Bulk')
{
    var sizeu='3145728';
     var sizem='3MB'
}else
{
	 var sizeu='3145728';
     var sizem='3MB';

     //var sizeu='10500';
     //var sizem='10.5KB'
}
if(FileSize>sizeu)
{
   
    document.getElementById("message").innerHTML = "You are upload file size is greater than max uplaod size("+sizem+")";
                document.getElementById("myfile").focus();
                
                //document.getElementById('myfile').addEventListener('change', checkFile, false);
                error_code=1;
   return false;
}
        }
//        if($('input[name="sms_template"]:checked').length==0) {
//         document.getElementById("message").innerHTML = "Please Select Sms Template";
//                
//                error_code=1;
//                return false;
//}
        if(error_code != 1){
            var hidstatus = $("#hidstatus").val();
            document.getElementById("message").innerHTML = "";
            $("#create_coupon_btn_con").prop('disabled','disabled');
            //$("#create_coupon_btn_sbmt").prop('disabled','disabled');
              
             return true;
            
        }
    }
    function loadTextArea(prodcts){
        if(prodcts == "All"){
            //alert('5');
            $("#coupon_products").hide(); 
            $("#hint_coupon_prods").hide(); 
            $(".exclu_prds").show();
        }
        else{
           $("#coupon_products").show(); 
           $("#hint_coupon_prods").show(); 
            $(".exclu_prds").hide();
        }
    }



            
      function loadivoc()
    {
        var url = "ivocc.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "view";
          $objects = "IVOCC";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
          
    }

	
			function editivocc()
			{
                        var path = "";
                        var url = "editivocc.php";
                        var divid = "#alter";
                          <?php   
                           $access = "edit";
                           $objects = "IVOCC";

                           $rolls =  check_rolls($usertype,$access,$objects); 
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                        }
		
		  function updateivocc(icps,denam,service,from,to,status)
	     {
            
		
                             icps = escape($("#icplist").val());
                             denam = escape($("#denamination").val());
                             service = escape($("#service").val());
                             from = escape($("#fromtime").val());
                             to=escape($("#totime").val());
                             status=escape($("#status").val());
                             var error_code = 0;
                             if(trim(icps).length == 0)
        {
                document.getElementById("errorMessage_Device").innerHTML = "Please Enter ICP'S  List";
                document.getElementById("icplist").focus();
                error_code=1;
                return false;
        }
        
        if(trim(denam).length == 0)
        {
                document.getElementById("errorMessage_Device").innerHTML = "Please Enter Denominations";
                document.getElementById("denamination").focus();
                error_code=1;
                return false;
        }
        if(trim(service).length == 0)
        {
                document.getElementById("errorMessage_Device").innerHTML = "Please Enter Services";
                document.getElementById("service").focus();
                error_code=1;
                return false;
        }
        if(trim(from).length == 0)
        {
                document.getElementById("errorMessage_Device").innerHTML = "Please Select From time";
                document.getElementById("fromtime").focus();
                error_code=1;
                return false;
        }
        if(trim(to).length == 0)
        {
                document.getElementById("errorMessage_Device").innerHTML = "Please Select To time";
                document.getElementById("totime").focus();
                error_code=1;
                return false;
        }
        if(trim(status).length == 0)
        {
                document.getElementById("errorMessage_Device").innerHTML = "Please Select Status";
                document.getElementById("status").focus();
                error_code=1;
                return false;
        }
        if(error_code != 1){
                            document.getElementById("errorMessage_Device").innerHTML = "";
                                    
  $('#errorMessage_Device').load("updateivocc.php?icps="+icps+"&denam="+denam+"&service="+service+"&from="+from+
        "&to="+to+"&status="+status);
         return true;                         
        }                  
                                

	}
        function confirmCoupon(){
              var path = $('#myform_create_coupon').serialize();
               $("#succmessage").html("<font color ='red'>Please Wait Donot Close or Refresh the Window</font> ");
              $("#create_coupon_btn").prop('disabled','disabled');
              $("#div_create_coupon").load("upload.php",path);
        }
function addCoupon_can(){
    var path = $('#myform_create_coupon').serialize();
    var url = "addCoupon.php";
    $("#alter").load("addCoupon.php",path);
}
function campaignNames(){
     $().ready(function() {
   
    $('#campaign_name').autocomplete({source:'loadCompaignNames.php',
        minLength:2,
       
       
    });
});
}
function clearAllFields(formid){
    $('#campaign_name').val('');
  $('#coupon_value').val('');
  $('#min_applicable_amount').val('');
  $('#discount_type').val('');
  $('#coupon_code').val('');
  $('#fccount').val('');
  $('#camount').val('');
  
  
         $(':input',formid)
  .not(':button, :submit, :reset, :hidden')
  //.val('')
  .removeAttr('checked')
  .removeAttr('selected');
  
  //$('#campaign_name').val('');
  
}
function changeFieldsCoupons(coupon_type){
    if(coupon_type == "Bulk"){
        $("#coupon_sample_frmt").hide();
    }
    else if(coupon_type == "Quick"){
         $("#coupon_sample_frmt").show();
    }
}
function searchIccHelpdesk(){
        var url = "searchIccHelpdesk.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICC HELPDESK";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
         
    }
    function searchIccHelpDeskDets(){
         var path = $('#search_icc_helpdesk_form').serialize();
        
            $('#alter').load("searchIccHelpDeskDets.php",path);
    }
    function viewIccHelpTkt(tktid){
         var url = "viewIccHelpTkt.php";
                   var path = "tktid="+tktid;
                     var divid = "#pop_coupons";
                     var width = 900;
                     var height = 650;
                     var title = 'Ticket Details';
         <?php   
         $access = "view";
          $objects = "ICC HELPDESK";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    }
    function processIccHelpTkt(tktid){
        var url = "processIccHelpTkt.php";
            var path = "tktid="+tktid;
            var divid = "#pop_coupons";
         <?php   
          $access = "edit";
          $objects = "ICC HELPDESK";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function viewHelpdeskTkt_cancel(tktid){
        var url = "viewIccHelpTkt.php";
            var path = "tktid="+tktid;
            var divid = "#pop_coupons";
         <?php   
          $access = "view";
          $objects = "ICC HELPDESK";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function updateIccHelpTkt(){
        var assigned_to =  $("#assigned_to").val();
        var closeddate =  $("#closeddate").val();
        var resolution_info =  $("#resolution_info").val();
        var helpdesk_status = $("#helpdesk_status").val();
       var error_code =0;
        
        
         if(trim(assigned_to).length == 0)
        {
                document.getElementById("error_msg_icchelpdesk").innerHTML = "Please Enter Assigned ;"
                document.getElementById("assigned_to").focus();
                error_code=1;
                return false;
        }
        if(trim(helpdesk_status).length != 0 && trim(helpdesk_status)=='Closed')
        {
         if(trim(closeddate)== "0000-00-00")
        {
                document.getElementById("error_msg_icchelpdesk").innerHTML = "Please Select Closed Date";
                document.getElementById("closeddate").focus();
                error_code=1;
                return false;
        }
    }
         if(trim(resolution_info).length == 0)
        {
                document.getElementById("error_msg_icchelpdesk").innerHTML = "Please Enter Resolution Info";
                document.getElementById("resolution_info").focus();
                error_code=1;
                return false;
        }
         
        
                
                if(trim(helpdesk_status).length == 0)
        {
                document.getElementById("error_msg_icchelpdesk").innerHTML = "Please Select Status";
                document.getElementById("helpdesk_status").focus();
                error_code=1;
                return false;
        }
        
        if(error_code != 1){
             var path = $('#form_icc_helpdesk_updation').serialize();
            document.getElementById("error_msg_icchelpdesk").innerHTML = "";
            $("#btn_update_icchepldesk").prop('disabled','disabled');
              $("#pop_coupons").load("updateIccHelpTkt.php",path);
              
             return true;
            
        }
    }
    function addGenericCoupon(){
         var url = "addGenericCoupon.php";
        var path = "";
                     var divid = "#alter";
                    
         <?php   
            $access = "create";
          $objects = "COUPONS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function genericCouponCreaValidate(){
        var coupon_code =  $("#coupon_code").val();
        var campaign_name =  $("#campaign_name").val();
        var coupon_value =  $("#coupon_value").val();
        var discount_type =  $("#discount_type").val();
        var min_applicable_amount = $("#min_applicable_amount").val();
        var applicable_services = $("#applicable_services").val();
        var coupon_valid_from = $("#coupon_valid_from").val();
        var coupon_valid_to = $("#coupon_valid_to").val();
        var coupon_status = $("#coupon_status").val();
        var coupon_type = $( 'input[name=coupon_type]:checked' ).val();
        
        //alert( $( 'input[name=coupon_type]:checked' ).val() );
        
        //alert($( "#coupon_type:checked" ).val());
       //alert(5);
       //alert(coupon_type);
        // var coupon_products = $("#coupon_products").val();
         
        
         var error_code = 0;
        var mobilenopattern = /^[0-9 .]+$/;
        var mobilenopattern1 = /^[0-9]+$/;
        var streetpattern = /^[a-z 0-9 A-Z]+$/;
         
         if(document.getElementById('rad_coup_prds_all').checked) {
               var type = "All";
             }else if(document.getElementById('rad_coup_prds_selected').checked) {
               var type = "Selected";
             }
            
        
        if(trim(coupon_code).length == 0)
        {
                document.getElementById("message").innerHTML = "Please Enter Coupon Code";
                document.getElementById("coupon_code").focus();
                error_code=1;
                return false;
        }
        if(trim(coupon_code).length < 6)
        {
                document.getElementById("message").innerHTML = "Please Enter Coupon Code of 6 Chars";
                document.getElementById("coupon_code").focus();
                error_code=1;
                return false;
        }
         if(trim(campaign_name).length == 0)
        {
                document.getElementById("message").innerHTML = "Please Enter Campaign Name";
                document.getElementById("campaign_name").focus();
                error_code=1;
                return false;
        }
if(!campaign_name.match(streetpattern))
		{
			document.getElementById("message").innerHTML = "Please Enter Valid  Campaign Name";
                document.getElementById("campaign_name").focus();
                error_code=1;
                return false;
		}
         if(trim(coupon_value).length == 0)
        {
                document.getElementById("message").innerHTML = "Please Enter Coupon Value";
                document.getElementById("coupon_value").focus();
                error_code=1;
                return false;
        }
         
        if(discount_type == "Percent"){
            if(coupon_value > 100)
        {
                document.getElementById("message").innerHTML = "Please Enter Valid Coupon Value";
                document.getElementById("coupon_value").focus();
                error_code=1;
                return false;
        }
        }
        if(!coupon_value.match(mobilenopattern1))
		{
			document.getElementById("message").innerHTML = "Please Enter Valid Coupon Value";
                document.getElementById("coupon_value").focus();
                error_code=1;
                return false;
		}
                if(trim(min_applicable_amount).length == 0)
        {
                document.getElementById("message").innerHTML = "Please Enter Minimum Applicable Amount";
                document.getElementById("min_applicable_amount").focus();
                error_code=1;
                return false;
        }
        
        if(!min_applicable_amount.match(mobilenopattern1))
		{
			document.getElementById("message").innerHTML = "Please Enter Valid Minimum Applicable Amount";
                document.getElementById("min_applicable_amount").focus();
                error_code=1;
                return false;
		}
                
                if(trim(applicable_services).length == 0)
        {
                document.getElementById("message").innerHTML = "Please Select Applicable Services";
                document.getElementById("applicable_services").focus();
                error_code=1;
                return false;
        }
        

        
        if(trim(coupon_valid_from)== "0000-00-00")
        {
                document.getElementById("message").innerHTML = "Please Select Valid From";
                document.getElementById("coupon_valid_from").focus();
                error_code=1;
                return false;
        }
        if(trim(coupon_valid_to).length == 0)
        {
                document.getElementById("message").innerHTML = "Please Select Valid To";
                document.getElementById("coupon_valid_to").focus();
                error_code=1;
                return false;
        }
        if(type == "Selected"){
           
            var coupon_products = $("#coupon_products").val();
             if(trim(coupon_products).length == 0)
        {
                document.getElementById("message").innerHTML = "Please Enter Product Id's";
                document.getElementById("coupon_products").focus();
                error_code=1;
                return false;
        }
        }
        
         if(coupon_type=="limited")
        {
            if($('input[name=limitedtype]:checked').length > 0){
// go on with script
//alert('checed');
            var limitedtype = $( 'input[name=limitedtype]:checked' ).val();
            if(limitedtype=="ccount")
            {
 var fccount = $("#fccount").val();
 
            if(trim(fccount).length == 0)
                   {
                           document.getElementById("message").innerHTML = "Please Enter Order Count";
                           document.getElementById("fccount").focus();
                           error_code=1;
                           return false;
                   }
                   if(!fccount.match(mobilenopattern1))
		{
			document.getElementById("message").innerHTML = "Please Enter Valid coupon count";
                document.getElementById("fccount").focus();
                error_code=1;
                return false;
		}
 
            }
            else{
 var camount = $("#camount").val();
        if(trim(camount).length == 0)
               {
                       document.getElementById("message").innerHTML = "Please Enter limited Amount ";
                       document.getElementById("camount").focus();
                       error_code=1;
                       return false;
               }
               if(!camount.match(mobilenopattern1))
		{
			document.getElementById("message").innerHTML = "Please Enter Valid Limited Amount ";
                document.getElementById("camount").focus();
                error_code=1;
                return false;
		}
            }


       }else{
     document.getElementById("message").innerHTML = "Please select limited type";
                document.getElementById("limitedtype").focus();
                error_code=1;
                return false;
   //  alert('notcheced');
    // NOTHING IS CHECKED
        }
        }
       
        
        
        if(error_code != 1){
            //var hidstatus = $("#hidstatus").val();
             var path = $('#generci_coupon_form').serialize();
            document.getElementById("message").innerHTML = "";
            $("#create_coupon_btn_con").prop('disabled','disabled');
            //$("#create_coupon_btn_sbmt").prop('disabled','disabled');
               $("#alter").load("cnfrmGnrcCpn.php",path);
                
             return true;
            
        }
    }
    function confirmGenericCoupon(){
              var path = $('#myform_genericcreate_coupon').serialize();
              
              $("#create_coupon_btn").prop('disabled','disabled');
              $("#div_create_coupon").load("createGenerCoupon.php",path);
        }
        function addCouponGeneric_can(){
    var path = $('#myform_genericcreate_coupon').serialize();
    var url = "addGenericCoupon.php";
    $("#alter").load("addGenericCoupon.php",path);
}
function removeBannerImage(imageid){
    var path = "imageid="+imageid;
    $("#alter").load("removeBannerImage.php",path);
}
function startcampaign(campaign_id){
    $("#start_campaign").attr("disabled","disabled");
    var url = "start_campaign.php";
         var path = "campaign_id="+campaign_id;
                     var divid = "#start_camp_dv";
                    
         <?php   
            $access = "edit";
          $objects = "MANAGE COUPONS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    
}
function manageCouponCampaign(){
    var url = "manageCouponCampaign.php";
        var path = "";
                     var divid = "#alter";
                    
         <?php   
            $access = "search";
          $objects = "MANAGE COUPONS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    
}
function searchCampDets(){
     var path = $('#search_bulk_campain').serialize();
    $("#alter").load("searchCampDets.php",path);
}
function viewCouponCampaign(campaign_id){
    var url = "viewCouponCampaign.php";
                   var path = "campaign_id="+campaign_id;
                     var divid = "#pop_coupons";
                     var width = 900;
                     var height = 550;
                     var title = 'Campaign Details';
         <?php   
         $access = "view";
          $objects = "MANAGE COUPONS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
}
function updateCampStatus(type,campaign_id){
    var url = "updateCampStatus.php";
       var path = "type="+type+"&campaign_id="+campaign_id;
                     var divid = "#pop_coupons";
                    
         <?php   
            $access = "edit";
          $objects = "MANAGE COUPONS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
}
</script>
   <script type="text/javascript">
            
      function loaddemo()
    {
            var url = "demo_process.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "edit";
          $objects = "DemoQ";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
          
    }
    
    
     function updatedemo()
	     {
            
		document.getElementById("successMSG").innerHTML = "";
                             neddtochange = $('input:radio[name=demo_process]:checked').val();
                             current_pr = escape($("#hid_cp").val());
                                  var error_code = 0;
                                //  alert(neddtochange);
                         
        if(neddtochange == current_pr)
        {
                document.getElementById("errorMessage").innerHTML = "Selected Process Already Active.";
                //document.getElementById("hid_cp").focus();
                error_code=1;
              
        }
        if(error_code != 1){
                            document.getElementById("errorMessage").innerHTML = "";
                                    
  $('#alter').load("updatedemo.php?process="+neddtochange);
        //return true;                         
        }                  
                                

	}
    function bulkecomupdate(){
        var url = "uploadecomuploadfile.php";
                    var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "update";
                       $objects = "BULK ECOMMERCE UPDATION";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
    }
     function addUpcomingProds(){
        var url = "addUpcomingProds.php";
                    var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "create";
                       $objects = "UPCOMING PRODUCTS";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
    }
    function getUpComingProdDets(attrid)
    {
       
var multi_members="";
$('.hid_upcomingprodscls').each(function(){
   if($(this).val() != ""){
       multi_members=$(this).val()+","+multi_members;
   }
   
});
//alert(multi_members);
      var data = $("#form_get_upcoming_prods").serialize();
         var url = "getUpComingProdDets.php";
                  var path = "data="+multi_members+"&attrid="+attrid;
                     var divid = "#popup_billprocess";
                     var width = 800;
                     var height = 600;
                     var title = 'Select Upcoming Products';
                    <?php   
                    $access = "create";
                     $objects = "UPCOMING PRODUCTS";

                      $rolls =  check_rolls($usertype,$access,$objects); 
                    ?>
                          
                     checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);  
         
         
    }
    function selectProd(attrid,product_id,product_name){
        
        var labelid = "#upcoming_prod_name"+attrid;
        var hidid = "#hid_upcomingprods"+attrid;
         var hidcross = "#cross_hid_upcomingprods"+attrid;
        $(hidcross).show();
        $(hidid).val('');
         //$(hidid).attr('value','');
        $(labelid).html('');
        $(hidid).val(product_id);
        $(labelid).html(product_name);
       
        $("#popup_billprocess").dialog('close');    
    }
    function removeProd(attrid){
        
        var labelid = "#upcoming_prod_name"+attrid;
        var hidid = "#hid_upcomingprods"+attrid;
         var hidcross = "#cross_hid_upcomingprods"+attrid;
         $(hidcross).hide();
        $(hidid).val('');
         //$(hidid).attr('value','');
        $(labelid).html('');
    }
    function insertUpcomingProds(){
        var data = $("#form_get_upcoming_prods").serialize();
        $("#upcoming_prods_insert").load("insertUpcomingProds.php",data);
    }
    function searchUpcomingProds(){
         var url = "searchUpcomingProds.php";
                    var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                       $objects = "UPCOMING PRODUCTS";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchUpcomingProdsdet(){
        var data = $("#search_upcoming_prods").serialize();
        $("#alter").load("searchUpcomingProdsdet.php",data);
    }
    function removeUpcomingProduct(remov_id,product_id,product_name){
         var url = "removeUpcomingProduct.php";
                     var path = "remov_id="+remov_id+"&product_id="+product_id+"&product_name="+product_name;
                        var divid = "#alter";
                      <?php   
                       $access = "remove";
                       $objects = "UPCOMING PRODUCTS";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    
    
    function hotelorderdet(trans_id,order_id)
    {
         var url = "hotelorderdetails.php?trans_id="+trans_id+"&order_id="+order_id;
                var win=window.open(url, '_blank');
                win.focus();
    }
    
    function loadAcquiredPersons(acquired_by){
         var district = escape(district);
        var path = "acquired_by="+acquired_by;
        $("#acquired_person").removeAttr("disabled");
        $("#acquired_person").load("loadAcquiredPersons.php",path);
        
    }
    function icpAcquisationReport()
    {
           var url = "icpAcquisationReport.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICP ACQUISATION";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }  
    function searchAcquisationDets(){
        var data = $("#icp_acqiation_search").serialize();
        $("#alter").load("searchAcquisationDets.php",data); 
    }

   function stocklist()
    {  
        var url = "stocklist.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "view";
           $objects = "ECOMMERCE PRODUCTS";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    
    
      function getcomboProdDets(attrid)
    {
       
var multi_members="";
$('.hid_upcomingprodscls').each(function(){
   if($(this).val() != ""){
       multi_members=$(this).val()+","+multi_members;
   }
   
});
//alert(multi_members);
      var data = $("#form_get_upcoming_prods").serialize();
         var url = "getComboProdDets.php";
                  var path = "data="+multi_members+"&attrid="+attrid;
                     var divid = "#popup_billprocess";
                     var width = 800;
                     var height = 600;
                     var title = 'Select Combo Products';
                    <?php   
                    $access = "create";
                     $objects = "ECOMMERCE PRODUCTS";

                      $rolls =  check_rolls($usertype,$access,$objects); 
                    ?>
                          
                     checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);  
         
         
    }
    function selectComboProd(attrid,product_id,product_name){
        
        var labelid = "#upcoming_prod_name"+attrid;
        var hidid = "#hid_upcomingprods"+attrid;
         var hidcross = "#cross_hid_upcomingprods"+attrid;
        $(hidcross).show();
        $(hidid).val('');
         //$(hidid).attr('value','');
        $(labelid).html('');
        $(hidid).val(product_id);
        $(labelid).html(product_name+ " <b>Qty </b><input type='text' name='combo_qty_"+attrid+"' id='combo_qty_"+attrid+"'  style='width:25px !important' onkeypress='return isNumber(event)'/>  ");
       
        $("#popup_billprocess").dialog('close');    
    }
    function removecomboProd(attrid){
        
        var labelid = "#upcoming_prod_name"+attrid;
        var hidid = "#hid_upcomingprods"+attrid;
         var hidcross = "#cross_hid_upcomingprods"+attrid;
         $(hidcross).hide();
        $(hidid).val('');
         //$(hidid).attr('value','');
        $(labelid).html('');
    }
   function isNumber(evt) {
    evt = (evt) ? evt : window.event;
    var charCode = (evt.which) ? evt.which : evt.keyCode;
    if (charCode > 31 && (charCode < 48 || charCode > 57)) {
        return false;
    }
    return true;
	}
        function couponextend()
    {
      
        <?php  
          $access = "extend";
           $objects = "COUPONS";
         
           $rolls =  check_rolls($usertype,$access,$objects);
         ?>
                 var rolls = "<?php echo  $rolls; ?>";
       <?php
       if($_SESSION["usertype"] == "Admin"){ ?>
//   
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                         
                     $("#showdate").show();
       <?php  }
        else{ ?>
        if(trim(rolls) == "yes") {
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";   
                 $("#showdate").toggle();
               
                 }
        else {
         alert("You Dont Have Access Towards This Page");
        }
       
        <?php } ?> 
       
       
        //var url = "stocklist.php";
           // var path = "";
            //var divid = "#alter";
       
        
         
    }
   
   
   
  
    function savecouponextend(){
       
         var extend_on_date = $('#extend_on_date').val();
                var shipped_time = $('#shipped_time').val();
                
                var reason_coupon = $('#reason_coupon').val();
//                var extend_on_date_au = date('Y-m-d');
                var valid_to;
                var error_code = 1;
               
                if(trim(extend_on_date).length == "0000-00-00"){
                   
                    document.getElementById("coupon_extend_error").innerHTML = "Please Select Date";
                              document.getElementById("extend_on_date").focus();
                            
                                  var error_code = 0;
        }
       
        if(trim(shipped_time).length == 0){
           
            document.getElementById("coupon_extend_error").innerHTML = "Please Select Time";
                              document.getElementById("shipped_time").focus();
                            
                                  var error_code = 0;
        }
        if(trim(reason_coupon).length == 0){
           document.getElementById("coupon_extend_error").innerHTML = "Please Select Reason";
                              document.getElementById("reason_coupon").focus();
                            
                                  var error_code = 0;
           
        }
        if(trim(reason_coupon).length != 0){
        if(reason_coupon == "Others"){
                 var reason_print = $("#reason_print").val();
                 if(reason_print == ""){
                     document.getElementById("coupon_extend_error").innerHTML = "Please enter Specific reason";
                              document.getElementById("reason_print").focus();
                            
                                  var error_code = 0;
                }
            }
           
        }
        if(error_code != 0){
            $("#save_extend_coupon").attr("disabled","disabled");
             document.getElementById("coupon_extend_error").innerHTML = "";
             var data = $("#extend_coupon").serialize();
        $("#extend_coupon_result").load("couponextend.php",data);
             
        }
       
       
    }
     function activatecoupon(coupon_code){
         var data = "coupon_code="+coupon_code;
         <?php  
          $access = "activation";
           $objects = "COUPONS";
         
           $rolls =  check_rolls($usertype,$access,$objects);
         ?>
                 var rolls = "<?php echo  $rolls; ?>";
       <?php
       if($_SESSION["usertype"] == "Admin"){ ?>
//   
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                         
                       $("#extend_coupon_result").load("activatecoupon.php",data);
       <?php  }
        else{ ?>
        if(trim(rolls) == "yes") {
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";   
                   $("#extend_coupon_result").load("activatecoupon.php",data);
               
                 }
        else {
         alert("You Dont Have Access Towards This Page");
        }
       
        <?php } ?> 
       
      
     }
   
   
    function resendcoupon(coupon_code){
         var data = "coupon_code="+coupon_code;
         <?php  
          $access = "resend";
           $objects = "COUPONS";
         
           $rolls =  check_rolls($usertype,$access,$objects);
         ?>
                 var rolls = "<?php echo  $rolls; ?>";
       <?php
       if($_SESSION["usertype"] == "Admin"){ ?>
//   
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                         $("#resend").attr("disabled","disabled");
                       $("#extend_coupon_result").load("resendcoupon.php",data);
       <?php  }
        else{ ?>
        if(trim(rolls) == "yes") {
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";   
                 $("#resend").attr("disabled","disabled");
                   $("#extend_coupon_result").load("resendcoupon.php",data);
               
                 }
        else {
         alert("You Dont Have Access Towards This Page");
        }
       
        <?php } ?> 
       
      
     }
     function loadcouponothers(reason_type){
         if(reason_type == "Others"){
             $("#reason_print").show();
        }
        else{
             $("#reason_print").hide();
        }
     }
     function requestcrltdets(){
         var url = "requestcrltdets.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICP REQUEST CREDIT";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
     }
     function searchrequestcldets(){
          var a = $('#icp_request_cl').serialize();
        $('#alter').load("searchrequestcldets.php",a);
     }
     function retailerreqcrlimit(retailerid,fstname,lastname,rid,rlocation,did,rstatus)
    {
        var url = "retailerreqcrlimit.php";
                    var path = "retailerid="+retailerid+"&rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                         $objects = "ICP REQUEST CREDIT";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
    }
    function searchicprequestcldets(fstname,lastname,rid,rlocation,did,rstatus)
    {

        var a = $('#icp_req_credit_search').serialize();
        
        var path1 = "rsearchFirst1="+fstname+"&rsearchLast1="+lastname+"&searchRetId1="+rid+"&searchRetLocation1="+rlocation+"&distid="+did+"&status_ret="+rstatus;
        var path = a+"&"+path1;
        $('#alter').load("searchicprequestcldets.php",path);
        
            
    }
    function returnstatdetails(status,order_id){
         var url = "returnstatdetails.php";
                  var path = "ipex_order_id="+order_id;
                     var divid = "#return_dets_div";
                     var width = 800;
                     var height = 600;
                     var title = 'Return Process';
                    <?php   
                    $access = "RETURN";
                     $objects = "ECOMMERCE FULLFILLMENT";

                      $rolls =  check_rolls($usertype,$access,$objects); 
                    ?>
                          
                     checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);  
//           $.ajax({
//        type: 'post',
//        url: 'returnstatdetails.php',
//        data: 'ipex_order_id='+'<?php echo $orderid; ?>',
//        async: false,
//        beforeSend: function() {
//
//        },
//        complete: function() {
//
//        },
//        success: function(result) {
//            $("#return_dets_div").dialog({
//                width: 700,
//                title: 'Return Process',
//                height: 600,
//                show: 'fade',
//                hide: 'fade',
//                modal: true,
//                open: function(event, ui) {
//
//                    $("#return_dets_div").html(result);
//
//                },
//                close: function(ev, ui){
//              $(this).dialog("destroy").empty();
//      }
//
//            });
//
//        }
//        
//
//    });
        
    }
    function checkreturndets(){
        var return_type = $("#return_type").val();
        var quantity = $("#quantity").val();
       var mobilenopattern =/^[0-9 .]+$/;
        var error_code = 1;
        if(return_type == "RPD"){
           
           // var returned_qnty = $("#returned_qnty").val();
             var returned_qnty = document.getElementsByClassName('returned_qnty');
            //var returned_good_qnty = $("#returned_good_qnty").val();
             var returned_good_qnty = document.getElementsByClassName('returned_good_qnty');
           // var returned_bad_qnty = $("#returned_bad_qnty").val();
            var returned_bad_qnty = document.getElementsByClassName('returned_bad_qnty');
           // var total_quntity = parseFloat(returned_good_qnty)+parseFloat(returned_bad_qnty);
             for (var i = 0, length = returned_qnty.length; i < length; i++) {
                
                    if ((trim(returned_qnty[i].value).length  == 0) || (!returned_qnty[i].value.match(mobilenopattern))) {
//if (elements[i].value == '') {
                        document.getElementById("return_ecom_error").innerHTML = "Please enter returned quantity";
                         document.getElementById("returned_qnty").focus();
                        var error_code = 0;
                        return false;

                    }


                }
                 for (var j = 0, length = returned_good_qnty.length; j < length; j++) {
                
                    if ((trim(returned_good_qnty[j].value).length  == 0) || (!returned_good_qnty[j].value.match(mobilenopattern))) {
//if (elements[i].value == '') {
                        document.getElementById("return_ecom_error").innerHTML = "Please enter returned good quantity";
                         document.getElementById("returned_good_qnty").focus();
                        var error_code = 0;
                        return false;

                    }


                }
                for (var k = 0, length = returned_bad_qnty.length; k < length; k++) {
                
                    if ((trim(returned_bad_qnty[k].value).length  == 0) || (!returned_bad_qnty[k].value.match(mobilenopattern))) {
//if (elements[i].value == '') {
                        document.getElementById("return_ecom_error").innerHTML = "Please enter returned damaged quantity";
                         document.getElementById("returned_bad_qnty").focus();
                        var error_code = 0;
                        return false;

                    }


                }
                
//                for (var i = 0, length = elements.length; i < length; i++) {
//                    if (elements[i].value == '') {
//
//                        document.getElementById("error_update_ecomprod").innerHTML = "Please fill all required attribute values";
//                        error_code = 1;
//                        return false;
//
//                    }
//
//
//                }
                
//            if(trim(returned_qnty).length == 0){
//           document.getElementById("return_ecom_error").innerHTML = "Please enter returned quantity";
//                              document.getElementById("returned_qnty").focus();
//                            
//                                  var error_code = 0;
//           
//        }
//        if(!returned_qnty.match(mobilenopattern))
//		{
//			document.getElementById("return_ecom_error").innerHTML = "Please enter returned quantity";
//                document.getElementById("returned_qnty").focus();
//                error_code=1;
//                return false;
//		}
//        if(trim(returned_good_qnty).length == 0){
//           document.getElementById("return_ecom_error").innerHTML = "Please enter returned good quantity";
//                              document.getElementById("returned_good_qnty").focus();
//                            
//                                  var error_code = 0;
//           
//        }
//         if(!returned_good_qnty.match(mobilenopattern))
//		{
//			document.getElementById("return_ecom_error").innerHTML = "Please enter returned good condition";
//                document.getElementById("returned_good_qnty").focus();
//                error_code=1;
//                return false;
//		}
//        if(trim(returned_bad_qnty).length == 0){
//           document.getElementById("return_ecom_error").innerHTML = "Please enter returned bad condition";
//                              document.getElementById("returned_good_qnty").focus();
//                            
//                                  var error_code = 0;
//           
//        }
//        if(!returned_bad_qnty.match(mobilenopattern))
//		{
//			document.getElementById("return_ecom_error").innerHTML = "Please enter returned bad condition";
//                document.getElementById("returned_bad_qnty").focus();
//                error_code=1;
//                return false;
//		}
//        }
//        if(parseFloat(total_quntity) > parseFloat(quantity)){
//            document.getElementById("return_ecom_error").innerHTML = "Returned quantity do not exceed booked quantity";
//                document.getElementById("returned_qnty").focus();
//                error_code=1;
//                return false;
//        }
//        if(parseFloat(returned_qnty) > parseFloat(quantity)){
//            document.getElementById("return_ecom_error").innerHTML = "Total Returned quantity do not exceed booked quantity";
//                document.getElementById("returned_qnty").focus();
//                error_code=1;
//                return false
                      }
        if(error_code != 0){
            $("#return_btn_dets").attr("disabled","disabled");
             $("#return_btn_dets").attr("value","Submitted");
             document.getElementById("return_ecom_error").innerHTML = "";
             var data = $("#return_form_dets").serialize();
        $("#return_procees_result").load("checkreturndets.php",data);
             
        }
        
    }
    
    function searchReturnProcessOrders(){
        var url = "searchReturnProcessOrders.php";
                    var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                         $objects = "ECOM RETURN PROCESS";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchRetProcDets(){
         var a = $('#search_return_process').serialize();
        
        
        $('#alter').load("searchRetProcDets.php",a);
    }
    function viewReturnDets(order_id){
        
        var url = "viewReturnDets.php";
                  var path = "ipex_order_id="+order_id;
                     var divid = "#return_dets_div";
                     var width = 800;
                     var height = 600;
                     var title = 'Refund Process';
                    <?php   
                    $access = "REFUND";
                     $objects = "ECOMMERCE FULLFILLMENT";

                      $rolls =  check_rolls($usertype,$access,$objects); 
                    ?>
                          
                     checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);  
    }
    function processRetRefund(order_id){
        
        var refund_amount = $("#total_refund_amount").val();
       var return_charges = $("#return_charges").val();
       var amount_refund = $("#amount_refund").val();
       var order_amount = $("#order_amount").val();
        var error_code = 1;
       var mobilenopattern = /^[0-9]+$/;
       if(return_charges == ""){
           var return_charges1 = 0;
        }
        else{
           var return_charges1 = return_charges;  
        }
           var order_amount1 = parseFloat(order_amount)+parseFloat(return_charges1);
           if(trim(return_charges).length == 0){
           document.getElementById("refund_ecom_error").innerHTML = "Please enter return charges";
                              document.getElementById("return_charges").focus();
                            
                                  var error_code = 0;
           
        }
         if(!return_charges.match(mobilenopattern))
		{
			document.getElementById("refund_ecom_error").innerHTML = "Please enter valid amound to refund";
                document.getElementById("refund_ecom_error").focus();
                error_code=1;
                return false;
		}
                if(trim(amount_refund).length == 0){
           document.getElementById("refund_ecom_error").innerHTML = "Please enter amound to refund";
                              document.getElementById("amount_refund").focus();
                            
                                  var error_code = 0;
           
        }
         if(!amount_refund.match(mobilenopattern))
		{
			document.getElementById("refund_ecom_error").innerHTML = "Please enter valid amound to refund";
                document.getElementById("amount_refund").focus();
                error_code=1;
                return false;
		}
        if(trim(refund_amount).length == 0){
           document.getElementById("refund_ecom_error").innerHTML = "Please enter amound to refund";
                              document.getElementById("total_refund_amount").focus();
                            
                                  var error_code = 0;
           
        }
         if(!refund_amount.match(mobilenopattern))
		{
			document.getElementById("refund_ecom_error").innerHTML = "Please enter valid amound to refund";
                document.getElementById("total_refund_amount").focus();
                error_code=1;
                return false;
		}
                if(parseFloat(refund_amount) > parseFloat(order_amount1)){
           document.getElementById("refund_ecom_error").innerHTML = "Refund amount not exceed paid amount";
                              document.getElementById("total_refund_amount").focus();
                            
                                  var error_code = 0;
           
        }
        if(error_code != 0){
            $("#loader").show();
            $("#refund_btn_dets").attr("disabled","disabled");
             $("#refund_btn_dets").attr("value","Submitted");
             document.getElementById("refund_ecom_error").innerHTML = "";
             return true;
             //var data = $("#refund_form_dets").serialize();
        //$("#refund_procees_result").load("processRetRefund.php",data);
             
        }
        
    }
    function ecomBactchProcess(){
        var url = "ecomBactchProcess.php";
                    var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "create";
                         $objects = "ECOM BATCH FULFILL";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function ecomBactchProcessDets(){
         var a = $('#search_ecom_batch_process').serialize();
         var assigned_to = $("#assigned_to").val();
          if(trim(assigned_to).length == 0){
           document.getElementById("ecombatch_creation_error").innerHTML = "Please select assigned to";
                              document.getElementById("assigned_to").focus();
                            
                                  var error_code = 0;
           
        }
        if(assigned_to == "Others"){
             var assigned_tox = $("#assigned_tox").val();
             if(trim(assigned_tox).length == 0){
                 document.getElementById("ecombatch_creation_error").innerHTML = "Please enter assigned to";
             document.getElementById("assigned_tox").focus();
                            
                                  var error_code = 0;
           
        }
        }
         if(error_code != 0){
             document.getElementById("ecombatch_creation_error").innerHTML = "";
             $("#Ecom_btn_batch_crt").attr("disabled","disabled");
        $("#Ecom_btn_batch_crt").attr("value","Creating Batch");
        $('#ecombatch_create_respo').load("ecomBactchProcessDets.php",a);
        }
        
        
    }
    function searchEcomBatch(){
      var url = "searchEcomBatch.php";
                    var path = "";
                        var divid = "#alter";
                      <?php   
                       $access = "search";
                         $objects = "ECOM BATCH FULFILL";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");  
    }
    function searchEcomBatchDets(){
        var a = $('#search_ecom_batch_dets').serialize();
        
        $('#alter').load("searchEcomBatchDets.php",a);
    }
    function searchEcomBatchDets_back(){
        var a = "batch_id=&from_date=0000-00-00&to_date=0000-00-00&created_by=&status=";
        
        $('#alter').load("searchEcomBatchDets.php",a);
    }
    function viewEcomBatch(batch_id){
        var url = "viewEcomBatch.php";
                    var path = "batch_id="+batch_id;
                        var divid = "#alter";
                      <?php   
                       $access = "view";
                         $objects = "ECOM BATCH FULFILL";

                       $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>"); 
    }
    function stockHisSearch()
    { 
        var url = "stockhistorylist.php";
            var path = "";
            var divid = "#alter";
         <?php  
          $access = "view";
           $objects = "ECOMMERCE PRODUCTS";
         
          $rolls =  check_rolls($usertype,$access,
$objects);
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
   
    function viewstockinfo(product_id){
       
        var url = "viewstockhis_detail.php";
                   var path = "product_id="+product_id;
                     var divid = "#pop_coupons";
                     var width = 900;
                     var height = 450;
                     var title = 'Stock Details';
         <?php  
         $access = "view";
          $objects = "STOCK HISTORY";
         
          $rolls =  check_rolls($usertype,$access,$objects);
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    }
   
    function filterstockhis(){
    var filterstockhis_data = $('#custom_msg_history').serialize();
                 $('#alter').load("stockHistory_search.php?"+filterstockhis_data);
    }
    function shippEcomBatch(){
        $(".shipbatch").show();
    }
    function stockIssueEcomBatch(){
         $(".stockissuebatch").show();
    }
    function issueBatchStock(batch_id){
       // var stock_issued_by = $("#stock_issued_by").val();
        var stock_issue_pin = $("#stock_issue_pin").val();
         var elements = document.getElementsByClassName('mandatory');
        var error_code=0; 
        if(trim(stock_issue_pin).length == 0)
		{
			document.getElementById("issuestock_error").innerHTML = "Please Enter Stock Issue Pin";
			document.getElementById("stock_issue_pin").focus();
                        error_code =1;
			return false;
		}
//        if(trim(stock_issued_by).length == 0)
//		{
//			document.getElementById("issuestock_error").innerHTML = "Please Select Stock Issued by";
//			document.getElementById("stock_issued_by").focus();
//                        error_code =1;
//			return false;
//		}
                for (var i = 0, length = elements.length; i < length; i++) {
                    if (elements[i].checked) {

                      break;

                    }


                }
if (i==elements.length){
    var r = confirm("Do You want to continue without issuing stock for any order ?")
     if (r == true){
         if(error_code != 1){
                    document.getElementById("issuestock_error").innerHTML = "";
                 $("#cnfrm_stock_issue").attr("disabled","disabled");
        var a = $('#form_batch_update').serialize();
         $('#alter').load("issueBatchStock.php",a);    
        }
            }
 }
 else{
     if(error_code != 1){
                    document.getElementById("issuestock_error").innerHTML = "";
                 $("#cnfrm_stock_issue").attr("disabled","disabled");
        var a = $('#form_batch_update').serialize();
         $('#alter').load("issueBatchStock.php",a);    
        }
        }
                
       
    }
    function updateEcomOrder_SHIPPED_inBatch(orderid,batch_id)
			{
				              
                            var orderid ;
                             var referenceid = $("#texrefer_emomordrids").val();
                             var status = $("#ecomorder_prc_statuss").val();
//                             var processed_date = $("#processed_date").val();
                           var shipped_date = $("#shipped_date").val();
                             var shipped_time = $("#shipped_time").val();
                             var shipped_to = $("#shipped_to").val();
                             var comments = $("#texCommentss").val();
                            
                               var error_code=0; 
                             var refIDErrorMessage = "Please Enter ReferenceID";
                            var  dateErrorMessage = "Please Enter Date";
                            var CommentErrorMessage = "Please Enter Comments";
                             var StatusErrorMessage = "Please Select Status";
                         
                           
                
                    
                if(trim(status).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = StatusErrorMessage;
			document.getElementById("ecomorder_prc_statuss").focus();
                        error_code =1;
			return false;
		}
                
                
                
                 if(status == "SHIPPED"){   
                if(trim(referenceid).length == 0)
                    {
                            document.getElementById("errorMessage").innerHTML = refIDErrorMessage;
                            document.getElementById("texrefer_emomordrids").focus();
                            error_code =1;
                            return false;
                    }
                
                if(trim(shipped_date) == "0000-00-00")
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Shipped Date";
			document.getElementById("shipped_date").focus();
                        error_code =1;
			return false;
		} 
                if(trim(shipped_time).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Shipped Time";
			document.getElementById("shipped_date").focus();
                        error_code =1;
			return false;
		} 
                if(trim(shipped_to).length == 0)
		{
			document.getElementById("errorMessage").innerHTML = "Please Select Shipped To";
			document.getElementById("shipped_to").focus();
                        error_code =1;
			return false;
		}
                 }
//              	if(trim(comments).length == 0)
//		{
//			document.getElementById("errorMessage").innerHTML = CommentErrorMessage;
//			document.getElementById("texCommentss").focus();
//                        error_code =1;
//			return false;
//		}
                 var CommentErrorMessagespe = "Special charecters are not allowed in comments";
                 var re = /^[ A-Za-z0-9. #]*$/;
                 if(trim(comments).length > 0){
               if (!re.test(comments)) {
                  document.getElementById("errorMessage").innerHTML = CommentErrorMessagespe;
			document.getElementById("texCommentsp").focus();
                        error_code =1;
			return false;
}
                 }
var re1 = /^[ 0-9. #]*$/
                
                
		if(error_code != 1){
                    $('#btnshipping').attr('disabled','disabled');
                              document.getElementById("errorMessage").innerHTML = "";
            referenceid = escape(referenceid); shipped_time = escape(shipped_time); 
            comments = escape(comments);
            status = escape(status);
            var path = "status="+status+"&orderid="+orderid+"&referenceid="+referenceid+"&comments="+comments+
                    "&shipped_date="+shipped_date+"&shipped_to="+shipped_to+"&shipped_time="+shipped_time+
                    "&shipped_contact_name=&shipped_contact_no="+"&batch_id="+batch_id;
                       $("#popup_billprocess").load("ecom_full_update_batch.php", path);
                       return true;
            
        }
			}
                        /*************OTP CHANGES Byu Suneel*****/
                        function otpResend(){
         
         var url = "otpresend.php";
           var path = "";
                     var divid = "#alter";
                   
         <?php  
            $access = "search";
            $objects = "OTP DETAILS";
         
          $rolls =  check_rolls($usertype,$access,$objects);
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
   
 
     function searchotpdebts(){
      
      var path = $('#search_otp_ecom').serialize();
       
            $('#alter').load("searchotpdebts.php",path);
      
    }
   
     function viewOTP(otp,sent_to){
       
        var url = "viewOTPpopup.php";
                     var path = "otp="+otp+"&sent_to="+sent_to;
                     var divid = "#pop_coupons";
                     var width = 900;
                     var height = 600;
                     var title = 'OTP Details';
         <?php  
         $access = "view";
          $objects = "OTP DETAILS";
         
          $rolls =  check_rolls($usertype,$access,$objects);
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    }
   

    function otpextend1(otpcode,sentto){
             
      var data = "otpcode="+otpcode+"&sentto="+sentto;
         <?php 
          $access = "extend";
           $objects = "OTP DETAILS";
        
           $rolls =  check_rolls($usertype,$access,$objects);
         ?>
                 var rolls = "<?php echo  $rolls; ?>";
       <?php
       if($_SESSION["usertype"] == "Admin"){ ?>
//  
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                         $("#extend_otp").attr("disabled","disabled");
                          $("#extend_otp").attr("value","Extending");
                       $("#extend_otp_result").load("activateotp.php",data);
       <?php  }
        else{ ?>
        if(trim(rolls) == "yes") {
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                    $("#extend_otp").attr("disabled","disabled");
                    $("#extend_otp").attr("value","Extending");
                   $("#extend_otp_result").load("activateotp.php",data);
              
                 }
        else {
         alert("You Dont Have Access Towards This Page");
        }
      
        <?php } ?>
     
    }
    function resendotp(otpcode,sentto){
             
      var data = "otpcode="+otpcode+"&sentto="+sentto;
         <?php 
          $access = "resend";
           $objects = "OTP DETAILS";
        
           $rolls =  check_rolls($usertype,$access,$objects);
         ?>
                 var rolls = "<?php echo  $rolls; ?>";
       <?php
       if($_SESSION["usertype"] == "Admin"){ ?>
//  
            var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                         $("#resend_otp").attr("disabled","disabled");
                          $("#resend_otp").attr("value","Resending");
                       $("#extend_otp_result").load("resendotp.php",data);
       <?php  }
        else{ ?>
        if(trim(rolls) == "yes") {
                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                    $("#resend_otp").attr("disabled","disabled");
                          $("#resend_otp").attr("value","Resending");
                       $("#extend_otp_result").load("resendotp.php",data);
              
                 }
        else {
         alert("You Dont Have Access Towards This Page");
        }
      
        <?php } ?>
     
    }
       function orderDetails_search()
                        {
                         var url = "orderidsearchpopup.php";
                  var path = "";
                     var divid = "#ecom_ipayord_view";
                     var width = 1100;
                     var height = 650;
                     var title = 'Order Id Search';
                    <?php 
                     $access = "SEARCH";
                     $objects = "ORDERIDSEARCH";

                     $rolls =  check_rolls($usertype,$access,$objects);
                    ?>
                     checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);         
                                    
                        }
                       

function order_DetHelpdeskserch()
    {

        var c = $('#order_search_helpdesk').serialize();
         $('#ecom_ipayord_view').load("orderDetails_helpdesk.php",c);
 
    }

   
   
     function SendValueToParent(orderid){
    $('#ecom_ipayord_view').dialog('close');
    $('#order_id_search').val(orderid);
//   promptforord(orderid);
//   $(this).closest('#orderid_search').dialog('close');
 
   
         }

function loadorderid(ticket_sub_type){
   
          if(ticket_sub_type == "Recharge Not Happening" || ticket_sub_type == "Multiple Recharges" || ticket_sub_type == "WrongRecharge" || ticket_sub_type == "Recharge Done But Customer Didn't Get It" ||ticket_sub_type == "Error"||ticket_sub_type == "Earnings"||ticket_sub_type == "Wrongly Paid"||ticket_sub_type == "Multiple payment"
                 || ticket_sub_type == "Unable to Pay"||ticket_sub_type == "Paid but not updated"||ticket_sub_type =="Wrongly Paid"  ||ticket_sub_type =="Multiple payment"||ticket_sub_type =="Unable to Pay"||ticket_sub_type =="Paid but not updated"){
        $('#order_id_sp').show();
    }
    else
    {
        $('#order_id_sp').hide();
    }
     }  
     
     function recentupdates(type,rev_type)
     {
       var type;
                               
                                var path= "type="+type+"&rev_type="+rev_type;
               
                                      
                                        $("#ipex_orders_dets").dialog({
                                    width: 1100,
                                    title: 'Revisions',
                                    height: 500,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#ipex_orders_dets").load("recentupdates.php", path);

                                    }

                                });
                                   
   
            }
            function loadicpsms()
                        {
                            var url = "smstoicp.php";
                          var path = "";
                        var divid = "#alter";
                      <?php  
                       $access = "create";
                       $objects = "COMMUNICATION SMS";

                       $rolls =  check_rolls($usertype,$access,$objects);
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                                             
                        }
                       
                       
                         function saveicpsms()
                        {
                          //  alert(5);
                          var smsto_recpient = $("#smsto_recpient").val();
                          var msg_recipent = $("#msg_recipent").val();
                          var msgDesc =$("#msgDesc").val();
                          var error_code=0;
                             if((smsto_recpient).length == 0)
                                {
                                        document.getElementById("error_sms_messages").innerHTML = "Please Select SMS To ICP or ICC";
                                        document.getElementById("smsto_recpient").focus();
                                        error_code=1;
                                        return false;
                                }
                              
                                               
                                  if((msg_recipent).length == 0)
                                {
                                        document.getElementById("error_sms_messages").innerHTML = "Please Select Recipent";
                                        document.getElementById("msg_recipent").focus();
                                        error_code=1;
                                        return false;
                                }  
                                 
                            
                             if(trim(msgDesc).length == 0)
                            {
                                    document.getElementById("error_sms_messages").innerHTML = "Please Enter Message Description";
                                    document.getElementById("msgDesc").focus();
                                    error_code=1;
                                    return false;
                            }
                            if(trim(msgDesc).length > 160)
                            {
                                    document.getElementById("error_sms_messages").innerHTML = "Maximum allowed sms is 160 characters only";
                                    document.getElementById("msgDesc").focus();
                                    error_code=1;
                                    return false;
                            }
                          
                           
                            if(error_code != 1)
                {
                   
                    $('#icpsms').attr('disabled', 'disabled');
                     $('#icpsmsclr').attr('disabled', 'disabled');
                document.getElementById("error_sms_messages").innerHTML = "Please donot Close/Refresh the window";
               var path = $('#sms_messages').serialize();
               
                  
                             $('#insert_sms_message').load("insertsmsmsg.php",path);
                return true;
                }
               
                           
                        }
                        function communicationsms(type,rev_type)
     {
       var type;
                               
                                var path= "type="+type+"&rev_type="+rev_type;
               
                                      
                                        $("#ipex_orders_dets").dialog({
                                    width: 1100,
                                    title: 'SMS HISTORY',
                                    height: 500,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#ipex_orders_dets").load("smshistory.php", path);

                                    }

                                });
                                   
   
            }
            function searchRunsheet(){
                var url = "searchRunsheet.php";
           var path = "";
                     var divid = "#alter";
                   
         <?php  
            $access = "runsheet";
            $objects = "ECOM BATCH PROCESS";
         
          $rolls =  check_rolls($usertype,$access,$objects);
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                 //$('#alter').load("searchEcomBatchDets.php",a);
            }
            function downloadRunSheet(){
                 var elements = document.getElementsByClassName('mandatory');
                  var error_code=0; 
                 for (var i = 0, length = elements.length; i < length; i++) {
                    if (elements[i].checked) {

                      break;

                    }


                }
                if (i==elements.length){
          alert("Please select atleast one batch");
          error_code =1;
    return false;
                }
                var c = $('#download_RunSheet_form').serialize();
            //$('#respo_run_sheet').load("downloadRunSheet.php",c);
            if(error_code != 1)
                {
            window.open("downloadRunSheet.php?data="+c,"_self");
                }
            }
            function downloadArticleHandover(){
                var elements = document.getElementsByClassName('mandatory');
                  var error_code=0; 
                 for (var i = 0, length = elements.length; i < length; i++) {
                    if (elements[i].checked) {

                      break;

                    }


                }
                if (i==elements.length){
          alert("Please select atleast one batch");
          error_code =1;
    return false;
                }
                var c = $('#download_RunSheet_form').serialize();
            //$('#respo_run_sheet').load("downloadRunSheet.php",c);
            if(error_code != 1)
                {
            window.open("downloadArticleHandover.php?data="+c,"_self");
                }
            }
            function viewStockIssuePin(user,creted_by,pin,batch_id){
                if(user == creted_by){
                     $("#ipex_orders_dets").dialog({
                                    width: 400,
                                    title: 'Stock Issue Pin For The Batch :'+batch_id,
                                    height: 300,
                                    show: 'fade',
                                    hide: 'fade',
                                    modal: true,
                                    open: function(event, ui) {

                                        $("#ipex_orders_dets").html("<b>Stock Issue Pin For The Batch :"+batch_id+ " <br>Pin is :"+pin+" </b>");

                                    }

                                });
        }
        else{
            alert("You don't have access to view this pin");
        }
            }
            function searchEcomBatchDets_download(){
        var a = $('#search_ecom_batch_dets_download').serialize();
        
        $('#alter').load("searchRunSheetDets.php",a);
    }
    function searchIcpActReqs(){
        var url = "searchIcpActReqs.php";
                          var path = "";
                        var divid = "#alter";
                      <?php  
                       $access = "search";
                       $objects = "ICP ACTIVATION REQUEST";

                       $rolls =  check_rolls($usertype,$access,$objects);
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function searchIcpActReqsDets(){
        var a = $('#search_icp_activ_req').serialize();
        
        $('#alter').load("searchIcpActReqsDets.php",a);
    }
    function checkRetailerDocs(retailer_id){
         var url = "checkRetailerDocs.php";
                          var path = "retailer_id="+retailer_id;
                        var divid = "#alter";
                      <?php  
                       $access = "view";
                       $objects = "ICP DOCUMENTS";

                       $rolls =  check_rolls($usertype,$access,$objects);
                     ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    
    function viewDocumentFull(documentid){
        $("#ipex_orders_dets").dialog({
            width: 500,
            title: 'Document Image',
            height: 600,
            show: 'fade',
            hide: 'fade',
            modal: true,
            open: function(event, ui) {

                $("#ipex_orders_dets").load("viewDocumentFull.php?documentid="+documentid);

            }

        });
    }
    function updateIcpDocs(){
        var path =  $('#check_icp_act_docs').serialize();
        $('#alter').load("updateIcpDocs.php",path);
    }
    function viewICCPaymentBIBS(paymentid){
        $("#ipex_orders_dets").dialog({
            width: 500,
            title: 'BIBS Related to Payment ID '+paymentid,
            height: 600,
            show: 'fade',
            hide: 'fade',
            modal: true,
            open: function(event, ui) {

                $("#ipex_orders_dets").load("viewICCPaymentBIBS.php?paymentid="+paymentid);

            }

        });
    }
    
    
    function searchIccRevLogOrd()
    {
        var url = "searchIccRevLogOrdDet.php";
            var path = "";
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICCREVERSELOGISTIC";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
         
    }
    
    function searchIccRevLogOrdDets(){
        var a = $('#icc_Reverse_Logistic_search').serialize();
        
        var url = "searchRevLogdetails.php";
            var path = a;
            var divid = "#alter";
         <?php   
          $access = "search";
          $objects = "ICC REEMBERSEMENT";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    function processIccReemb(shipping_ref_id){
       var url = "processIccReemb.php";
         
                  var path= "shipping_ref_id="+shipping_ref_id;
                     var divid = "#popup_billprocess";
                     var width = 1100;
                     var height = 650;
                     var title = 'KCC Re-Embersement Processing';
         <?php   
           $access = "processing";
         $objects = "ICC REEMBERSEMENT";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
				 
    }
    function updateIccReemberse(){
        
        var status = $("#process_status").val();
        var comments = $("#comments").val();
        var error_code =0;
        
        if(status == "PENDING"){
            
            document.getElementById("status_emessage").innerHTML = "Please Change the status";
            document.getElementById("status").focus();
            error_code = 1;
            return false;
        }
        if(trim(comments).length == 0)
                            {
                                    document.getElementById("status_emessage").innerHTML = "Please Enter Comments";
                                    document.getElementById("comments").focus();
                                    
                                    error_code=1;
                                    return false;
                            }
                            if(error_code != 1){
        var path = $('#icc_ecom_reemberse').serialize();
                  $("#btn_iccreemberse").attr("disabled","disabled");
                
               $('#chngestatus_div_iccreverse').load("updateIccReemberse.php",path);
           }  
    }
    function viewICCEcomReImb(shipping_ref_id){
        var url = "viewICCEcomReImb.php";
         
                  var path= "shipping_ref_id="+shipping_ref_id;
                     var divid = "#popup_billprocess";
                     var width = 1100;
                     var height = 650;
                     var title = 'KCC Re-Embersement Details';
         <?php   
           $access = "view";
         $objects = "ICC REEMBERSEMENT";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    }
    function addHelpdeskQuery(){
        var url = "addHelpdeskQuery.php";
            var path = "";
            var divid = "#alter";
         <?php  
          $access = "CREATE";
          $objects = "ICC HELPDESK";
         
          $rolls =  check_rolls($usertype,$access,$objects);
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        
    }
   
   
 
   
      function insertHelpDeskQry()
    {
                // alert(5);
        var iccid;
        var email;
        var phone_number;
        var contact_number;
        var service_type;
        var ticket_type;
        var sub_type;
        var description;
      

        var iccidErrorMessage = "Please Select ICC ID";  
        var emailErrorMessage = "Please Enter Valid Email Address";  
        var phone_numberErrorMessage = "Please Enter Valid Phone Number";  
      
        var contact_numberErrorMessage = "Please Enter Valid contact Number";  
        var service_typeErrorMessage = "Please Select Service Type";  
        var ticket_typeErrorMessage = "Please Select Ticket Type";  
          
        var sub_typeErrorMessage = "Please Select subtype";
        var descriptionErrorMessage = "Please Enter Discription";  
     
      
        var iccid = document.getElementById("icchelp_ID").value;
        var email = document.getElementById("email_addr").value;
        var phone_number= document.getElementById("phone_number").value;
        var contact_number = document.getElementById("contact_number").value;
        var service_type = document.getElementById("serv_type").value;
        var ticket_type = document.getElementById("ticket_type").value;
        var sub_type = document.getElementById("ticket_sub_type").value;
        var description = document.getElementById("problem_description").value;
      
        var contactnopattern = /^[0-9]+$/;
        var phonenopattern = /^[0-9]+$/;
        var iccidpattern = /^[a-z 0-9 A-Z]+$/;
        var emailpattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
      
              
        if(trim(iccid).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = iccidErrorMessage;
            document.getElementById("icchelp_ID").focus();
            return false;
        }
        if(!iccid.match(iccidpattern))
        {
            document.getElementById("errorMessage").innerHTML = iccidErrorMessage;
            document.getElementById("icchelp_ID").focus();
            return false;
        }
      
        if(trim(email).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = emailErrorMessage;
            document.getElementById("email_addr").focus();
            return false;
        }
        if(!email.match(emailpattern))
        {
            document.getElementById("errorMessage").innerHTML = emailErrorMessage;
            document.getElementById("email_addr").focus();
            return false;
        }
      
        if(trim(phone_number).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = phone_numberErrorMessage;
            document.getElementById("phone_number").focus();
            return false;
        }
        if(phone_number.length < 10)
        {
            document.getElementById("errorMessage").innerHTML = phone_numberErrorMessage;
            document.getElementById("phone_number").focus();
            return false;
        }
        if(!phone_number.match(phonenopattern))
        {
            document.getElementById("errorMessage").innerHTML = phone_numberErrorMessage;
            document.getElementById("phone_number").focus();
            return false;
        }
      
      
        if(trim(contact_number).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = contact_numberErrorMessage;
            document.getElementById("contact_number").focus();
            return false;
        }
        if(contact_number.length < 10)
        {
            document.getElementById("errorMessage").innerHTML = contact_numberErrorMessage;
            document.getElementById("contact_number").focus();
            return false;
        }
        if(!contact_number.match(contactnopattern))
        {
            document.getElementById("errorMessage").innerHTML = contact_numberErrorMessage;
            document.getElementById("contact_number").focus();
            return false;
        }
            
              
        if(trim(service_type).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = service_typeErrorMessage;
            document.getElementById("serv_type").focus();
            return false;
        }
         if(trim(ticket_type).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = ticket_typeErrorMessage;
            document.getElementById("ticket_type").focus();
            return false;
        }
      
        if(trim(sub_type).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = sub_typeErrorMessage;
            document.getElementById("ticket_sub_type").focus();
            return false;
        }
        if(sub_type == "OTHERS")
        {
                    var tkt_operation_others = document.getElementById("tkt_operation_others").value;
                    if(trim(tkt_operation_others).length == 0)
                    {
            document.getElementById("errorMessage").innerHTML = "Please Enter Sub Type";
            document.getElementById("tkt_operation_others").focus();
                         return false;
                    }
        }
         if(trim(description).length == 0)
        {
                                document.getElementById("errorMessage").innerHTML = descriptionErrorMessage;
            document.getElementById("problem_description").focus();
 error_code = 1;
            return false;
                          
        }
              
                  
                    if (description!="")
                    {
                    var strArr = new Array();
                    strArr = description.split("");

                        if(strArr[0]==" ") // this is the the key part. you can do whatever you want here!
                        {
                           var  flag=1;
                            //alert(flag);
                        }


                    }
                    if(description=="" || flag == 1 )
                    {        document.getElementById("errorMessage").innerHTML = descriptionErrorMessage;
            document.getElementById("problem_description").focus();
            return false;
                    }
                  
         
                    var a = $('#add_helpdesk_query').serialize();
                  
                    $('#alter').load("insertIccHelpdeskQ.php",a );
       
              
              
            }
             function searchIdemandDetail()
    {
            var url = "searchIdemandDetail.php";
            var path = "";
            var divid = "#alter";
         <?php  
          $access = "search";
          $objects = "IDEMAND";
         
          $rolls =  check_rolls($usertype,$access,$objects);
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
      

    }
    function idemandDetails()
    {
        var category =$("#categorysele").val();
    var product_name = $("#product_name").val();
    var product_model = $("#product_model").val();
    var customer_phno = $("#customer_phno").val();
    var from_date = $("#fromdate").val();
    var to_date = $("#todate").val();
   //search_idemand_form
         var path = $('.search_idemand_form').serialize();
//           var path = "categorysele=" + category + "&product_name=" + product_name + "&product_model=" + product_model
//             + "&customer_phno=" + customer_phno +"&fromdate="+from_date +"&todate="+to_date;
          
        $('#alter').load("searchIdemandDets.php",path);
       
        
    }  
    function loadiccpdet(icchelp_ID)
                        {
                           
                            var path = "icchelp_ID="+icchelp_ID;
                            $("#loadmobile_no").load("loadiccdetails.php",path);
                        }
                        function addBankPayment(){
                            var url = "addBankPayment.php";
            var path = "";
            var divid = "#alter";
         <?php  
          $access = "create";
          $objects = "PAYMENT RECEIVED";
         
          $rolls =  check_rolls($usertype,$access,$objects);
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                        }
                        function insertBankPayment(){
                             var to_bank = $("#to_bank").val();
        var bank_ref_id = $("#bank_ref_id").val();
        var received_amount = $("#received_amount").val();
        var coupon_valid_from = $("#coupon_valid_from").val();
        var payment_mode = $("#payment_mode").val();
        var received_time = $("#received_time").val();
        var remarks = $("#remarks").val();
        var error_code =0;
        
         if(trim(to_bank).length == 0)
                            {
                                    document.getElementById("message").innerHTML = "Please Select Received Bank";
                                    document.getElementById("to_bank").focus();
                                    
                                    error_code=1;
                                    return false;
                            }
                            if(trim(payment_mode).length == 0)
                            {
                                    document.getElementById("message").innerHTML = "Please Enter Bank Reference Id";
                                    document.getElementById("bank_ref_id").focus();
                                    
                                    error_code=1;
                                    return false;
                            }
                            if(to_bank == "Others"){
                                var other_bank_name = $("#other_bank_name").val();
                                if(trim(other_bank_name).length == 0)
                            {
                                    document.getElementById("message").innerHTML = "Please Enter Received Bank";
                                    document.getElementById("other_bank_name").focus();
                                    
                                    error_code=1;
                                    return false;
                            }
                }
        if(trim(bank_ref_id).length == 0)
                            {
                                    document.getElementById("message").innerHTML = "Please Enter Bank Reference Id";
                                    document.getElementById("bank_ref_id").focus();
                                    
                                    error_code=1;
                                    return false;
                            }
                             if(trim(received_amount).length == 0)
                            {
                                    document.getElementById("message").innerHTML = "Please Enter Bank Reference Id";
                                    document.getElementById("received_amount").focus();
                                    
                                    error_code=1;
                                    return false;
                            }
                            
                             if(coupon_valid_from == "0000-00-00")
                            {
                                    document.getElementById("message").innerHTML = "Please Enter Bank Reference Id";
                                    document.getElementById("bank_ref_id").focus();
                                    
                                    error_code=1;
                                    return false;
                            }
                            if(trim(received_time).length == 0)
                            {
                                    document.getElementById("message").innerHTML = "Please Select Received Time";
                                    document.getElementById("received_time").focus();
                                    
                                    error_code=1;
                                    return false;
                            }
                            if(trim(remarks).length == 0)
                            {
                                    document.getElementById("message").innerHTML = "Please Enter Remarks";
                                    document.getElementById("remarks").focus();
                                    
                                    error_code=1;
                                    return false;
                            }
                             
                            if(error_code != 1){
        var path = $('#add_receiced_paymnt').serialize();
                  $("#add_icc_paymnt").attr("disabled","disabled");
                $("#message").html('')
               $('#add_payment_respo').load("insertBankPayment.php",path);
           }  
                        }
                        function seacrhBankPaymnt(){
                             var url = "seacrhBankPaymnt.php";
            var path = "";
            var divid = "#alter";
         <?php  
          $access = "search";
          $objects = "PAYMENT RECEIVED";
         
          $rolls =  check_rolls($usertype,$access,$objects);
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                        }
                        function searchBankPaymntDets(){
                            var path = $('#search_bank_payment').serialize();
                             $('#alter').load("searchBankPaymntDets.php",path);
                        }
                        function loadiccsubtypes(ticket_type,divid)
    {
        ticket_type = escape(ticket_type);
        var divid = "#"+divid;
        $("#ticket_sub_type").load("loadIccsubtypes.php?ticket_type="+ticket_type );
    }
    function viewBankPayment(paymentid){
        var url = "viewBankPayment.php";
                   var path = "paymentid="+paymentid;
                     var divid = "#popup_billprocess";
                     var width = 900;
                     var height = 500;
                     var title = 'Payment Details';
         <?php   
          $access = "view";
           $objects = "PAYMENT RECEIVED";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    }
     function selectBankRefID(reference_org_id)
                        {
                            var path = $('#select_bank_payment').serialize();
                         var url = "searchselBankPaymntDets.php";
                  var path = path+"&payment_ref_id="+reference_org_id;
                     var divid = "#ecom_ipayord_view";
                     var width = 1100;
                     var height = 650;
                     var title = 'Bank Ref ID Search';
                   <?php   
          $access = "view";
           $objects = "PAYMENT RECEIVED";
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
                     checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);         
                                    
                        }
                        function searchselBankPaymntDets(){
                            var path = $('#select_bank_payment').serialize();
                             $('#ecom_ipayord_view').load("searchselBankPaymntDets.php",path);
                        }
                        
                        function loadMiniatmRegistration()
    {
        var url = "addMiniatmDevice.php";
        var path= "";
         var divid = "#alter";
      <?php  
       $access = "create";
       $objects = "MINIATM";

       $rolls =  check_rolls($usertype,$access,$objects);
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
}

function searchMiniatmDevice()
    {
       var url = "miniatm_device.php";
        var path= "";
         var divid = "#alter";
      <?php  
       $access = "search";
       $objects = "MINIATM";

       $rolls =  check_rolls($usertype,$access,$objects);
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
      

    }

function MiniatmdeviceDet()
    {

        var device_info =$("#device_info").val();
        var identity_no = $("#identity_no").val();
        var status = $("#status").val();
        var search_miniatm_assg = $("#search_miniatm_assg").val();
        var model = $("#model").val();    
        var a = $('#search_mini_atm_device').serialize();
         $('#alter').load("searchMiniatm_device.php",a);
           
    }   

function miniatmvalidate()
    {
        var device_info;
        var identity_no;
        var model;
        var miniatm_assigned_to;
        var status;
                var error_code = 0;
       
           

        var deviceinfoErrorMessage = "Please Enter Device Information";   
        var identitynoErrorMessage = "Please Enter Identity Number";   
        var modelErrorMessage = "Please Enter Valid Model Number";   
        var assignedtoErrorMessage = "Please Enter Name";
        var statusErrorMessage = "Please Select The Status";
       
           


        device_info = document.getElementById("device_info").value;
        identity_no = document.getElementById("identity_no").value;
        model = document.getElementById("model").value;
        miniatm_assigned_to = document.getElementById("miniatm_assigned_to").value;
                status = document.getElementById("status").value;
       
       
              
       
        if(trim(device_info).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = deviceinfoErrorMessage;
            document.getElementById("device_info").focus();
                        error_code = 1;
            return false;
        }
       
        if(trim(identity_no).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = identitynoErrorMessage;
            document.getElementById("identity_no").focus();
                        error_code = 1;
            return false;
        }
       
        if(trim(model).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = modelErrorMessage;
            document.getElementById("model").focus();
                        error_code = 1;
            return false;
        }
       
       
                       
        if(trim(miniatm_assigned_to).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = assignedtoErrorMessage;
            document.getElementById("miniatm_assigned_to").focus();
                        error_code = 1;
            return false;
        }
        if(trim(status).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = statusErrorMessage;
            document.getElementById("status").focus();
                        error_code = 1;
            return false;
        }
               
                if(error_code != 1)
                             {
                             device_info = escape(device_info);
                              identity_no = escape(identity_no);
                             model = escape(model);
                              miniatm_assigned_to = escape(miniatm_assigned_to);
                             status = escape(status);
                           
                          
                                     document.getElementById("errorMessage").innerHTML = "";
                                   

                            var path = $('#miniatm_Form').serialize();
                                       $('#alter').load("insertMiniatmDet.php",path );
                                
                                    }
                   

    }
       
 function editMiniatmDevice(device_id)
            {
                        var path= "device_id="+device_id; 
                        var url = "editMiniatmDevice.php";
                        var divid = "#alter";
                          <?php  
                           $access = "edit";
                           $objects = "MINIATM";

                           $rolls =  check_rolls($usertype,$access,$objects);
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                        }


  function updateMiniatmDevice(device_id)
    {
           
        var device_info;
        var identity_no;
        var model;
        var miniatm_assigned_to;
        var status;
                var error_code = 0;
                var device_id;
       
           

        var deviceinfoErrorMessage = "Please Enter Device Information";   
        var identitynoErrorMessage = "Please Enter Identity Number";   
        var modelErrorMessage = "Please Enter Valid Model Number";   
        var assignedtoErrorMessage = "Please Enter Name";
        var statusErrorMessage = "Please Select The Status";
       
           


        device_info = document.getElementById("device_info").value;
        identity_no = document.getElementById("identity_no").value;
        model = document.getElementById("model").value;
        miniatm_assigned_to = document.getElementById("miniatm_assigned_to").value;
                status = document.getElementById("status").value;
                device_id = document.getElementById("device_id").value;
       
       
              
       
        if(trim(device_info).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = deviceinfoErrorMessage;
            document.getElementById("device_info").focus();
                        error_code = 1;
            return false;
        }
       
        if(trim(identity_no).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = identitynoErrorMessage;
            document.getElementById("identity_no").focus();
                        error_code = 1;
            return false;
        }
       
        if(trim(model).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = modelErrorMessage;
            document.getElementById("model").focus();
                        error_code = 1;
            return false;
        }
       
       
                       
        if(trim(miniatm_assigned_to).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = assignedtoErrorMessage;
            document.getElementById("miniatm_assigned_to").focus();
                        error_code = 1;
            return false;
        }
        if(trim(status).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = statusErrorMessage;
            document.getElementById("status").focus();
                        error_code = 1;
            return false;
        }
               
                if(error_code != 1)
                             {
                             device_info = escape(device_info);
                              identity_no = escape(identity_no);
                             model = escape(model);
                              miniatm_assigned_to = escape(miniatm_assigned_to);
                             status = escape(status);
                             device_id = escape(device_id);
                          
                                     document.getElementById("errorMessage").innerHTML = "";
                                   
                                       var path = $('#miniatm_Form').serialize();
                                       $('#alter').load("updateMiniatmDevice.php",path );
                                
                                    }
                   

    }
         
function viewMiniatmDevice(device_id)
            {
                            var url = "viewMiniatmForm.php";
                            var path= "device_id="+device_id; 
                             var divid = "#alter";
                          <?php  
                           $access = "view";
                           $objects = "MINIATM";

                           $rolls =  check_rolls($usertype,$access,$objects);
                          ?>
                           checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
               
   
            }    
            function loadVillagesForRet(constituency){
                var constituency = escape(constituency);
                var texDistrict =$("#texDistrict").val();
                 var district = escape(texDistrict);
        var path = "constituency="+constituency+"&district="+district;
        $("#texVillage").removeAttr("disabled");
        $("#texVillage").load("loadVillagesForRet.php",path);
            }
            function loadVillagesForRet1(constituency){
                var constituency = escape(constituency);
                var texDistrict =$("#texrDistrict").val();
                 var district = escape(texDistrict);
        var path = "constituency="+constituency+"&district="+district;
        $("#texVillage").removeAttr("disabled");
        $("#texVillage").load("loadVillagesForRet.php",path);
            }
            function loadZipCode(village){
                var texrConstituency =$("#texrConstituency").val();
                var texDistrict =$("#texDistrict").val();
                var village = escape(village);
                var constituency = escape(texrConstituency);
                var district = escape(texDistrict);
        var path = "village="+village+"&constituency="+constituency+"&district="+district;
        //$("#texPin").removeAttr("disabled");
        $("#texPin").load("loadZipCode.php",path);
            }
            function loadZipCode1(village){
                var texrConstituency =$("#texrConstituency").val();
                var texDistrict =$("#texrDistrict").val();
                var village = escape(village);
                var constituency = escape(texrConstituency);
                var district = escape(texDistrict);
        var path = "village="+village+"&constituency="+constituency+"&district="+district;
        //$("#texPin").removeAttr("disabled");
        $("#texrPin").load("loadZipCode.php",path);
            }

function displayimage(imageid){
//        alert(imageid);
         var url = "displayimage.php";
                   var path = "imageid="+imageid;
                     var divid = "#enq_full_image";
                     var width = 700;
                     var height = 600;
                     var title = "Images";
         <?php  
          $access = "view";
       $objects = "ENQ PRODUCTS";
         
          $rolls =  check_rolls($usertype,$access,$objects);
         ?>
          checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
               
          
    }
     function viewEnqFullImagepop(imageurl){
       
         $("#enq_full_image").attr("src",imageurl);
         $("#enq_full_image").attr("data-zoom-src",imageurl);
    }


function referralProgram()
    {
        var url = "referalProgramSearch.php";
        var path= "";
        var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

   function referralProgramOrderDetails()
    {   
        var order_id = $("#ecomorder_id").val();
        var fromdate =$("#prod_from_date").val();
        var todate = $("#prod_to_date").val();
         var ecom_refid = $("#ecom_refid").val();
         var ecom_prod_name = $("#ecom_prod_name").val();
         var ecom_prod_id = $("#ecom_prod_id").val();
        ecom_refid = escape(ecom_refid);
        ecom_prod_name = escape(ecom_prod_name);
          var processstatus = $("#processstatus").val();
          if(order_id == "" && fromdate == "0000-00-00" && todate == "0000-00-00" && ecom_refid == "" && ecom_prod_name  == "" && ecom_prod_id == "" && processstatus == ""){
              alert("Please select atleast one filter");
        }
        else{
            $("#loader").show();
            $('#ecommerceorders').attr('value', 'Searching');
         var path = "fromdate="+fromdate+"&todate="+todate+"&order_id="+order_id+"&processstatus="+processstatus+"&ecom_refid="+ecom_refid+"&ecom_prod_name="+ecom_prod_name+"&ecom_prod_id="+ecom_prod_id;
         $('#alter').load("referralProgramOrderDetails.php",path);
        }
    }

 function viewReferralProd(orderid)
            {
                        var url = "viewReferralProd.php";
                        var path = "orderid="+orderid;
                        var divid = "#popup_billprocess";
                        var width = 1100;
                        var height = 670;
                        var title = 'Referral Program';
                        <?php
                        $access = "view";
                        $objects = "ECOMMERCE IPEX ORDERS";

                        $rolls = check_rolls($usertype, $access, $objects);
                        ?>
                          $('.search_table2 tr.buslayout').remove();
                        checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
               
}
function editReferralOrders(orderid)
			{
                        var path= "orderid="+orderid;   
                        var url = "editReferralOrders.php";
                        var divid = "#popup_billprocess";
                        <?php
                        $access = "edit";
                        $objects = "ECOMMERCE IPEX ORDERS";

                        $rolls = check_rolls($usertype, $access, $objects);
                        ?>
                        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                        }

function updateReferalProdDetails_two() {
 
        var order_id_ref = $("#orderId1").val();
        var vendor_name_ref =$("#vendorName1").val();
        var app_status_ref =  $("#AppStatus1").val();
        var remarks_ref = $("#remarks1").val();
        $('#showMsg').show();
        
        
        if(updateForm_2.vendorName1.value.length==0){
            document.getElementById("errorUpdate1").innerHTML = "Please Enter Vendor Name";
        } 
        else if(updateForm_2.AppStatus1.value.length==0) {
            document.getElementById("errorUpdate2").innerHTML = "Please Enter Application Status";
        }
        else if(updateForm_2.remarks1.value.length==0) {
            document.getElementById("errorUpdate3").innerHTML = "Please Enter Remarks";
        }

        else{
            var url = "viewReferralProd_inc.php";
        var path = "orderId="+order_id_ref+"&vendorName="+vendor_name_ref+"&appStatus="+app_status_ref+"&remarks="+remarks_ref;
        var divid = "#showMsg";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE";

      $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        }
    }
function updateReferalProdDetails_three() {
 
        var order_id_ref = $("#orderId1").val();
        var vendor_name_ref =$("#vendorName2").val();
        var app_status_ref =  $("#AppStatus2").val();
        var remarks_ref = $("#remarks2").val();
        $('#showMsg').show();
        
        
        if(updateForm_3.vendorName2.value.length==0){
            document.getElementById("errorUpdate1").innerHTML = "Please Enter Vendor Name";
        } 
        else if(updateForm_3.AppStatus2.value.length==0) {
            document.getElementById("errorUpdate2").innerHTML = "Please Enter Application Status";
        }
        else if(updateForm_3.remarks2.value.length==0) {
            document.getElementById("errorUpdate3").innerHTML = "Please Enter Remarks";
        }

        else{
            var url = "viewReferralProd_inc.php";
        var path = "orderId="+order_id_ref+"&vendorName="+vendor_name_ref+"&appStatus="+app_status_ref+"&remarks="+remarks_ref;
        var divid = "#showMsg";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE";

      $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        }
    }
function updateReferalProdDetails_four() {
 
        var order_id_ref = $("#orderId1").val();
        var vendor_name_ref =$("#vendorName3").val();
        var app_status_ref =  $("#AppStatus3").val();
        var remarks_ref = $("#remarks3").val();
        $('#showMsg').show();
        
        
        if(updateForm_4.vendorName3.value.length==0){
            document.getElementById("errorUpdate1").innerHTML = "Please Enter Vendor Name";
        } 
        else if(updateForm_4.AppStatus3.value.length==0) {
            document.getElementById("errorUpdate2").innerHTML = "Please Enter Application Status";
        }
        else if(updateForm_4.remarks3.value.length==0) {
            document.getElementById("errorUpdate3").innerHTML = "Please Enter Remarks";
        }

        else{
            var url = "viewReferralProd_inc.php";
        var path = "orderId="+order_id_ref+"&vendorName="+vendor_name_ref+"&appStatus="+app_status_ref+"&remarks="+remarks_ref;
        var divid = "#showMsg";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE";

      $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        }
    }

function dropDownAppStatus_one(){
    var app_status_in_tabs = $("#AppStatus").val();
    return app_status_in_tabs;
    
    }
    function dropDownAppStatus_two(){
    var app_status_in_tabs = $("#AppStatus1").val();
    return app_status_in_tabs;
    
    }
     function dropDownAppStatus_three(){
    var app_status_in_tabs = $("#AppStatus2").val();
    return app_status_in_tabs;
    
    }
     function dropDownAppStatus_four(){
    var app_status_in_tabs = $("#AppStatus3").val();
    return app_status_in_tabs;
    
    }

 function updateReferalProdDetails() {
        var order_id_ref = $("#orderId").val();
        var vendor_name_ref =$("#vendorName").val();
        var app_status_ref = dropDownAppStatus_one();
        var remarks_ref = $("#remarks").val();
        var appMode = $('#dropdownPopup').val();
        $('#showMsg').show();
       
       
        if(updateForm.vendorName.value.length==0) {
            document.getElementById("errorUpdate1").innerHTML = "Please Enter Vendor Name";
        }
        else if(updateForm.AppStatus.value.length==0) {
            document.getElementById("errorUpdate2").innerHTML = "Please Enter Application Status";
        }
        else if(updateForm.remarks.value.length==0) {
            document.getElementById("errorUpdate3").innerHTML = "Please Enter Remarks";
        }
        else{
            var url = "viewReferralProd_inc.php";
        var path = "orderId="+order_id_ref+"&vendorName="+vendor_name_ref+"&appStatus="+app_status_ref+"&remarks="+remarks_ref;
        var divid = "#showMsg";
      <?php  
       $access = "search";
       $objects = "ECOMMERCE";

      $rolls =  check_rolls($usertype,$access,$objects);
      ?>
      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        }
       
       
    }
/*For onlin registration MIS*/

 function onlineReg()
    {
        var url = "onlineRegSearch.php";
        var path= "";
        var divid = "#alter";
      <?php  
       $access = "search";
       $objects = "ECOMMERCE";

       $rolls =  check_rolls($usertype,$access,$objects);
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }


function viewOnlineReg(orderid)
            {
                        var url = "viewOnlineReg.php";
                        var path = "orderid="+orderid;
                        var divid = "#popup_billprocess";
                        var width = 1100;
                        var height = 670;
                        var title = 'Online Registration Details.';
                        <?php
                        $access = "view";
                        $objects = "ECOMMERCE IPEX ORDERS";

                        $rolls = check_rolls($usertype, $access, $objects);
                        ?>
                          $('.search_table2 tr.buslayout').remove();
                        checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
               
            }

function onlineRegOrderDetails()
    {  
        var order_id = $("#ecomorder_id").val();
        var va_card_num = $("#icardNumber").val();
         var ecom_refid = $("#ecom_refid").val();
         var ecom_prod_name = $("#ecom_prod_name").val();
         var ecom_prod_id = $("#ecom_prod_id").val();
        ecom_refid = escape(ecom_refid);
        ecom_prod_name = escape(ecom_prod_name);
          var processstatus = $("#processstatus").val();
          var paymentstatus = $("#paymentstatus").val();
          if(order_id == "" && ecom_refid == "" && ecom_prod_name  == "" && ecom_prod_id == "" && processstatus == ""){
              alert("Please select atleast one filter");
        }
        else{
            $("#loader").show();
            $('#ecommerceorders').attr('value', 'Searching');
         var path = "&order_id="+order_id+"&processstatus="+processstatus+"&paymentstatus="+paymentstatus+"&ecom_refid="+ecom_refid+"&va_card_num="+va_card_num+"&ecom_prod_id="+ecom_prod_id;
         $('#alter').load("onlineRegOrderDetails.php",path);
        }
    }


/*For onlin registration MIS*/
/*For Shop address MIS*/
function loadDistrictsForRetailer_shop(stateid,district)
			{
                            
//                                alert(stateid);
				//Declaring Variables
				var xmlHttp;
				
				if(window.XMLHttpRequest)
				{
					//IE6+,Chrome,Safari,Mozilla,Opera
					xmlHttp = new XMLHttpRequest();
					
				}
				else
				{	
					//I.E5,I.E6
					xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
				}
				
				//Processing Response
				xmlHttp.onreadystatechange = function()
				{
					if(xmlHttp.readyState == 4 && xmlHttp.status == 200)
					{
                                             $("#texrDistrict_shop").removeAttr("disabled");
						document.getElementById("texrDistrict_shop").innerHTML = xmlHttp.responseText;
					}
					
				}
				
				//Generating Request
				xmlHttp.open("GET","loadDistrictsByStateForRetailer.php?stateid="+stateid+"&district="+district,true);
				xmlHttp.send();
			}
function loadConstinuesForRet_shop(district){
 
if($('#chkaddr').is(':checked')){
             var texConstituency1 =$("#texrConstituency").val();
              var constituency1 = escape(texConstituency1);
var path = "district="+district+"&constituency="+constituency1;
}
else{
var path = "district="+district;
}
        
        $("#texrConstituency_shop").removeAttr("disabled");
        $("#texrConstituency_shop").load("loadConstinuesForRet.php",path);
    }


 function loadVillagesForRet1_shop(constituency){
 
              if($('#chkaddr').is(':checked')){
              var texConstituency1 =$("#texrConstituency").val();
              var constituency1 = escape(texConstituency1);
              var texDistrict1 =$("#texrDistrict").val();
              var district1 = escape(texDistrict1);
              var texVillage1 =$("#texVillage").val();
              var village = escape(texVillage1);
var path = "constituency="+constituency1+"&district="+district1+"&village_shop="+village;
                
    }
else{
                var constituency1 = escape(constituency);
                var texDistrict =$("#texrDistrict_shop").val();
                 var district = escape(texDistrict);
var path = "constituency="+constituency1+"&district="+district;
}   
        $("#texVillage_shop").removeAttr("disabled");
        $("#texVillage_shop").load("loadVillagesForRet.php",path);
            }


function loadZipCode1_shop(village){
                if($('#chkaddr').is(':checked')){
              var texDistrict1 =$("#texrDistrict").val();
              var district1 = escape(texDistrict1);
              var texConstituency1 =$("#texrConstituency_shop").val();
              var constituency1 = escape(texConstituency1);
              var texVillage1 =$("#texVillage").val();
              var village1 = escape(texVillage1);
var path = "village_shop="+village1+"&constituency_shop="+constituency1+"&district_shop="+district1;
}
else{
                 var texrConstituency1 =$("#texrConstituency_shop").val();
                var constituency1 = escape(texrConstituency1);
                var texDistrict1 =$("#texrDistrict_shop").val();
                var district1 = escape(texDistrict1);
                var Village =$("#texVillage_shop").val();
                var village_1 = escape(Village);
                
                
var path = "village_shop="+village_1+"&constituency_shop="+constituency1+"&district_shop="+district1;
}
        
        //$("#texPin").removeAttr("disabled");
        $("#texrPin_shop").load("loadZipCode1.php",path);
            }



/*For Shop address MIS*/


/*For IPEX SUB menus*/

function searchOrdersIPEX_bill_payment()
                        {
var url = "searchOrdersIPEX_bp.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX ORDERS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
                            

                        }
function searchOrdersIPEX_postpaid()
{
var url = "searchOrdersIPEX_postpaid.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX ORDERS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
}                        

function searchOrdersIPEX_ecom()
{
var url = "searchOrdersIPEX_ecom.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX ORDERS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
}

function order_DetailsIPEX_bp()
    {
        
$("#loader").show();
        var order_id =$("#order_id").val();
        var f_date = $("#f_date").val();
         var to_date =$("#to_date").val();
         var clientid  =$("#clientid").val();
          var ph_no  =$("#ph_no").val();
         var service_type=$("#service_type").val();
         var operator_name = $("#operator_name").val();
         //alert(service_type);return false;
         if(service_type=='BILLPAYMENT'){
            
             var par='table=IPEX_BILLPAYMENT_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE&';
         }else if(service_type=='BUS'){
             
            var par= 'table= IPEX_BUS_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='MOBILE'){
            
             var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }else if(service_type=='POSTPAID'){
            
             var par='table=IPEX_POSTPAID_SERV_TRANS_DETAILS&field=MOBILE_NUMBER&';
         }else if(service_type=='AIRTICKET'){
            
             var par='table=IPEX_AIRTICKET_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='CANCELLATIONSERVICE'){
           
                     var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if(service_type=='DATACARD'){
            
             var par='table=IPEX_DATACARD_SERV_TRANS_DETAILS&field=DATACARD_NUMBER&';
         }else if(service_type=='DTH'){
            
             var par='table=IPEX_DTH_SERV_TRANS_DETAILS&field=CUSTOMER_DTH_NUM&';
         }else if( service_type=='ECOMMERCE'){
             
             var par='table= IPEX_ECOMMERCE_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if( service_type=='EVENTTICKET'){
            
             var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if( service_type=='MINIATM'){
           
             var par='table=IPEX_MINIATM_SERV_TRANS_DETAILS&field=MOBILE_NO&';
         }else {
           
            var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }
        
        var path = par+"order_id="+order_id+"&f_date="+f_date+"&to_date="+to_date+"&clientid="+clientid+"&service_type="+service_type+"&operator_name="+operator_name+"&ph_no="+ph_no;
        $('#alter').load('orderDetailsIPEX_bp.php',path);
           
    }

    function order_DetailsIPEX_postpaid()
    {
        
$("#loader").show();
        var order_id =$("#order_id").val();
        var f_date = $("#f_date").val();
         var to_date =$("#to_date").val();
         var clientid  =$("#clientid").val();
          var ph_no  =$("#ph_no").val();
         var service_type=$("#service_type").val();
         var operator_name = $("#operator_name").val();
         //alert(service_type);return false;
         if(service_type=='BILLPAYMENT'){
            
             var par='table=IPEX_BILLPAYMENT_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE&';
         }else if(service_type=='BUS'){
             
            var par= 'table= IPEX_BUS_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='MOBILE'){
            
             var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }else if(service_type=='POSTPAID'){
            
             var par='table=IPEX_POSTPAID_SERV_TRANS_DETAILS&field=MOBILE_NUMBER&';
         }else if(service_type=='AIRTICKET'){
            
             var par='table=IPEX_AIRTICKET_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='CANCELLATIONSERVICE'){
           
                     var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if(service_type=='DATACARD'){
            
             var par='table=IPEX_DATACARD_SERV_TRANS_DETAILS&field=DATACARD_NUMBER&';
         }else if(service_type=='DTH'){
            
             var par='table=IPEX_DTH_SERV_TRANS_DETAILS&field=CUSTOMER_DTH_NUM&';
         }else if( service_type=='ECOMMERCE'){
             
             var par='table= IPEX_ECOMMERCE_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if( service_type=='EVENTTICKET'){
            
             var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if( service_type=='MINIATM'){
           
             var par='table=IPEX_MINIATM_SERV_TRANS_DETAILS&field=MOBILE_NO&';
         }else {
           
            var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }
        var path = par+"order_id="+order_id+"&f_date="+f_date+"&to_date="+to_date+"&clientid="+clientid+"&service_type="+service_type+"&operator_name="+operator_name+"&ph_no="+ph_no;
        $('#alter').load('orderDetailsIPEX_postpaid.php',path);
           
    }
function order_DetailsIPEX_ecom()
    {
        
$("#loader").show();
        var order_id =$("#order_id").val();
        var f_date = $("#f_date").val();
         var to_date =$("#to_date").val();
         var clientid  =$("#clientid").val();
          var ph_no  =$("#ph_no").val();
         var service_type=$("#service_type").val();
         var operator_name = $("#operator_name").val();
         //alert(service_type);return false;
         if(service_type=='BILLPAYMENT'){
            
             var par='table=IPEX_BILLPAYMENT_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE&';
         }else if(service_type=='BUS'){
             
            var par= 'table= IPEX_BUS_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='MOBILE'){
            
             var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }else if(service_type=='POSTPAID'){
            
             var par='table=IPEX_POSTPAID_SERV_TRANS_DETAILS&field=MOBILE_NUMBER&';
         }else if(service_type=='AIRTICKET'){
            
             var par='table=IPEX_AIRTICKET_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='CANCELLATIONSERVICE'){
           
                     var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if(service_type=='DATACARD'){
            
             var par='table=IPEX_DATACARD_SERV_TRANS_DETAILS&field=DATACARD_NUMBER&';
         }else if(service_type=='DTH'){
            
             var par='table=IPEX_DTH_SERV_TRANS_DETAILS&field=CUSTOMER_DTH_NUM&';
         }else if( service_type=='ECOMMERCE'){
             
             var par='table= IPEX_ECOMMERCE_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if( service_type=='EVENTTICKET'){
            
             var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if( service_type=='MINIATM'){
           
             var par='table=IPEX_MINIATM_SERV_TRANS_DETAILS&field=MOBILE_NO&';
         }else {
           
            var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }
           
     
        var path = par+"order_id="+order_id+"&f_date="+f_date+"&to_date="+to_date+"&clientid="+clientid+"&service_type="+service_type+"&operator_name="+operator_name+"&ph_no="+ph_no;
        $('#alter').load('orderDetailsIPEX_ecom.php',path);
           
    }
 

function searchOrdersIPEX_MT()
{
var url = "searchOrdersIPEX_MT.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX ORDERS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
}

function order_DetailsIPEX_MT()
    {
        
$("#loader").show();
        var order_id =$("#order_id").val();
        var f_date = $("#f_date").val();
         var to_date =$("#to_date").val();
         var clientid  =$("#clientid").val();
          var ph_no  =$("#ph_no").val();
         var service_type=$("#service_type").val();
         var operator_name = $("#operator_name").val();
         //alert(service_type);return false;
         if(service_type=='BILLPAYMENT'){
            
             var par='table=IPEX_BILLPAYMENT_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE&';
         }else if(service_type=='BUS'){
             
            var par= 'table= IPEX_BUS_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='MOBILE'){
            
             var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }else if(service_type=='POSTPAID'){
            
             var par='table=IPEX_POSTPAID_SERV_TRANS_DETAILS&field=MOBILE_NUMBER&';
         }else if(service_type=='AIRTICKET'){
            
             var par='table=IPEX_AIRTICKET_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='CANCELLATIONSERVICE'){
           
                     var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if(service_type=='DATACARD'){
            
             var par='table=IPEX_DATACARD_SERV_TRANS_DETAILS&field=DATACARD_NUMBER&';
         }else if(service_type=='DTH'){
            
             var par='table=IPEX_DTH_SERV_TRANS_DETAILS&field=CUSTOMER_DTH_NUM&';
         }else if( service_type=='ECOMMERCE'){
             
             var par='table= IPEX_ECOMMERCE_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if( service_type=='EVENTTICKET'){
            
             var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if( service_type=='MINIATM'){
           
             var par='table=IPEX_MINIATM_SERV_TRANS_DETAILS&field=MOBILE_NO&';
         }else {
           
            var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }
        var path = par+"order_id="+order_id+"&f_date="+f_date+"&to_date="+to_date+"&clientid="+clientid+"&service_type="+service_type+"&operator_name="+operator_name+"&ph_no="+ph_no;
        $('#alter').load('orderDetailsIPEX_MT.php',path);
           
    }
 

function searchOrdersIPEX_BB()
{
var url = "searchOrdersIPEX_BB.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX ORDERS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
}

function order_DetailsIPEX_BB()
    {
        
$("#loader").show();
        var order_id =$("#order_id").val();
        var f_date = $("#f_date").val();
         var to_date =$("#to_date").val();
         var clientid  =$("#clientid").val();
          var ph_no  =$("#ph_no").val();
         var service_type=$("#service_type").val();
         var operator_name = $("#operator_name").val();
         //alert(service_type);return false;
         if(service_type=='BILLPAYMENT'){
            
             var par='table=IPEX_BILLPAYMENT_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE&';
         }else if(service_type=='BUS'){
             
            var par= 'table= IPEX_BUS_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='MOBILE'){
            
             var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }else if(service_type=='POSTPAID'){
            
             var par='table=IPEX_POSTPAID_SERV_TRANS_DETAILS&field=MOBILE_NUMBER&';
         }else if(service_type=='AIRTICKET'){
            
             var par='table=IPEX_AIRTICKET_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='CANCELLATIONSERVICE'){
           
                     var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if(service_type=='DATACARD'){
            
             var par='table=IPEX_DATACARD_SERV_TRANS_DETAILS&field=DATACARD_NUMBER&';
         }else if(service_type=='DTH'){
            
             var par='table=IPEX_DTH_SERV_TRANS_DETAILS&field=CUSTOMER_DTH_NUM&';
         }else if( service_type=='ECOMMERCE'){
             
             var par='table= IPEX_ECOMMERCE_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if( service_type=='EVENTTICKET'){
            
             var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if( service_type=='MINIATM'){
           
             var par='table=IPEX_MINIATM_SERV_TRANS_DETAILS&field=MOBILE_NO&';
         }else {
           
            var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }
        var path = par+"order_id="+order_id+"&f_date="+f_date+"&to_date="+to_date+"&clientid="+clientid+"&service_type="+service_type+"&operator_name="+operator_name+"&ph_no="+ph_no;
        $('#alter').load('orderDetailsIPEX_BB.php',path);
    }
 
function searchOrdersIPEX_GV()
{
var url = "searchOrdersIPEX_GV.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX ORDERS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
}

function order_DetailsIPEX_GV()
    {
        
$("#loader").show();
        var order_id =$("#order_id").val();
        var f_date = $("#f_date").val();
         var to_date =$("#to_date").val();
         var clientid  =$("#clientid").val();
          var ph_no  =$("#ph_no").val();
         var service_type=$("#service_type").val();
         var operator_name = $("#operator_name").val();
         //alert(service_type);return false;
         if(service_type=='BILLPAYMENT'){
            
             var par='table=IPEX_BILLPAYMENT_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE&';
         }else if(service_type=='BUS'){
             
            var par= 'table= IPEX_BUS_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='MOBILE'){
            
             var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }else if(service_type=='POSTPAID'){
            
             var par='table=IPEX_POSTPAID_SERV_TRANS_DETAILS&field=MOBILE_NUMBER&';
         }else if(service_type=='AIRTICKET'){
            
             var par='table=IPEX_AIRTICKET_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='CANCELLATIONSERVICE'){
           
                     var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if(service_type=='DATACARD'){
            
             var par='table=IPEX_DATACARD_SERV_TRANS_DETAILS&field=DATACARD_NUMBER&';
         }else if(service_type=='DTH'){
            
             var par='table=IPEX_DTH_SERV_TRANS_DETAILS&field=CUSTOMER_DTH_NUM&';
         }else if( service_type=='ECOMMERCE'){
             
             var par='table= IPEX_ECOMMERCE_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if( service_type=='EVENTTICKET'){
            
             var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if( service_type=='MINIATM'){
           
             var par='table=IPEX_MINIATM_SERV_TRANS_DETAILS&field=MOBILE_NO&';
         }else if( service_type=='GAMES'){
           
             var par='table=IPEX_GAME_VOUCHER_SERV_TRANS_DETAILS&';
         }else {
           
            var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }
        var path = par+"order_id="+order_id+"&f_date="+f_date+"&to_date="+to_date+"&clientid="+clientid+"&service_type="+service_type+"&operator_name="+operator_name+"&ph_no="+ph_no;
        $('#alter').load('orderDetailsIPEX_GV.php',path);
    }
 

/*For IPEX SUB menus*/
/*For kcps buluload address*/


function addShopAddress(){
        var url = "shopUploadFile.php";
                    var path = "";
                        var divid = "#alter";
                      <?php  
                       $access = "update";
                       $objects = "SMS DATA";

                       $rolls =  check_rolls($usertype,$access,$objects);
                     ?>
                      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
      
    }

/*For kcps buluload address*/



/*submenus for TT and INSURANCE*/

function searchOrdersIPEX_TT()
{
var url = "searchOrdersIPEX_TT.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX ORDERS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
}

function searchOrdersIPEX_INS()
{
var url = "searchOrdersIPEX_INS.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX ORDERS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
}

function agentDetails()
    { 
           var mobile_no = $("#mobile_no").val();
           var kcp_id = $("#kcp_id").val();
           var processstatus = $("#processstatus").val();
           var from_date = $("#from_date").val();
            var to_date = $("#to_date").val();
              
         var path = "&kcp_id="+kcp_id+"&mobile_no="+mobile_no+"&processstatus="+processstatus+"&from_date="+from_date+"&to_date="+to_date;
         $('#alter').load("agentDetails.php",path);
       
    }

function viewBniAgent(bniagentid,status)
            {
                        var url = "viewBniAgent.php";
                        var path = "agentid="+bniagentid+"&orderstatus="+status;
                        var divid = "#popup_billprocess";
                        var width = 1100;
                        var height = 670;
                        var title = 'Agent Details.';
                        <?php
                        $access = "view";
                        $objects = "ECOMMERCE IPEX ORDERS";

                        $rolls = check_rolls($usertype, $access, $objects);
                        ?>
                          $('.search_table2 tr.buslayout').remove();
                        checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
               
            }


function bniAgents()
    {
        var url = "bniAgentSearch.php";
        var path= "";
        var divid = "#alter";
      <?php  
       $access = "search";
       $objects = "ECOMMERCE";

       $rolls =  check_rolls($usertype,$access,$objects);
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

function invoiceGeneration()
    {
        var url = "searchInvoiceGenerationPrint.php";
        var path= "";
         var divid = "#alter";
       <?php
       $access = "search";
       $objects = "ECOMMERCE";

       $rolls = check_rolls($usertype, $access, $objects);
       ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

function invoiceGenerationSearch()
    {
        $("#loader").show();
        var order_id = $("#ecomorder_id").val();
        var fromdate =$("#prod_from_date").val();
        var todate = $("#prod_to_date").val();
        var kcp_id = $("#kcp_id").val();
        var prod_id = $("#prod_id").val();
        kcp_id = escape(kcp_id);
        prod_id = escape(prod_id);
        var processstatus = $("#processstatus").val();
        $('#ecommerceorders').attr('value', 'Searching');
        var path = "fromdate="+fromdate+"&todate="+todate+"&order_id="+order_id+"&processstatus="+processstatus+"&kcp_id="+kcp_id+"&prod_id="+prod_id;
        $('#alter').load("invoiceGenereationPrint.php",path);
    }

function order_DetailsIPEX_TT()
{
        $("#loader").show();
        var order_id =$("#order_id").val();
        var f_date = $("#f_date").val();
         var to_date =$("#to_date").val();
         var clientid  =$("#clientid").val();
          var ph_no  =$("#ph_no").val();
         var service_type=$("#service_type").val();
         var operator_name = $("#operator_name").val();
         //alert(service_type);return false;
         if(service_type=='BILLPAYMENT'){
            
             var par='table=IPEX_BILLPAYMENT_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE&';
         }else if(service_type=='BUS'){
             
            var par= 'table= IPEX_BUS_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='MOBILE'){
            
             var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }else if(service_type=='POSTPAID'){
            
             var par='table=IPEX_POSTPAID_SERV_TRANS_DETAILS&field=MOBILE_NUMBER&';
         }else if(service_type=='AIRTICKET'){
            
             var par='table=IPEX_AIRTICKET_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='CANCELLATIONSERVICE'){
           
                     var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if(service_type=='DATACARD'){
            
             var par='table=IPEX_DATACARD_SERV_TRANS_DETAILS&field=DATACARD_NUMBER&';
         }else if(service_type=='DTH'){
            
             var par='table=IPEX_DTH_SERV_TRANS_DETAILS&field=CUSTOMER_DTH_NUM&';
         }else if( service_type=='ECOMMERCE'){
             
             var par='table= IPEX_ECOMMERCE_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if( service_type=='EVENTTICKET'){
            
             var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if( service_type=='MINIATM'){
           
             var par='table=IPEX_MINIATM_SERV_TRANS_DETAILS&field=MOBILE_NO&';
         }else {
           
            var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }
        var path = par+"order_id="+order_id+"&f_date="+f_date+"&to_date="+to_date+"&clientid="+clientid+"&service_type="+service_type+"&operator_name="+operator_name+"&ph_no="+ph_no;
        $('#alter').load('orderDetailsIPEX_TT.php',path);
           
    }
     function order_DetailsIPEX_INS()
    {
        
$("#loader").show();
        var order_id =$("#order_id").val();
        var f_date = $("#f_date").val();
         var to_date =$("#to_date").val();
         var clientid  =$("#clientid").val();
          var ph_no  =$("#ph_no").val();
         var service_type=$("#service_type").val();
         var operator_name = $("#operator_name").val();
         //alert(service_type);return false;
         if(service_type=='BILLPAYMENT'){
            
             var par='table=IPEX_BILLPAYMENT_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE&';
         }else if(service_type=='BUS'){
             
            var par= 'table= IPEX_BUS_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='MOBILE'){
            
             var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }else if(service_type=='POSTPAID'){
            
             var par='table=IPEX_POSTPAID_SERV_TRANS_DETAILS&field=MOBILE_NUMBER&';
         }else if(service_type=='AIRTICKET'){
            
             var par='table=IPEX_AIRTICKET_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='CANCELLATIONSERVICE'){
           
                     var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if(service_type=='DATACARD'){
            
             var par='table=IPEX_DATACARD_SERV_TRANS_DETAILS&field=DATACARD_NUMBER&';
         }else if(service_type=='DTH'){
            
             var par='table=IPEX_DTH_SERV_TRANS_DETAILS&field=CUSTOMER_DTH_NUM&';
         }else if( service_type=='ECOMMERCE'){
             
             var par='table= IPEX_ECOMMERCE_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if( service_type=='EVENTTICKET'){
            
             var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if( service_type=='MINIATM'){
           
             var par='table=IPEX_MINIATM_SERV_TRANS_DETAILS&field=MOBILE_NO&';
         }else {
           
            var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }
        var path = par+"order_id="+order_id+"&f_date="+f_date+"&to_date="+to_date+"&clientid="+clientid+"&service_type="+service_type+"&operator_name="+operator_name+"&ph_no="+ph_no;
        $('#alter').load('orderDetailsIPEX_INS.php',path);
           
    }

function searchOrdersIPEX_MF()
{
var url = "searchOrdersIPEX_MF.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "IPEX ORDERS";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
}
function order_DetailsIPEX_MF()
    {
        
$("#loader").show();
        var order_id =$("#order_id").val();
        var f_date = $("#f_date").val();
         var to_date =$("#to_date").val();
         var clientid  =$("#clientid").val();
          var ph_no  =$("#ph_no").val();
         var service_type=$("#service_type").val();
         var operator_name = $("#operator_name").val();
         //alert(service_type);return false;
         if(service_type=='BILLPAYMENT'){
            
             var par='table=IPEX_BILLPAYMENT_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE&';
         }else if(service_type=='BUS'){
             
            var par= 'table= IPEX_BUS_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='MOBILE'){
            
             var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }else if(service_type=='POSTPAID'){
            
             var par='table=IPEX_POSTPAID_SERV_TRANS_DETAILS&field=MOBILE_NUMBER&';
         }else if(service_type=='AIRTICKET'){
            
             var par='table=IPEX_AIRTICKET_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if(service_type=='CANCELLATIONSERVICE'){
           
                     var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if(service_type=='DATACARD'){
            
             var par='table=IPEX_DATACARD_SERV_TRANS_DETAILS&field=DATACARD_NUMBER&';
         }else if(service_type=='DTH'){
            
             var par='table=IPEX_DTH_SERV_TRANS_DETAILS&field=CUSTOMER_DTH_NUM&';
         }else if( service_type=='ECOMMERCE'){
             
             var par='table= IPEX_ECOMMERCE_SERV_TRANS_DETAILS&field=MOBILE_NUM&';
         }else if( service_type=='EVENTTICKET'){
            
             var par='table=IPEX_BUS_PASSENGER_DATA&field=PASSENGER_MOBILE&';
         }else if( service_type=='MINIATM'){
           
             var par='table=IPEX_MINIATM_SERV_TRANS_DETAILS&field=MOBILE_NO&';
         }else {
           
            var par='table=IPEX_MOBILE_SERV_TRANS_DETAILS&field=CUSTOMER_MOBILE_NUM&';
         }
        var path = par+"order_id="+order_id+"&f_date="+f_date+"&to_date="+to_date+"&clientid="+clientid+"&service_type="+service_type+"&operator_name="+operator_name+"&ph_no="+ph_no;
        $('#alter').load('orderDetailsIPEX_MF.php',path);
           
    }


/*submenus for TT and INSURANCE and MF*/

/*For kcp paymentreports*/
function KCPpaymentReports()
    {
        var url = "searchKCP_PaymentReports.php";
        var path= "";
        var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "kcppayments";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
function kcp_payment_search()
    {
$("#loader").show();
        var kcp_id =$("#kcp_id").val();
          var kcc_id=$("#kcc_id").val();
          var kcp_payment_mode = $("#kcp_payment_mode").val();
        var f_date = $("#f_date").val();
         var to_date =$("#to_date").val();
//         alert(kcp_id);
//         alert(kcc_id);
//         alert(kcp_payment_mode);
//         alert(f_date);
//         alert(to_date);
         
        // alert(service_type);
         var path = "kcp_id="+kcp_id+"&kcc_id="+kcc_id+"&payment_mode="+kcp_payment_mode+"&f_date="+f_date+"&to_date="+to_date;
//        alert(path);
        $('#alter').load("kcpPaymentDetails.php",path);
           
    }

/*For kcp paymentreports*/


function loadkccbeatguy(kcc){
         var district = escape(district);
        var path = "kcc="+kcc;
        $("#acquired_beatguy").removeAttr("disabled");
        $("#acquired_beatguy").load("loadKccBeatguy.php",path);
        
    }


 function searchDanamasReg()
    {
                        var path= "";   
                        var url = "searchDanamasRegistration.php";
                        var divid = "#alter";
                          <?php   
                           $access = "search";
                           $objects = "DENAMAS";
 $rolls =  check_rolls($usertype,$access,$objects); 
       ?>
  checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
      }
        
 function searchdanamas()
    {
                        var path = $('#danamas_kcp_search').serialize();
                        var url = "searchDanamasdets.php";
                        var divid = "#alter";
                          <?php   
                           $access = "search";
                           $objects = "DENAMAS";
 $rolls =  check_rolls($usertype,$access,$objects); 
       ?>
  checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
      } 

function viewdanamaskcp(orderid,kcpname,idcard,mobileno,businessname,email){
                       var url = "viewdanamaskcp.php";
                               var path = "orderId="+orderid+"&kcpname="+kcpname+"&idcard="+idcard+"&mobileno="+mobileno+"&businessname="+businessname+"&email="+email;
                        var divid = "#alter";
                      <?php   
                       $access = "view";
                       $objects = "ICP";
                       $objects2 = "ECOMMERCE_kimo";

                       if($usertype =='kimo'){
                         $rolls = check_rolls($usertype,$access,$objects2);
                       }else{
                          $rolls =  check_rolls($usertype,$access,$objects); 
                       }
                       // $rolls =  check_rolls($usertype,$access,$objects); 
                     ?>
      checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
 }

function backtosearchDanamasdets(orderId,kcpname,idcard,mobileno,businessname,email)
   {
       var path = "orderId="+orderId+"&kcpname="+kcpname+"&idcard="+idcard+"&mobileno="+mobileno+"&businessname="+businessname+"&email="+email;
        $('#alter').load("searchDanamasdets.php",path);
   }



 // LOAN PAYMENTS MENU
    function loanPayments()
    {
        var url = "loanPaymentSearch.php";
        var path= "";
        var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
   function loanPaymentOrderDetails()
    {  
        $("#loader").show();
        var order_id =$("#ecomorder_id").val();
        var kcp_id = $("#kcpId").val();
        var trans_type = $("#trans_type").val();
        var f_date = $("#prod_from_date").val();
        var to_date =$("#prod_to_date").val();
        var process_status = $("#processstatus").val(); 
        var service_type = $("#service_type").val();
        var path = "orderId="+order_id+"&f_date="+f_date+"&to_date="+to_date+"&kcp_id="+kcp_id+"&service_type="+service_type+"&trans_type="+trans_type+"&process_status="+process_status;
        $('#alter').load("loanPaymentOrderDetails.php",path);
    
       
    }


function viewDanamasTrans(orderid)
    {
         var url = "viewDanamasTrans.php";
         var path = "orderid=" + orderid;
         var divid = "#popup_billprocess";
         var width = 1100;
         var height = 670;
         var title = 'Danamas Service Transactions';
         <?php
            $access = "view";
            $objects = "ECOMMERCE IPEX ORDERS";

            $rolls = check_rolls($usertype, $access, $objects);
         ?>
         $('.search_table2 tr.buslayout').remove();
         checkaunthentic_popup(url, path, divid, "<?php echo $rolls; ?>", width, height, title);
    }
    function viewLoanPayments(orderid)
            {
                        var url    = "viewLoanPayments.php";
                        var path   = "orderid="+orderid;
                        var divid  = "#popup_billprocess";
                        var width  = 1100;
                        var height = 670;
                        var title  = 'Loan Payments';
                        <?php
                        $access  = "view";
                        $objects = "ECOMMERCE IPEX ORDERS";
                        $objects2 = "ECOMMERCE_kimo";

                         if($usertype =='kimo'){
                           $rolls = check_rolls($usertype,$access,$objects2);
                         }else{
                            $rolls =  check_rolls($usertype,$access,$objects); 
                         }
                        ?>
                          $('.search_table2 tr.buslayout').remove();
                        checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
               
}
   
function searchDanamasLoanSubmissions()
    {
    
        var url = "searchDanamasLoanSubmissions.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE";

       $objects2 = "ECOMMERCE_kimo";

       
       if($usertype =='kimo'){
         $rolls = check_rolls($usertype,$access,$objects2);
       }else{
          $rolls =  check_rolls($usertype,$access,$objects); 
       }
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
     }

    function danamasLoanSubmissionDetails()
    {
       
        var order_id = $("#ecomorder_id").val();
        var fromdate =$("#prod_from_date").val();
        var todate = $("#prod_to_date").val();
        var processstatus = $("#processstatus").val();
        var fstatus = $("#fstatus").val();
        var kcp_id = $("#kcp_id").val();
        $("#loader").show();
        $('#ecommerceorders').attr('value', 'Searching');
        var path = "fromdate="+fromdate+"&todate="+todate+"&order_id="+order_id+"&processstatus="+processstatus+"&kcp_id="+kcp_id+"&fstatus="+fstatus;
        $('#alter').load("danamasLoanSubmissionDetails.php",path);
    }
    function updateDanamasLoanSubmissionProcess(orderid)
    {
        
        var orderid;
        var referenceid = $("#texrefer_emomordridp").val();
        var status = $("#ecomorder_prc_statusp").val();
        var processed_date = $("#processed_date").val();
        var shipped_date = $("#shipped_date").val();
        var delivered_date = $("#delivered_date").val(); 
        var p_comments = $("#processedComments").val();
        var d_comments = $("#deliveredComments").val();
        var s_comments = $("#shippedComments").val();
        
        var error_code = 0;
        var refIDErrorMessage = "Please Enter ReferenceID";
        var dateErrorMessage = "Please Enter Date";
        var CommentErrorMessage = "Please Enter Comments";
        var StatusErrorMessage = "Please Select Status";
        if (trim(status).length == 0)
        {
            document.getElementById("errorMessage").innerHTML = StatusErrorMessage;
            document.getElementById("ecomorder_prc_statusp").focus();
            error_code = 1;
            return false;
        }
        if (trim(status) == "PROCESSED")
        {
            if (trim(processed_date) == "0000-00-00")
            {
                document.getElementById("errorMessage").innerHTML = "Please Select Processed Date";
                document.getElementById("processed_date").focus();
                error_code = 1;
                return false;
            }
            if (trim(referenceid).length == 0)
            {
                document.getElementById("errorMessage").innerHTML = refIDErrorMessage;
                document.getElementById("texrefer_emomordridp").focus();
                error_code = 1;
                return false;
            }
        }
        
        
        var CommentErrorMessagespe = "Special charecters are not allowed in comments";
        var re = /^[ A-Za-z0-9. #]*$/
        

        if (error_code != 1) {

            $('#btnproceess').attr('disabled', 'disabled');
            //$('btnproceess').attr('disabled','disabled');
            document.getElementById("errorMessage").innerHTML = "";
            status = escape(status);
            var path = "status=" + status + "&orderid=" +orderid+
                        "&processed_date=" + processed_date+
                        "&shipped_date=" +shipped_date+
                        "&delivered_date=" +delivered_date +
                        "&processed_comments=" +p_comments +
                        "&shipped_comments=" +s_comments + 
                        "&delivered_comments=" +d_comments;
            $("#popup_billprocess").load("updateLoanSubmissionStatus.php", path);
            return true;

        }
    }
     function viewLoanSubmission(orderid, name)
    {
         var url = "viewLoanSubmissions.php";
         var path = "orderid=" + orderid + "&name="+name;
         var divid = "#popup_billprocess";
         var width = 1100;
         var height = 670;
         var title = 'Danamas Loan Submissions';
         <?php
            $access = "view";
            $objects = "ECOMMERCE IPEX ORDERS";
            $objects2 = "ECOMMERCE_kimo";

       
            if($usertype =='kimo'){
              $rolls = check_rolls($usertype,$access,$objects2);
            }else{
               $rolls =  check_rolls($usertype,$access,$objects); 
            }
         ?>
         $('.search_table2 tr.buslayout').remove();
         checkaunthentic_popup(url, path, divid, "<?php echo $rolls; ?>", width, height, title);
    }
function creditDanamas(current_limit,email, kcpid){
        var currents_limits =  $("#current_limit").val();
        //var error_code = 0;
        if(currents_limits == null || currents_limits == "")
        {
            alert("Please enter Limit");
            return false;
        } else {
            var path = "creditlimit=" + currents_limits + "&email=" + email + "&retailerId=" + kcpid;
            var url     = "updateCreditDanamas.php";
            var divid   = "#alter";
         //alert("Please enter Limit"+path);
            <?php   
                $access     = "edit";
                $objects    = "DENAMAS";
                $rolls =  check_rolls($usertype,$access,$objects);    
            ?>

            checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
            //return true;
            //$("#errorMessage1").load("updateCreditDanamas.php", path);alert("a " + path);
            return true;
        }
    }



function searchDanamasLoanDisbursement()
    {
    
        var url = "searchDanamasLoanDisbursement.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE";
       $objects2 = "ECOMMERCE_kimo";

       if($usertype=='kimo'){
        $rolls =  check_rolls($usertype,$access,$objects2);  
       }else{
          $rolls =  check_rolls($usertype,$access,$objects); 
        
       }
       
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
     }
     function danamasLoanDisbursementDetails()
    {
       
        var order_id = $("#ecomorder_id").val();
        var fromdate =$("#prod_from_date").val();
        var todate = $("#prod_to_date").val();
        var kcp_id = $("#kcp_id").val();
        
        $("#loader").show();
        $('#ecommerceorders').attr('value', 'Searching');
        var path = "fromdate="+fromdate+"&todate="+todate+"&order_id="+order_id+"&kcp_id="+kcp_id;
        $('#alter').load("danamasLoanDisbursementDetails.php",path);
    }
    function viewLoanDisbursement(orderid)
    {
         var url = "viewLoanDisbursement.php";
         var path = "orderid=" + orderid + "&name="+name;
         var divid = "#popup_billprocess";
         var width = 1100;
         var height = 670;
         var title = 'Danamas Loan Disbursement';
         <?php
            $access = "view";
            $objects = "ECOMMERCE IPEX ORDERS";
            $objects2 = "ECOMMERCE_kimo";

       
            if($usertype =='kimo'){
              $rolls = check_rolls($usertype,$access,$objects2);
            }else{
               $rolls =  check_rolls($usertype,$access,$objects); 
            }
         ?>
         $('.search_table2 tr.buslayout').remove();
         checkaunthentic_popup(url, path, divid, "<?php echo $rolls; ?>", width, height, title);
    }
    function viewLoanDisbursement1(orderId, transCode)
    {
         var url = "viewLoanDisbursement1.php";
         var path = "transCode="+transCode+"&orderId="+orderId;
         var divid = "#ipex_orders_dets";
         var width = 900;
         var height = 600;
         var title = 'Danamas Loan Disbursement';
         <?php  
         $access = "view";
         $objects = "ORDERS";
         $rolls =  check_rolls($usertype,$access,$objects);
         ?>
         checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
     }
// LOAN DISBURSEMENT ENDS HERE.

//  Loan Payment order details
function searchDanamasLoanPayments()
    {
    
        var url = "searchDanamasLoanPayments.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE";
       $objects2 = "ECOMMERCE_kimo";

       if($usertype=='kimo'){
        $rolls =  check_rolls($usertype,$access,$objects2);  
       }else{
        $rolls =  check_rolls($usertype,$access,$objects); 
       }
       
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
     }
     function danamasLoanPaymentDetails()
    {
        var order_id = $("#ecomorder_id").val();
        var fromdate =$("#prod_from_date").val();
        var todate = $("#prod_to_date").val();
        var processstatus = $("#processstatus").val();
        var fstatus = $("#fstatus").val();
        var kcp_id = $("#kcp_id").val();
        $("#loader").show();
        $('#ecommerceorders').attr('value', 'Searching');
        var path = "fromdate="+fromdate+"&todate="+todate+"&order_id="+order_id+"&kcp_id="+kcp_id+"&processstatus="+processstatus+"&fstatus="+fstatus;
        $('#alter').load("danamasLoanPaymentDetails.php",path);
    }


// VIRTUAL ACCOUNT BANK SINARMAS STARTS HERE. 
function searchBankSinarmas()
    {
    
        var url = "searchBankSinarmas.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
     }
     function bankSinarmasOrderDetails()
    {
       
        var mob_no = $("#mob_no").val();
        var fromdate =$("#prod_from_date").val();
        var todate = $("#prod_to_date").val();
        var processstatus = $("#processstatus").val();
        var k_p_status = $("#k_p_status").val();
        
        $("#loader").show();
        $('#ecommerceorders').attr('value', 'Searching');
        var path = "fromdate="+fromdate+"&todate="+todate+"&mob_no="+mob_no+"&processstatus="+processstatus+"&k_p_status="+k_p_status;
        $('#alter').load("bankSinarmasOrderDetails.php",path);
    }
    function viewBankSinarmas(transId)
    {
         var url = "viewBankSinarmas.php";
         var path = "transId=" + transId;
         var divid = "#popup_billprocess";
         var width = 1100;
         var height = 670;
         var title = 'Bank Sinarmas Order Details';
         <?php
            $access = "view";
            $objects = "ECOMMERCE IPEX ORDERS";

            $rolls = check_rolls($usertype, $access, $objects);
         ?>
         $('.search_table2 tr.buslayout').remove();
         checkaunthentic_popup(url, path, divid, "<?php echo $rolls; ?>", width, height, title);
    }

function removeActiveBannerImage(imageid){
        var path = "imageid="+imageid;
        $("#alter").load("removeActiveBannerImage.php",path);
    }



function searchDanamasPreReg(){
        var path    = $('#danamas_kcp_search').serialize();
        var url     = "searchDanamasPreRegistration.php";
        var divid   = "#alter";
        
        <?php   
            $access     = "search";
            $objects    = "DENAMAS";
            $rolls      = check_rolls($usertype,$access,$objects); 
        ?>
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

	function getDanamasData(){
        var path    = $('#danamas_kcp_search').serialize();
        var url     = "searchDanamasPreRegDetails.php";
        var divid   = "#alter";
        
        <?php   
            $access     = "search";
            $objects    = "DENAMAS";
            $rolls      = check_rolls($usertype,$access,$objects); 
       ?>
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
	
	function danamasPreReg(){
        var url     = "danamasPreReg.php";
        var path    = "";
        var divid   = "#alter";
        
        <?php   
            $access = "create";
            $objects = "DANAMAS";
            $rolls =  check_rolls($usertype,$access,$objects); 
        ?>
        
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");    
    }
	
	function postDanamasPreReg(){
        var kcp_id          = $("#kcp_id").val();
        var nama            = $("#nama").val();
        var tempat_lahir    = $("#tempat_lahir").val();
        var tanggal_lahir   = $("#tanggal_lahir").val();
        var no_ktp          = $("#no_ktp").val();
        var jenis_kelamin   = $("#jenis_kelamin").val();
        var plafon          = $("#plafon").val();
        
        if(kcp_id == null || kcp_id == "" || nama == null || nama == "" || tempat_lahir == null || tempat_lahir == "" ||
                tanggal_lahir == null || tanggal_lahir == "" || no_ktp == null || no_ktp == "" || jenis_kelamin == null ||
                jenis_kelamin == "" || plafon == null || plafon == ""){
            alert("Please completed form");
            return false;
        } else {
            var path = "kcp_id=" + kcp_id +
                    "&nama=" + nama +
                    "&tempat_lahir=" + tempat_lahir +
                    "&tanggal_lahir=" + tanggal_lahir +
                    "&no_ktp=" + no_ktp +
                    "&jenis_kelamin=" + jenis_kelamin +
                    "&plafon=" + plafon;
            $("#errorMessage11").load("insertDanamasPreReg.php", path);
            return true;
        }
    }

    
// VIRTUAL ACCOUNT BANK ENDS HERE.

function topUpReport(){
        var path    = $('#top_up_search').serialize();
        var url     = "topUpReport.php";
        var divid   = "#alter";
        
        <?php   
            $access     = "search";
            $objects    = "TOP UP REPORT";
            $rolls      = check_rolls($usertype,$access,$objects); 
        ?>
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    
    function searchTopUpDets(){
        var a = $('#top_up_search').serialize();
        $('#alter').load("searchTopUpDets.php",a);
    }


function updateDanamasRegistration(orderId, status, kcpname, idcard, mobileno, businessname, email){

   
        if(status == 'approve'){
//alert(""+orderId);
            var plafon  = $("#current_limit").val();
            var path    = "orderId=" + orderId + "&status=approve&plafon=" + plafon + "&kcpname=" + kcpname + "&idcard=" + idcard + "&mobileno=" + mobileno + "&businessname=" + businessname + "&email=" + email;
            //var path    = "orderId=" + orderId + "&status=approve&plafon=" + plafon;
        } else if(status == 'reject'){
            var path    = "orderId=" + orderId + "&status=reject&plafon=0&kcpname=" + kcpname + "&idcard=" + idcard + "&mobileno=" + mobileno + "&businessname=" + businessname + "&email=" + email;
        }
       
        var url     = "updateDanamasRegistration.php";
        var divid   = "#alter";
      
        <?php   
            $access     = "edit";
            $objects    = "DENAMAS";
            $rolls =  check_rolls($usertype,$access,$objects);    
        ?>
                
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        return true;
    }

//beat guy debit functions by zian


function debitReport(){
        var path    = $('#debit_report_search').serialize();
        var url     = "debitReport.php";
        var divid   = "#alter";
        
        <?php   
            $access     = "search";
            $objects    = "DEBIT REPORT";
            $rolls      = check_rolls($usertype,$access,$objects); 
        ?>
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    
    function debitReportDets(){
        var beatguyid = $("#beatguyid").val();
        var path = "beatguyid=" + beatguyid;
        $('#alter').load("debitReportDets.php", path);
    }


function retailerReferedbyCode(){
        var path    = $('#refered_search').serialize();
        var url     = "kcpReferedReport.php";
        var divid   = "#alter";
        
        <?php   
            $access     = "search";
            $objects    = "REFERED REPORT";
            $rolls      = check_rolls($usertype,$access,$objects); 
        ?>
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    
    function retailerReferedbyCodeDets(){
        var kcpid       = $("#kcpid").val();
        var referalcode = $("#referalcode").val();
        var referedkcp  = $("#referedkcp").val();
        var path = "kcpid=" + kcpid + "&referalcode=" + referalcode + "&referedkcp=" + referedkcp;
        $('#alter').load("kcpReferedReportDets.php", path);
    }


function loadVendorSms(){
        var path    = "message=";
        var url     = "smsVendor.php";
        var divid   = "#alter";
        
        <?php  
            $access     = "update";
            $objects    = "SMS_VENDOR";
            $rolls      = check_rolls($usertype,$access,$objects);
        ?>
                
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

function updateVendorSms(form){
        var yourArray = [];
        $("input:checkbox[name=" + form + "_vendor]:checked").each(function(){
            yourArray.push($(this).val());
        });
        
        var path    = "prefix=" + form + "&selectedVendor=" + yourArray;
        var url     = "updateVendorSms.php";
        var divid   = "#alter";
        
        <?php  
            $access     = "update";
            $objects    = "SMS_VENDOR";
            $rolls      = check_rolls($usertype,$access,$objects);
        ?>
                
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
        //alert(yourArray);
    }

function debitReports(){
        var path    = $('#debit_report_search').serialize();
        var url     = "debitReportMin.php";
        var divid   = "#alter";
        
        <?php   
            $access     = "search";
            $objects    = "DEBIT REPORT";
            $rolls      = check_rolls($usertype,$access,$objects); 
        ?>
        checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    
    function debitReportsMinDets(){
        var beatguyid       = $("#beatguyid").val();
        var distrtibuter_id = $("#distributer_id").val();
        
        var path = "beatguyid=" + beatguyid + "&distributer_id=" + distrtibuter_id;
        $('#alter').load("debitReportMinDets.php", path);
    }

    // VIRTUAL ACCOUNT BANK BRI STARTS HERE
function searchBankBRI()
    {
    
        var url = "searchBankBRI.php";
        var path= "";
         var divid = "#alter";
      <?php   
       $access = "search";
       $objects = "ECOMMERCE";

       $rolls =  check_rolls($usertype,$access,$objects); 
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
       
     }
     function bankBRIOrderDetails()
    {
       
        var mob_no = $("#mob_no").val();
        var fromdate =$("#prod_from_date").val();
        var todate = $("#prod_to_date").val();
        var processstatus = $("#processstatus").val();
        var k_p_status = $("#k_p_status").val();
        var kcp_id = $("#kcp_id").val();
        
        $("#loader").show();
        $('#ecommerceorders').attr('value', 'Searching');
        var path = "fromdate="+fromdate+"&todate="+todate+"&mob_no="+mob_no+"&processstatus="+processstatus+"&k_p_status="+k_p_status+"&kcp_id="+kcp_id;
        $('#alter').load("bankBRIOrderDetails.php",path);
    }
    function viewBankBRI(transId)
    {
         var url = "viewBankBRI.php";
         var path = "transId=" + transId;
         var divid = "#popup_billprocess";
         // var divid = "#alter";
         var width = 1100;
         var height = 670;
         var title = 'Bank BRI Order Details';
         <?php
            $access = "view";
            $objects = "ECOMMERCE IPEX ORDERS";

            $rolls = check_rolls($usertype, $access, $objects);
         ?>
         $('.search_table2 tr.buslayout').remove();
         checkaunthentic_popup(url, path, divid, "<?php echo $rolls; ?>", width, height, title);
         // checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
    //VIRTUAL ACCOUNT BANK BRI ENDS HERE
	
	//START PAYOUT COMMISSION
      function searchPayoutCommission()
      {
          var url = "searchPayoutCommission.php";
          var path = "";
           var divid = "#alter";
        <?php   
         $access = "search";
         $objects = "PAYOUT_COMMISSION";

         $rolls =  check_rolls($usertype,$access,$objects); 
        ?>
         checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
           
              
      }

      function editPayout(sub_service_name){
          // alert(sub_service_name);
            <?php   
              $access = "search";
              $objects = "PAYOUT_COMMISSION";
              
               $rolls =  check_rolls($usertype,$access,$objects); 
             ?>
                     var rolls = "<?php echo $rolls; ?> ";
              <?php 
              if($_SESSION["usertype"] == "Admin"){ ?>

                var new_value = "<?php echo md5($_SESSION["usertype"]); ?>"; 
                              
                                   $.ajax({
                          type: 'post',
                         url: 'authinticate.php?s_name='+new_value,
                         
                          async:false,
                        beforeSend: function() {
                            
                                        },
                        complete: function() {
                             
                        },
                       success: function(result) {
                        // alert(sub_service_name);
                        var nominal = $('#commission'+sub_service_name).val();
                        var description = $('#description'+sub_service_name).val();
                        nominal = nominal.replace(/\,/g,'');
                        nominal = parseInt(nominal,10);
                          $('#commission'+sub_service_name).val(nominal);
                          $("#commission"+sub_service_name).removeAttr("disabled");
                          $('#commission'+sub_service_name).css('background-color','white');
                          $("#status"+sub_service_name).removeAttr("disabled");
                          $('#status'+sub_service_name).css('background-color','white');
                          $('#description'+sub_service_name).val(description);
                          $('#description'+sub_service_name).removeAttr('disabled');
                          $('#description'+sub_service_name).css('background-color','white');
                          // $("#Priority"+sub_service_name).removeAttr("disabled");
                          $("#edit"+sub_service_name).css("display", "none");
                          $("#save"+sub_service_name).css("display", "block");
                        }

                    });
           <?php  }
            else{?>
               if(trim(rolls) == "yes") {
                    
                    var new_value = "<?php echo md5($_SESSION["usertype"]); ?>";
                    $.ajax({
                          type: 'post',
                         url: 'authinticate.php?s_name='+new_value,
                         
                          async:false,
                        beforeSend: function() {
                            
                                        },
                        complete: function() {
                             
                        },
                       success: function(result) {
                         var nominal = $('#commission'+sub_service_name).val();
                        var description = $('#description'+sub_service_name).val();
                        nominal = nominal.replace(/\,/g,'');
                        nominal = parseInt(nominal,10);
                          $('#commission'+sub_service_name).val(nominal);
                          $("#commission"+sub_service_name).removeAttr("disabled");
                          $('#commission'+sub_service_name).css('background-color','white');
                        $("#status"+sub_service_name).removeAttr("disabled");
                        $('#status'+sub_service_name).css('background-color','white');
                         // $("#Priority"+sub_service_name).removeAttr("disabled");
                         $('#description'+sub_service_name).val(description);
                        $('#description'+sub_service_name).removeAttr('disabled');
                        $('#description'+sub_service_name).css('background-color','white');
                         $("#edit"+sub_service_name).css("display", "none");
                         $("#save"+sub_service_name).css("display", "block");
                        }

                    });
                    
                    
                     }
            else {
             alert("You Dont Have Access Towards This Page");
            }
            
            <?php } ?>  
      }

      function savePayout(sub_service_name){


        
          // var lcrid;

         var komisi = $("#commission"+sub_service_name).val();
         // alert(commission);
         var description = $('#description'+sub_service_name).val();
         var status = $('#status'+sub_service_name+'>option:selected').val();

         // var validation = /^([1-9][0-9]*)|([0]+)$/;
         var validation = /^([1-9][0-9]*)$/;

        // alert(commission);
        if(komisi==0){
            function numberWithCommas(x) {
                  x = x.toString();
                  var pattern = /(-?\d+)(\d{3})/;
                  while (pattern.test(x))
                      x = x.replace(pattern, "$1,$2");
                  return x;
              }
              var send_data = "&sub_service_name="+sub_service_name+"&payout_total_fixed="+komisi+"&circle="+status+"&description="+description;

              $.ajax({
                  type: 'post',
                  url: 'updateCommission.php',
                  data: send_data,
                  async: false,
                  beforeSend: function() {

                  },
                  complete: function() {

                  },
                  success: function(result) {
                    $('#error_message_payout').css('display','block');
                    $("#error_message_payout").html("Update Success");
                      $('#commission'+sub_service_name).val(numberWithCommas(komisi));
                      $('#commission'+sub_service_name).attr('disabled','disabled');
                      $('#commission'+sub_service_name).css('background-color','#FFBE93');
                      $('#description'+sub_service_name).val(description);
                      $('#description'+sub_service_name).attr('disabled','disabled');
                      $('#description'+sub_service_name).css('background-color','#FFBE93');
                      $('#status'+sub_service_name).attr('disabled','disabled');
                      $('#status'+sub_service_name).css('background-color','#FFBE93');
                      $("#edit"+sub_service_name).css("display", "block");
                      $("#save"+sub_service_name).css("display", "none");
                  }

              });
        }else{
          if(!komisi.match(validation)){
                  $('#error_message_payout').css('display','block');
                  $("#error_message_payout").html("Please Enter Number Only");
                  $("#commission"+sub_service_name).focus();
                  $("#commission"+sub_service_name).css('background-color','#ffa0a0');
                  
                  return false;
          }else{
              function numberWithCommas(x) {
                  x = x.toString();
                  var pattern = /(-?\d+)(\d{3})/;
                  while (pattern.test(x))
                      x = x.replace(pattern, "$1,$2");
                  return x;
              }
              var send_data = "&sub_service_name="+sub_service_name+"&payout_total_fixed="+komisi+"&circle="+status+"&description="+description;

              $.ajax({
                  type: 'post',
                  url: 'updateCommission.php',
                  data: send_data,
                  async: false,
                  beforeSend: function() {

                  },
                  complete: function() {

                  },
                  success: function(result) {
                    $('#error_message_payout').css('display','block');
                    $("#error_message_payout").html("Update Success");
                      $('#commission'+sub_service_name).val(numberWithCommas(komisi));
                      $('#commission'+sub_service_name).attr('disabled','disabled');
                      $('#commission'+sub_service_name).css('background-color','#FFBE93');
                      $('#description'+sub_service_name).val(description);
                      $('#description'+sub_service_name).attr('disabled','disabled');
                      $('#description'+sub_service_name).css('background-color','#FFBE93');
                      $('#status'+sub_service_name).attr('disabled','disabled');
                      $('#status'+sub_service_name).css('background-color','#FFBE93');
                      $("#edit"+sub_service_name).css("display", "block");
                      $("#save"+sub_service_name).css("display", "none");
                  }

              });
            }
          }
      }
      
      
//END PAYOUT COMMISSION
	
  //START USSD
    function newUssd(){
        var url = "ussd.php";
        var path = "";
        var divid = "#alter";
        <?php  
         $access = "create";
         $objects = "COMMUNICATION USSD";

         $rolls =  check_rolls($usertype,$access,$objects);
        ?>
         checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

    function selected_ussd(val){
      if(val == "selected"){
        $('#select_kcp_ussd').css('display','block');
      }else{
        $('#select_kcp_ussd').css('display','none');
      }
    }

    function saveicpussd(){
      var ussd_campaign = $('#ussd_campaign').val();
      // alert(campaignArr);
      var ussdto_recipent = "KCP";
      var ussd_recipent = $('#ussd_recipent').val();
      var ussd_recipent_selected = $('#ussd_selected').val();
      var ussd_desc = $('#ussd_desc').val();
      var error_code=0;
      var validate_selected=/^(([a-zA-Z0-9]{4}),?)+$/;

      var kcpArr = ussd_recipent_selected.split(",");

      //validate campaign_name
      if(ussd_campaign == ""){
        $('#error_ussd').text("Please insert campaign name");
        $('#ussd_campaign').focus();
        error_code=1;
        return false;
      }


      //validate pushto
      if(ussd_recipent.length==0){
        $('#error_ussd').text("Please Select Recipent");
        $('#ussd_recipent').focus();
        error_code=1;
        return false;
      }

      //validate selected pushto
      if(ussd_recipent=="selected"){
        if(ussd_recipent_selected.length==0){
          $('#error_ussd').text("Please enter KCP ID");
          $('#ussd_desc').focus();
          error_code=1;
          return false;
        }else if(!ussd_recipent_selected.match(validate_selected)){
          $('#error_ussd').text("Please Enter KCP ID as example format!");
          $('#ussd_recipent_selected').focus();
          error_code=1;
          return false;
        }
      }

      //validate message description
      if(trim(ussd_desc).length==0){
        $('#error_ussd').text("Please Enter Message Description");
        $('#ussd_desc').focus();
        error_code=1;
        return false;
      }

      //validate length of message
      if(trim(ussd_desc).length>160){
        $('#error_ussd').text("Maximum allowed sms is 160 characters only");
        $('#ussd_desc').focus();
        error_code=1;
        return false;
      }

      //success validation
      if(error_code!=1){
        $('#loader').show();
        $('#icp_ussd').attr('disabled','disabled');
        $('#icp_ussd_clr').attr('disabled','disabled');
        $('#error_ussd').text("Please do not Close/Refresh the window");
        var path="";
        if(ussd_recipent=="selected"){
          path = "ussdto_recipent="+ussdto_recipent+"&ussd_recipent="+ussd_recipent+"&ussd_recipent_selected="+ussd_recipent_selected+"&ussd_desc="+ussd_desc+"&ussd_campaign="+ussd_campaign;
        }else{
          path = "ussdto_recipent="+ussdto_recipent+"&ussd_recipent="+ussd_recipent+"&ussd_desc="+ussd_desc+"&ussd_campaign="+ussd_campaign;
        }
        
        // $('#error_ussd').text(path);
        $('#insert_ussd_message').load("insertussdmsg.php",path);
        return true;
      }
    }

    function reportUssd(){
        var url = "reportUSSD.php";
        var path = "";
        var divid = "#alter";
        <?php  
         $access = "create";
         $objects = "COMMUNICATION USSD";

         $rolls =  check_rolls($usertype,$access,$objects);
        ?>
         checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

    function searchReportUssd(){
      
      var a = $('#report_ussd_search').serialize();
      var path = a;
      // alert(path);
      var url = "reportUSSDdets.php";
      var divid = "#alter";
         <?php   
          $access = "search";   //not yet edit
          $objects = "ICC REEMBERSEMENT";  //not yet edit
          
          $rolls =  check_rolls($usertype,$access,$objects); 
         ?>
          checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

    function sendUssd(){
        var url = "sendUSSD.php";
        var path = "";
        var divid = "#alter";
        <?php  
         $access = "create";
         $objects = "COMMUNICATION USSD";

         $rolls =  check_rolls($usertype,$access,$objects);
        ?>
         checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

    function sendUSSD_dets(campaign_name){
         var send_data = "&campaign_name="+campaign_name;

          $.ajax({
              type: 'post',
              url: 'sendUSSD_dets.php',
              data: send_data,
              async: false,
              beforeSend: function() {

              },
              complete: function() {

              },
              success: function(result) {
                $('#error_message_sendUSSD').css('display','block');
                $('#error_message_sendUSSD').html("Sending Success");
                $("#eedit"+campaign_name).attr('disabled', 'disabled');
                $('#id'+campaign_name).css('display','none');
              }

          }); 
    }
//END USSD

//START BNI AGENT MT
function bniAgentsMT()
    {
        var url = "bniAgentMT.php";
        var path= "";
        var divid = "#alter";
      <?php  
       $access = "search";
       $objects = "ECOMMERCE";

       $rolls =  check_rolls($usertype,$access,$objects);
      ?>
       checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

function agentDetailsMT()
    { 
           var mobile_no = $("#mobile_no").val();
           var kcp_id = $("#kcp_id").val();
           var processstatus = $("#processstatus").val();
           var from_date = $("#from_date").val();
            var to_date = $("#to_date").val();
              
         var path = "&kcp_id="+kcp_id+"&mobile_no="+mobile_no+"&processstatus="+processstatus+"&from_date="+from_date+"&to_date="+to_date;
         $('#alter').load("agentMTdetails.php",path);
       
    }

function approveAgentMT(id,status){

    // alert('alo');
    var send_data = "&id="+id+"&status="+status;
    $.ajax({
        type: 'post',
        url: 'updateAgentMT.php',
        data: send_data,
        async: false,
        beforeSend: function() {

        },
        complete: function() {

        },
        success: function(result) {
          if(result == 'approve_success' || result == 'reject_success'){
            $('#message_agentMT').css('display','block');
            $('#message_agentMT').html("Agent status updated successfully");
            $('.btn_approve'+id).attr('disabled','disabled');
            $('.btn_reject'+id).attr('disabled','disabled');
            setTimeout(function(){ agentDetailsMT(); },1000);
          }else if(result == 'agent_full'){
            $('#message_agentMT').css('display','block');
            $('#message_agentMT').html("agent full");
          }else if(result == 'approve_failed'){
            $('#message_agentMT').css('display','block');
            $('#message_agentMT').html("Agent status update failed");
          }
          // alert(result);
        }

    });
}

function viewBniAgentMT(bniagentid,status)
{
    var url = "viewBniAgentMT.php";
    var path = "agentid="+bniagentid+"&status="+status;
    var divid = "#popup_billprocess";
    // var divid = "#alter";
    var width = 1100;
    var height = 670;
    var title = 'Agent Details.';
    // alert(bniagentid);
    <?php
    $access = "view";
    $objects = "ECOMMERCE IPEX ORDERS";
    $rolls = check_rolls($usertype, $access, $objects);
    ?>
      $('.search_table2 tr.buslayout').remove();
    checkaunthentic_popup(url,path,divid,"<?php echo $rolls; ?>",width,height,title);
    // checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
}
//END BNI AGENT MT

//START MONITORING
    function monitoringTrend(){
        var url = "pivotnew.html.php";
        var path = "";
        var divid = "#alter";
        <?php  
         $access = "create";
         $objects = "COMMUNICATION USSD";

         $rolls =  check_rolls($usertype,$access,$objects);
        ?>
         checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

    function hdDashboardMonitoring(){
        var url = "helpdeskdashboard.php";
        var path = "";
        var divid = "#alter";
        <?php  
         $access = "create";
         $objects = "COMMUNICATION USSD";

         $rolls =  check_rolls($usertype,$access,$objects);
        ?>
         checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

    function dashboardMonitoring(){
        var url = "ipaybusinessdashboard.php";
        var path = "";
        var divid = "#alter";
        <?php  
         $access = "create";
         $objects = "COMMUNICATION USSD";

         $rolls =  check_rolls($usertype,$access,$objects);
        ?>
         checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

    function ecomMonitoring(){
        var url = "ipayecommercedashboard.php";
        var path = "";
        var divid = "#alter";
        <?php  
         $access = "create";
         $objects = "COMMUNICATION USSD";

         $rolls =  check_rolls($usertype,$access,$objects);
        ?>
         checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

    function ccMonitoring(){
        var url = "CCdashboarddetails.php";
        var path = "";
        var divid = "#alter";
        <?php  
         $access = "create";
         $objects = "COMMUNICATION USSD";

         $rolls =  check_rolls($usertype,$access,$objects);
        ?>
         checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

    function hdDash_boardMonitoring(){
        var url = "Helpdeskdashboarddetails.php";
        var path = "";
        var divid = "#alter";
        <?php  
         $access = "create";
         $objects = "COMMUNICATION USSD";

         $rolls =  check_rolls($usertype,$access,$objects);
        ?>
         checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

    function supportMonitoring(){
        var url = "SopDocument.html";
        var path = "";
        var divid = "#alter";
        <?php  
         $access = "create";
         $objects = "COMMUNICATION USSD";

         $rolls =  check_rolls($usertype,$access,$objects);
        ?>
         checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }

    function ecomEcom(){
        var url = "wholesale_group2.php";
        var path = "";
        var divid = "#alter";
        <?php  
         $access = "create";
         $objects = "COMMUNICATION USSD";

         $rolls =  check_rolls($usertype,$access,$objects);
        ?>
         checkaunthentic(url,path,divid,"<?php echo $rolls; ?>");
    }
//END MONITORING
    </script>


